<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EasyLink Layer &mdash; 
SimpleLink™ CC2640R2 SDK
Proprietary RF User&#39;s Guide
 2.70.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="debugging-index.html" />
    <link rel="prev" title="Time synchronization over the air" href="../proprietary-rf/time-synchronization.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug proprietary-rf-guide easylink-index";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index-cc2640.html" class="icon icon-home"> 
SimpleLink™ CC2640R2 SDK
Proprietary RF User's Guide

          </a>
              <div class="version">
                2.70.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart-cc2640.html">Proprietary RF Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="index-platform-cc2640.html">The SimpleLink CC2640R2 SDK Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples-cc2640.html">Examples User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-hardware.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="tirtos-index.html">TI-RTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="nortos-index.html">noRTOS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="rf-core-index.html">RF Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="proprietary-rf-index-cc2640.html">Proprietary Physical Layer</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">EasyLink Layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#general-behavior">General Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-functions">Supported Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ezlinkprop-890-workaround">EZLINKPROP-890 Workaround</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exporting-commands-from-smartrf-studio">1) Exporting Commands from SmartRF Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-project-to-use-exported-settings">2) Update Project to use Exported Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-easylink">3) Update EasyLink</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#frame-structure">Frame Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc2640/oad-easylink/oad.html">Over the Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration-cc2640.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-cc2640.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary-cc2640.html">Terms and acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-cc2640.html">
SimpleLink™ CC2640R2 SDK
Proprietary RF User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index-cc2640.html" class="icon icon-home"></a> &raquo;</li>
      <li>EasyLink Layer</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="easylink-layer">
<span id="easylink-chapter"></span><h1>EasyLink Layer<a class="headerlink" href="#easylink-layer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The EasyLink API is a simple abstraction layer on top of the RF Driver and is
intended as a starting point for customers creating a proprietary Sub-1 GHz
protocol. The EasyLink layer does not support any regional RF conformance such as
Listen Before Talk required for the license free frequency band. Customers need
to add support for the regional conformance that their product requires under the
EasyLink API.</p>
<p>The EasyLink Example can be found in the <code class="docutils literal notranslate"><span class="pre">examples/{rtos</span> <span class="pre">or</span> <span class="pre">nortos}/{development</span>
<span class="pre">board}/easylink</span></code> folder. You can find descriptions of the examples in the
<a class="reference internal" href="examples-cc2640.html#prop-examples-guide"><span class="std std-ref">Examples User’s Guide</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that this is an example code, intended to be used as a starting point
to develop custom application for specific use-cases and protocols. Security
features are not a part of these examples and have to be designed by the
customer if needed.</p>
</div>
<p>The EasyLink layer also supports a simple network processor configuration. This
is showcased in the EasyLink Network Processor (NP) example project. Here, the
EasyLink API has been exposed over an AT Command Interface such that it can be
used by Host SW (running on a PC, MPU or MCU), or by using a serial terminal
emulator over a UART. The specific commands can be found in the <a class="reference external" href="../../../../examples/rtos/CC2640R2_LAUNCHXL/easylink/rfEasyLinkNp/README.html">rfEasyLinkNp</a>.</p>
<p>The EasyLink API should be used in application code. The EasyLink API is
intended to abstract the RF Driver in order to give a simple API as a starting
point for customers to develop their application use cases.</p>
<p>For API descriptions, see the <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#easylink-api"><span class="std std-ref">EasyLink API Reference</span></a>.</p>
</div>
<div class="section" id="general-behavior">
<h2>General Behavior<a class="headerlink" href="#general-behavior" title="Permalink to this headline">¶</a></h2>
<p>Before using the EasyLink API the EasyLink Layer is initialized by calling
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_init" title="EasyLink_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_init()</span></code></a>. This initializes and opens the RF driver and
configures the modulation scheme passed to EasyLink_init.</p>
<p>RX is enabled by calling
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receive" title="EasyLink_receive"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receive()</span></code></a> or <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receiveAsync" title="EasyLink_receiveAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receiveAsync()</span></code></a>. Entering RX can
be immediate or scheduled by using the <code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_RxPacket::absTime</span></code> field.
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receive" title="EasyLink_receive"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receive()</span></code></a> is blocking and <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receiveAsync" title="EasyLink_receiveAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receiveAsync()</span></code></a> is
nonblocking. The EasyLink API does not queue messages so calling another API
function while in EasyLink_receiveAsync() will return
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Busy_Error" title="EasyLink_Status_Busy_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Busy_Error</span></code></a>. An Asynchronous Rx operation can be canceled with
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_abort" title="EasyLink_abort"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_abort()</span></code></a>.</p>
<p>TX is enabled by calling <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmit" title="EasyLink_transmit"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmit()</span></code></a> or <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmitAsync" title="EasyLink_transmitAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmitAsync()</span></code></a>.
TX can be immediate or scheduled by using the <code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_TxPacket::absTime</span></code> field.
<a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmit" title="EasyLink_transmit"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmit()</span></code></a> is blocking and <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmitAsync" title="EasyLink_transmitAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmitAsync()</span></code></a>
is nonblocking. The EasyLink API does not queue messages so calling another API
function while in <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmitAsync" title="EasyLink_transmitAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmitAsync()</span></code></a> will return <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Busy_Error" title="EasyLink_Status_Busy_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Busy_Error</span></code></a>
An Asynchronous operation can be canceled with <a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_abort" title="EasyLink_abort"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_abort()</span></code></a>.</p>
</div>
<div class="section" id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>The EasyLink API will return EasyLink_Status containing success or error
code.</p>
<p>The EasyLink_Status code are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Success" title="EasyLink_Status_Success"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Success</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Config_Error" title="EasyLink_Status_Config_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Config_Error</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Param_Error" title="EasyLink_Status_Param_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Param_Error</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Mem_Error" title="EasyLink_Status_Mem_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Mem_Error</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Cmd_Error" title="EasyLink_Status_Cmd_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Cmd_Error</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Tx_Error" title="EasyLink_Status_Tx_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Tx_Error</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Rx_Error" title="EasyLink_Status_Rx_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Rx_Error</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Rx_Timeout" title="EasyLink_Status_Rx_Timeout"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Rx_Timeout</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Busy_Error" title="EasyLink_Status_Busy_Error"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Busy_Error</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_Status.EasyLink_Status_Aborted" title="EasyLink_Status_Aborted"><code class="xref c c-type docutils literal notranslate"><span class="pre">EasyLink_Status_Aborted</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="supported-functions">
<h2>Supported Functions<a class="headerlink" href="#supported-functions" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 45%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Generic API function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_init" title="EasyLink_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_init()</span></code></a></p></td>
<td><p>Inits and opens the RF driver and configures the
specified modulation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmit" title="EasyLink_transmit"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmit()</span></code></a></p></td>
<td><p>Blocking Transmit</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_transmitAsync" title="EasyLink_transmitAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_transmitAsync()</span></code></a></p></td>
<td><p>Nonblocking Transmit</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receive" title="EasyLink_receive"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receive()</span></code></a></p></td>
<td><p>Blocking Receive</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_receiveAsync" title="EasyLink_receiveAsync"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_receiveAsync()</span></code></a></p></td>
<td><p>Nonblocking Receive</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../easylink/easylink-api-reference-cc2640.html#c.EasyLink_abort" title="EasyLink_abort"><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_abort()</span></code></a></p></td>
<td><p>Aborts a non blocking call</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_EnableRxAddrFilter()</span></code></p></td>
<td><p>Enables/Disables RX filtering on the Addr</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_GetIeeeAddr()</span></code></p></td>
<td><p>Gets the IEEE Address</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_SetFreq()</span></code></p></td>
<td><p>Sets the frequency</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_GetFreq()</span></code></p></td>
<td><p>Gets the frequency</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_SetRfPwr()</span></code></p></td>
<td><p>Sets the Tx Power</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref c c-func docutils literal notranslate"><span class="pre">EasyLink_GetRfPwr()</span></code></p></td>
<td><p>Gets the Tx Power</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ezlinkprop-890-workaround">
<h2>EZLINKPROP-890 Workaround<a class="headerlink" href="#ezlinkprop-890-workaround" title="Permalink to this headline">¶</a></h2>
<p>Currently there is a known issue (EZLINKPROP-890) that causes all existing PHYs
to be affected when exporting custom settings using SmartRF Studio. The custom
settings are only meant to affect the “Custom” EasyLink PHY however,
each pre-defined PHY currently shares TX and advanced RX commands with the
custom settings. A three step workaround to this issue follows below.</p>
<div class="section" id="exporting-commands-from-smartrf-studio">
<h3>1) Exporting Commands from SmartRF Studio<a class="headerlink" href="#exporting-commands-from-smartrf-studio" title="Permalink to this headline">¶</a></h3>
<p>EasyLink requires an advanced RX command to support address filtering and clear
channel assessment. This command is not exported by default for EasyLink
supported PHYs via SmartRF Studio. To export the command:</p>
<ol class="arabic simple">
<li><p>After selecting and modifying a desired PHY in SmartRF Studio, click “Code Export”.</p></li>
<li><p>Select the “Command” view from the upper left corner of the pane that pops-up.</p></li>
<li><p>Check the “Select commands individually” checkbox.</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV</span></code> and click the “&gt;” arrow to add it to the list of exported commands.</p></li>
<li><p>Save the generated files.</p></li>
</ol>
</div>
<div class="section" id="update-project-to-use-exported-settings">
<h3>2) Update Project to use Exported Settings<a class="headerlink" href="#update-project-to-use-exported-settings" title="Permalink to this headline">¶</a></h3>
<p>In your project there will be two sets of SmartRF Settings;
<code class="docutils literal notranslate"><span class="pre">smartrf_settings_predefined.c/h</span></code> and <code class="docutils literal notranslate"><span class="pre">smartrf_settings.c/h</span></code>. The
pre-defined settings are used for all PHYs except the “Custom” EasyLink PHY
whereas the non-prefined settings are used for the “Custom” PHY. The following
modifications are needed to these files:</p>
<ol class="arabic simple">
<li><p>Open the contents of the original <code class="docutils literal notranslate"><span class="pre">smartrf_settings.c</span></code> and copy the entirety of the <code class="docutils literal notranslate"><span class="pre">rfc_CMD_PROP_TX_t</span></code> command.</p></li>
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">smartrf_settings_predefined.c</span></code> file and paste the copied <code class="docutils literal notranslate"><span class="pre">rfc_CMD_PROP_TX_t</span></code> command at the bottom of the file.</p></li>
<li><p>Rename the pasted <code class="docutils literal notranslate"><span class="pre">rfc_CMD_PROP_TX_t</span></code> command to <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">RF_cmdPropTx</span></code> to  <code class="docutils literal notranslate"><span class="pre">RF_cmdPropTx_preDef</span></code>.</p></li>
<li><p>Open smartrf_settings_predefined.h and add <code class="docutils literal notranslate"><span class="pre">extern</span> <span class="pre">rfc_CMD_PROP_TX_t</span> <span class="pre">RF_cmdPropTx_preDef;</span></code> to the list of extern variables.</p></li>
<li><p>Overwrite the contents of the original smartrf_settings.c/h files with the recently exported SmartRF Studio files.</p></li>
</ol>
</div>
<div class="section" id="update-easylink">
<h3>3) Update EasyLink<a class="headerlink" href="#update-easylink" title="Permalink to this headline">¶</a></h3>
<p>EasyLink uses an array of “EasyLink_RfSetting” to access the individual RF
commands for each PHY. This needs to be updated to use the recent changes made
to the smartrf_settings files. In addition, the EasyLink source code needs to
be modified for the recently exported advanced rx command to use the correct
sync word:</p>
<ol class="arabic simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">easylink_config.c</span></code> and locate the <code class="docutils literal notranslate"><span class="pre">EasyLink_supportedPhys</span></code> array. Each individual PHY is surrounded by a guard macro indicating the PHY type.</p></li>
<li><p>Locate the Custom PHY and modify the <code class="docutils literal notranslate"><span class="pre">RF_pCmdPropRxAdv</span></code> element to: <code class="docutils literal notranslate"><span class="pre">.RF_pCmdPropRxAdv</span> <span class="pre">=</span> <span class="pre">&amp;RF_cmdPropRxAdv,</span></code>.</p></li>
<li><p>Update all other <code class="docutils literal notranslate"><span class="pre">RF_pCmdPropTx</span></code> elements to <code class="docutils literal notranslate"><span class="pre">RF_cmdPropTx_preDef</span></code> except the Custom PHY: <code class="docutils literal notranslate"><span class="pre">.RF_pCmdPropTx</span> <span class="pre">=</span> <span class="pre">&amp;RF_cmdPropTx_preDef,</span></code>.</p></li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">EasyLink.c</span></code> or <code class="docutils literal notranslate"><span class="pre">EasyLink_nortos.c</span></code> depending on the projects RTOS support.</p></li>
<li><p>Find the <code class="docutils literal notranslate"><span class="pre">EasyLink_init()</span></code> function implementation and the lines of code modifying elements of the <code class="docutils literal notranslate"><span class="pre">EasyLink_cmdPropRxAdv</span></code> structure.</p></li>
<li><p>After the last line modifying this structure add the code snippet below. This will force the advanced RX command to use the same sync word as the TX command that was recently exported from SmartRF Studio:</p></li>
</ol>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="n">EasyLink_Phy_Custom</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">EasyLink_params</span><span class="p">.</span><span class="n">ui32ModType</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">EasyLink_cmdPropRxAdv</span><span class="p">.</span><span class="n">syncWord0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EasyLink_cmdPropTxAdv</span><span class="p">.</span><span class="n">syncWord</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="frame-structure">
<h2>Frame Structure<a class="headerlink" href="#frame-structure" title="Permalink to this headline">¶</a></h2>
<p>The EasyLink implements a basic header for transmitting and receiving data. This header supports
addressing for a star or point-to-point network with acknowledgments.</p>
<p>Packet structure:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 35%" />
<col style="width: 45%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>1B Length</p></td>
<td><p>1-64b Dst Address</p></td>
<td><p>Payload</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../proprietary-rf/time-synchronization.html" class="btn btn-neutral float-left" title="Time synchronization over the air" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging-index.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>