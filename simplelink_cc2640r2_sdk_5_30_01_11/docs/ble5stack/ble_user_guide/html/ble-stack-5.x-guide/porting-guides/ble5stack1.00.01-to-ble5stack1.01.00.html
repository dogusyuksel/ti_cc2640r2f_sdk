<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BLE5-Stack 1.00.01 to BLE5-Stack 1.01.00 &mdash; 
SimpleLink™ CC2640R2 SDK
BLE5-Stack User&#39;s Guide
 1.01.15.00 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BLE5-Stack 1.01.09 (SDK 4.10) to BLE5-Stack 1.01.13 (SDK 5.10)" href="ble5stack1.01.09-to-ble5stack1.01.13.html" />
    <link rel="prev" title="BLE5-Stack 1.01.00 to BLE5-Stack 1.01.02" href="ble5stack1.01.00-to-ble5stack1.01.02.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug ble-stack-5.x-guide porting-guides ble5stack1.00.01-to-ble5stack1.01.00";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index-cc2640.html" class="icon icon-home"> 
SimpleLink™ CC2640R2 SDK
BLE5-Stack User's Guide

          </a>
              <div class="version">
                1.01.15.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart-guide/ble5-quick-start-cc2640.html">TI BLE5-Stack Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tirtos-index.html">TI-RTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5-index-cc2640.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5-index-cc2640.html#ble5-stack">BLE5-Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5-index-cc2640.html#developing-a-custom-application">Developing a Custom Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5-index-cc2640.html#running-the-sdk-on-custom-hardware">Running the SDK on Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../voice/voice.html">Creating a Voice Enabled Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ble-stack-common/npi-index.html">Network Processor Interface (NPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sensor-controller/sensor-controller.html">Sensor Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory-index.html">Memory overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../migration-cc2640.html">Updating from previous SDKs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../migration-cc2640.html#porting-guides">Porting Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.13-to-ble5stack1.01.14.html">BLE5-Stack 1.01.13 (SDK 5.10) to BLE5-Stack 1.01.14 (SDK 5.30)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.12-to-ble5stack1.01.13.html">BLE5-Stack 1.01.12 (SDK 4.40) to BLE5-Stack 1.01.13 (SDK 5.10)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.11-to-ble5stack1.01.12.html">BLE5-Stack 1.01.11 (SDK 4.30) to BLE5-Stack 1.01.12 (SDK 4.40)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.09-to-ble5stack1.01.11.html">BLE5-Stack 1.01.09 (SDK 4.10) to BLE5-Stack 1.01.11 (SDK 4.30)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.08-to-ble5stack1.01.09.html">BLE5-Stack 1.01.08 (SDK 3.40) to BLE5-Stack 1.01.09 (SDK 4.10)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.07-to-ble5stack1.01.08.html">BLE5-Stack 1.01.07 (SDK 3.30) to BLE5-Stack 1.01.08 (SDK 3.40)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.06-to-ble5stack1.01.07.html">BLE5-Stack 1.01.06 (SDK 3.20) to BLE5-Stack 1.01.07 (SDK 3.30)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.05-to-ble5stack1.01.06.html">BLE5-Stack 1.01.05 (SDK 3.10) to BLE5-Stack 1.01.06 (SDK 3.20)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.04-to-ble5stack1.01.05.html">BLE5-Stack 1.01.04 (SDK 2.40) to BLE5-Stack 1.01.05 (SDK 3.10)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.03-to-ble5stack1.01.04.html">BLE5-Stack 1.01.03 (SDK 2.30) to BLE5-Stack 1.01.04 (SDK 2.40)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.02-to-ble5stack1.01.03.html">BLE5-Stack 1.01.02 (SDK 2.20) to BLE5-Stack 1.01.03 (SDK 2.30)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ble5stack1.01.00-to-ble5stack1.01.02.html">BLE5-Stack 1.01.00 to BLE5-Stack 1.01.02</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">BLE5-Stack 1.00.01 to BLE5-Stack 1.01.00</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#project-configuration-changes">Project Configuration Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#project-application-changes">Project Application Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#appendix-translation-tables">Appendix - Translation Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../migration-cc2640.html#year-to-year-migration-guides">Year-to-Year Migration Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration-cc2640.html#migration-guides">Migration Guides</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference-cc2640.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference-cc2640.html">Terms and Definitions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index-cc2640.html">
SimpleLink™ CC2640R2 SDK
BLE5-Stack User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index-cc2640.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../migration-cc2640.html">Updating from previous SDKs</a> &raquo;</li>
      <li>BLE5-Stack 1.00.01 to BLE5-Stack 1.01.00</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="ble5-stack-1-00-01-to-ble5-stack-1-01-00">
<h1>BLE5-Stack 1.00.01 to BLE5-Stack 1.01.00<a class="headerlink" href="#ble5-stack-1-00-01-to-ble5-stack-1-01-00" title="Permalink to this headline">¶</a></h1>
<p>This section will describe a way to migrate a project from BLE5-Stack 1.00.01 to
a BLE5-Stack 1.01.00. This approach will be modifying an existing project’s
configuration to utilize BLE5-Stack 1.01.00 libraries, tools, and code.</p>
<p>Once the project is converted to use the updated libraries, tools, and
code of BLE5-Stack 1.01.00, the application then must be engineered to
account for various API changes. This guide will contain API translation
tables as well as tips to aide in the transition to BLE5-Stack 1.01.00.</p>
<p>For this migration guide, simple_peripheral from BLE5-Stack 1.00.01 will be ported
to BLE5-Stack 1.01.00. Utilize the IDE and Tools recommended by BLE5-Stack release notes.</p>
<p>Once project configurations are updated, follow same building procedure
used prior to the port. It is assumed the latest SDK has already been
installed, see <a class="reference external" href="http://www.ti.com/tool/SIMPLELINK-CC2640R2-SDK">SimpleLink SDKs</a>.</p>
<p>When applicable, this section will use simple_peripheral from BLE5-Stack 1.00.01
as an example when porting to BLE5-Stack 1.01.00.</p>
<p>For API Descriptions see <a class="reference internal" href="../api-reference-cc2640.html#ble-api-reference"><span class="std std-ref">BLE Stack API Reference</span></a></p>
<p>Table of Contents:</p>
<ul>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config"><span class="std std-ref">Project Configuration Changes</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-ccs-stack"><span class="std std-ref">CCS Stack Project</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-ccs-app"><span class="std std-ref">CCS Application Project</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-iar-config"><span class="std std-ref">IAR Common Project Configuration Changes</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-iar-stack"><span class="std std-ref">IAR Stack Project</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-iar-app"><span class="std std-ref">IAR Application Project</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-app"><span class="std std-ref">Project Application Changes</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-app-buildconfig"><span class="std std-ref">Stack Build Configuration File</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-app-gaprole"><span class="std std-ref">GAP Role Changes</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-app-gatt"><span class="std std-ref">GATT Profile Changes</span></a></p></li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-config-app-gapbondmgr"><span class="std std-ref">GAP Bond Manager Changes</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#sec-porting-1-0-1-to-1-1-0-project-translation-tables"><span class="std std-ref">Appendix - Translation Tables</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#tbl-ble5-porting-gaprole-changes"><span class="std std-ref">GAP Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-gapbondmgr-changes"><span class="std std-ref">GAP Bond Manager Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-gapgattserver-changes"><span class="std std-ref">GAP GATT Server Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-linkdb-changes"><span class="std std-ref">Link Database Changes</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="project-configuration-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config"></span><h2>Project Configuration Changes<a class="headerlink" href="#project-configuration-changes" title="Permalink to this headline">¶</a></h2>
<p>Project configuration needs to be updated in order to utilize the latest
tools, code, and libraries. This section describes the changes necessary
in order to do so in a IDE specific way.</p>
<div class="section" id="ccs-stack-project">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-ccs-stack"></span><h3>CCS Stack Project<a class="headerlink" href="#ccs-stack-project" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Updating XDC Tools to Version 3.50.3.33</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select General from the Navigation Tree</p></li>
<li><p>Select Products Tab</p></li>
<li><p>Select XDCtools version 3.50.3.33_core (Latest)</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id4">
<span id="fig-updating-xdctools"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-updating-xdctools.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-updating-xdctools.png" />
<p class="caption"><span class="caption-number">Figure 138. </span><span class="caption-text">CCS Updating XDC Tools Visual Instructions</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>This will update the <code class="docutils literal notranslate"><span class="pre">XDC_CG_ROOT</span></code> path variable to utilize the latest
version of XDCtools.</p>
</div></blockquote>
</li>
<li><p>Select BLE5-Stack 1.01.00</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select General from the Navigation Tree</p></li>
<li><p>Select Products Tab</p></li>
<li><p>Select SimpleLink CC2640R2 SDK version containing BLE5-Stack 1.01.00</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id5">
<span id="fig-updating-ble-stack"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-updating-ble-stack.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-updating-ble-stack.png" />
<p class="caption"><span class="caption-number">Figure 139. </span><span class="caption-text">CCS Updating BLE5-Stack Visual Instructions</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>This will update the <code class="docutils literal notranslate"><span class="pre">COM_TI_SIMPLELINK_CC2640R2_SDK_INSTALL_DIR</span></code> path
variable to utilize the SDK containing BLE5-Stack 1.01.00.</p>
<p>The path variables <code class="docutils literal notranslate"><span class="pre">SRC_BLE_DIR</span></code> and <code class="docutils literal notranslate"><span class="pre">TOOLS_BLE_DIR</span></code> will automatically
be updated to point to the BLE5-Stack 1.01.00 version of tools and code.</p>
</div></blockquote>
</li>
<li><p>Update lib_search tool to correctly pull in the proper libraries</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic">
<li><p>Select Build from the Navigation Tree</p></li>
<li><p>Select Steps Tab</p></li>
<li><p>Modify the prebuild step from</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>${TOOLS_BLE_DIR}/lib_search/lib_search         ${PROJECT_LOC}/TOOLS/build_config.opt         ${SRC_BLE_DIR}/blelib         ${PROJECT_LOC}/FlashROM_Library/lib_linker.cmd         cc2640         ${TOOLS_BLE_DIR}/lib_search/lib_search.xml         ${SRC_BLE_DIR}/symbols
</pre></div>
</div>
<p>to the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>${TOOLS_BLE_DIR}/lib_search/lib_search         --opt ${PROJECT_LOC}/TOOLS/build_config.opt         --lib-dir ${SRC_BLE_DIR}/blelib/cc26x0r2         --cmd ${PROJECT_LOC}/FlashROM_Library/lib_linker.cmd         --xml ${TOOLS_BLE_DIR}/lib_search/lib_search.xml         --sym-dir ${SRC_BLE_DIR}/symbols/cc26x0r2
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id6">
<span id="fig-updating-pre-build"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-changing-prebuild-steps.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-changing-prebuild-steps.png" />
<p class="caption"><span class="caption-number">Figure 140. </span><span class="caption-text">CCS Updating Pre-Build Visual Instructions</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>This change accounts for updates to the lib_search tool’s argument variables.</p>
</div></blockquote>
</li>
<li><p>Update include path for Controller files</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select Build -&gt; ARM Compiler -&gt; Include Options in the Navigation Tree</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/controller/cc26xx_r2/inc</span></code> include path</p></li>
<li><p>Modify the path by double clicking or pressing ‘Edit’</p></li>
<li><p>Change to <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/controller/cc26xx/inc</span></code> (remove _r2)</p></li>
<li><p>Save Changes</p></li>
</ol>
<p>See <a class="reference internal" href="#fig-updating-change-include-path"><span class="std std-ref">CCS Updating Include Path Visual Instructions</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The include path <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/profiles/roles</span></code> can safely be removed.</p>
</div>
<p>The path to controller files have changed. In order include these files, a
include path needs to be updated.</p>
</div></blockquote>
</li>
<li><p>Update source references for Controller and GAP</p>
<blockquote>
<div><p>Due to path changes for several key files, the virtual links within
the project need to be updated to properly find files.</p>
<p>The files which have been moved are located in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>C:\ti\simplelink_cc2640r2_sdk_1_50_00_06\source\ti\ble5stack\controller\cc26xx\inc

C:\ti\simplelink_cc2640r2_sdk_1_50_00_06\source\ti\ble5stack\host
</pre></div>
</div>
<p>Namely, controller files and GAP related files.</p>
<p>Examples are <code class="docutils literal notranslate"><span class="pre">ll.h</span></code> located in the <code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code> folder, and <code class="docutils literal notranslate"><span class="pre">gap.c</span></code>,
<code class="docutils literal notranslate"><span class="pre">gapbondmgr.c</span></code>, and <code class="docutils literal notranslate"><span class="pre">gapbondmgr.h</span></code> located in the <code class="docutils literal notranslate"><span class="pre">PROFILES</span></code> folder.</p>
<p>Open the properties of a resource file of the stack project.</p>
<ol class="arabic simple">
<li><p>Select Resource in the Navigation Tree</p></li>
<li><p>Click Edit next to the Location field</p></li>
<li><p>Modify location to match the resource’s actual location</p></li>
<li><p>Confirm Changes</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id7">
<span id="fig-updating-changing-virtual"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-changing-virtual-link.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-changing-virtual-link.png" />
<p class="caption"><span class="caption-number">Figure 141. </span><span class="caption-text">CCS Updating Pre-Build Visual Instructions</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>This change allows the compiler to correctly resolve locations
of moved files.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="ccs-application-project">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-ccs-app"></span><h3>CCS Application Project<a class="headerlink" href="#ccs-application-project" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Updating XDC Tools to Version 3.50.3.33 and BLE5-Stack to 1.01.00</p>
<blockquote>
<div><p>Open Project Properties of the application project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select General from the Navigation Tree</p></li>
<li><p>Select Products Tab</p></li>
<li><p>Select XDCtools version 3.50.3.33_core (Latest)</p></li>
<li><p>Select SimpleLink CC2640R2 SDK version containing BLE5-Stack 1.01.00</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="fig-checking-updating-app-stack-xdc">
<img alt="../../_images/1.0.1-to-1.1.0-porting-guide-updating-xdc-and-ble5stack.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-updating-xdc-and-ble5stack.png" />
</div>
<p>This will update the <code class="docutils literal notranslate"><span class="pre">XDC_CG_ROOT</span></code> path variable to utilize the latest
version of XDCtools.</p>
<p>This will update the <code class="docutils literal notranslate"><span class="pre">COM_TI_SIMPLELINK_CC2640R2_SDK_INSTALL_DIR</span></code> path
variable to utilize the SDK containing BLE5-Stack 1.01.00.</p>
</div></blockquote>
</li>
<li><p>Update include path for Controller files</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select Build -&gt; ARM Compiler -&gt; Include Options in the Navigation Tree</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/controller/cc26xx_r2/inc</span></code> include path</p></li>
<li><p>Modify the path by double clicking or pressing ‘Edit’</p></li>
<li><p>Change to <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/controller/cc26xx/inc</span></code> (remove _r2)</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id8">
<span id="fig-updating-change-include-path"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-changing-include-path.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-changing-include-path.png" />
<p class="caption"><span class="caption-number">Figure 142. </span><span class="caption-text">CCS Updating Include Path Visual Instructions</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The include path <code class="docutils literal notranslate"><span class="pre">${SRC_BLE_DIR}/profiles/roles</span></code> can safely be removed.</p>
</div>
<p>The path to controller files have changed, this change
updates the include path.</p>
</div></blockquote>
</li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">USE_CORE_SDK</span></code> to Predefined Symbols</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic simple">
<li><p>Select Build -&gt; ARM Compiler -&gt; Predefined Symbols</p></li>
<li><p>Click Add to enter another Symbol</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">USE_CORE_SDK</span></code> predefined symbol</p></li>
<li><p>Confirm</p></li>
<li><p>Save Changes</p></li>
</ol>
<div class="figure align-center" id="id9">
<span id="fig-adding-predefined-symbol"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-adding-preprocessor-define.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-adding-preprocessor-define.png" />
<p class="caption"><span class="caption-number">Figure 143. </span><span class="caption-text">CCS Adding Preprocessor Symbols Visual Instructions</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>This will allow correct resolution of middle ware drivers by the compiler.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="iar-common-project-configuration-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-iar-config"></span><h3>IAR Common Project Configuration Changes<a class="headerlink" href="#iar-common-project-configuration-changes" title="Permalink to this headline">¶</a></h3>
<p>Since both the application and stack project utilize a common custom
argument variable file, only this file needs to be configured to
point to the correct stack and tools.</p>
<ol class="arabic">
<li><p>Modifying Custom Argument Variables for BLE5-Stack 1.01.00 and XDCtools 3.50.3.33_core</p>
<blockquote>
<div><ol class="arabic">
<li><p>Click Tools from the Toolbar</p></li>
<li><p>Select Configure Custom Argument Variable item</p>
<blockquote>
<div><div class="figure align-center" id="fig-iar-selecting-custom-arg-vars">
<img alt="../../_images/1.0.1-to-1.1.0-porting-guide-selecting-custom-args-menu.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-selecting-custom-args-menu.png" />
</div>
</div></blockquote>
</li>
<li><p>Expand the <code class="docutils literal notranslate"><span class="pre">SIMPLELINK_CC2640R2_SRC_SDK</span></code> Heading</p></li>
<li><p>Modify <code class="docutils literal notranslate"><span class="pre">SIMPLELINK_CORE_SDK_INSTALL_DIR</span></code> to path of SDK containing BLE5-Stack 1.01.00</p></li>
<li><p>Modify <code class="docutils literal notranslate"><span class="pre">XDCROOT</span></code> to path of XDCtools 3.50.3.33_core</p></li>
<li><p>Save Changes</p>
<blockquote>
<div><div class="figure align-center" id="id10">
<span id="fig-iar-custom-arg-vars"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-ble5-custom-argument-variables.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-ble5-custom-argument-variables.png" />
<p class="caption"><span class="caption-number">Figure 144. </span><span class="caption-text">IAR Changing Argument Variables</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p>Re-launch IAR Embedded Workbench</p>
<blockquote>
<div><p>This will refresh all file references to use BLE5-Stack 1.01.00 and
XDCtools 3.50.3.33_core.</p>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="iar-stack-project">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-iar-stack"></span><h3>IAR Stack Project<a class="headerlink" href="#iar-stack-project" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Modifying Include Path and Preprocessor Defines</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic">
<li><p>Select C/C++ Compiler from the navigation tree</p></li>
<li><p>Select Preprocessor Tab</p></li>
<li><p>Modify include paths to point to correct directory</p>
<blockquote>
<div><p>Change <code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\controller\cc26xx_r2\inc</span></code> to
<code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\controller\cc26xx\inc</span></code></p>
</div></blockquote>
</li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">USE_CORE_SDK</span></code> to Defined Symbols</p></li>
<li><p>Save changes</p>
<blockquote>
<div><div class="figure align-center" id="id11">
<span id="fig-iar-include-paths-defines"></span><img alt="../../_images/1.0.1-to-1.1.0-porting-guide-iar-changing-preprocessor-include-paths.png" src="../../_images/1.0.1-to-1.1.0-porting-guide-iar-changing-preprocessor-include-paths.png" />
<p class="caption"><span class="caption-number">Figure 145. </span><span class="caption-text">IAR Changing Include Paths</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The include path <code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\profiles\roles</span></code> can be safely removed</p>
</div>
</div></blockquote>
</li>
<li><p>Remove old referenced files</p>
<blockquote>
<div><p>Remove <code class="docutils literal notranslate"><span class="pre">Profiles/gap.c</span></code>, <code class="docutils literal notranslate"><span class="pre">Profiles/gapbondmgr.h</span></code>, <code class="docutils literal notranslate"><span class="pre">Profiles/gapbondmgr.c</span></code></p>
<p>These files have been moved, and these old project links will be using the old location.</p>
</div></blockquote>
</li>
<li><p>Add new files from proper locations</p>
<blockquote>
<div><p>Add <code class="docutils literal notranslate"><span class="pre">gap.c</span></code> and <code class="docutils literal notranslate"><span class="pre">gapbondmgr.c</span></code> from <code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;\source\ti\ble5stack\host</span></code> to
the Profiles folder.</p>
<p>Add <code class="docutils literal notranslate"><span class="pre">gapbondmgr.h</span></code> from <code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;\source\ti\ble5stack\inc</span></code> to the Profiles Folder.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="iar-application-project">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-iar-app"></span><h3>IAR Application Project<a class="headerlink" href="#iar-application-project" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Modifying Include Path and Preprocessor Defines</p>
<blockquote>
<div><p>Open Project Properties of the stack project for the application being ported</p>
<ol class="arabic">
<li><p>Select C/C++ Compiler from the navigation tree</p></li>
<li><p>Select Preprocessor Tab</p></li>
<li><p>Modify include paths to point to correct directory</p>
<blockquote>
<div><p>Change <code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\controller\cc26xx_r2\inc</span></code> to
<code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\controller\cc26xx\inc</span></code></p>
</div></blockquote>
</li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">USE_CORE_SDK</span></code> to Defined Symbols</p></li>
<li><p>Save changes</p></li>
</ol>
<p>See <a class="reference internal" href="#fig-iar-include-paths-defines"><span class="std std-ref">IAR Changing Include Paths</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The include path <code class="docutils literal notranslate"><span class="pre">$SRC_BLE_DIR$\profiles\roles</span></code> can be safely removed</p>
</div>
</div></blockquote>
</li>
<li><p>Remove old referenced files</p>
<blockquote>
<div><p>Remove <code class="docutils literal notranslate"><span class="pre">Profiles/gap.c</span></code>, <code class="docutils literal notranslate"><span class="pre">Profiles/gapbondmgr.h</span></code>, <code class="docutils literal notranslate"><span class="pre">Profiles/gapbondmgr.c</span></code></p>
<p>These files have been moved, and these old project links will be using the old location.</p>
</div></blockquote>
</li>
<li><p>Add new files from proper locations</p>
<blockquote>
<div><p>Add <code class="docutils literal notranslate"><span class="pre">gap.c</span></code> and <code class="docutils literal notranslate"><span class="pre">gapbondmgr.c</span></code> from <code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;\source\ti\ble5stack\host</span></code> to
the Profiles folder.</p>
<p>Add <code class="docutils literal notranslate"><span class="pre">gapbondmgr.h</span></code> from <code class="docutils literal notranslate"><span class="pre">&lt;SDK&gt;\source\ti\ble5stack\inc</span></code> to the Profiles Folder.</p>
</div></blockquote>
</li>
</ol>
</div>
</div>
<div class="section" id="project-application-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-app"></span><h2>Project Application Changes<a class="headerlink" href="#project-application-changes" title="Permalink to this headline">¶</a></h2>
<p>There are a number of different changes to the API in order to
improve usability and ensure support with future BLE 5 features.</p>
<p>Among these changes are core fundamental changes of how GAP Roles
are done in BLE5-Stack. Namely, the removal of source files
particular to GAP Roles, rather focusing on device behavior.</p>
<p>Functionality has also been relocated to other modules where necessary
to further facilitate this change. Additionally, Bluetooth 5.0
features are now always enabled with no option to disable.</p>
<p>For more information regarding the GAP changes and how to
utilize them, see <a class="reference internal" href="../../ble-stack-5.x/gap-cc2640.html#gap"><span class="std std-ref">Generic Access Profile (GAP)</span></a></p>
<div class="section" id="stack-build-configuration-file">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-app-buildconfig"></span><h3>Stack Build Configuration File<a class="headerlink" href="#stack-build-configuration-file" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">build_config.opt</span></code> specifies which stack components will
be utilized, and thus which library files should be used during
the Stack Project build process. This file is located in the Tools
folder of the Stack Project.</p>
<p>BLE5-Stack 1.01.00 now comes with BLE 5.0 features always
enabled. BLE 5.0 features can not be removed from the stack.</p>
<p>Remove any references to BLE 5.0 features in the <code class="docutils literal notranslate"><span class="pre">build_config.opt</span></code></p>
<p>For example, if <code class="docutils literal notranslate"><span class="pre">-DV50_FEATURES=PHY_LR_CFG</span></code> is in the <code class="docutils literal notranslate"><span class="pre">build_config.opt</span></code>
comment out or remove the line altogether.</p>
</div>
<div class="section" id="gap-role-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-app-gaprole"></span><h3>GAP Role Changes<a class="headerlink" href="#gap-role-changes" title="Permalink to this headline">¶</a></h3>
<p>All GAP Roles source files have been removed. These files such as
<code class="docutils literal notranslate"><span class="pre">peripheral.c</span></code>, <code class="docutils literal notranslate"><span class="pre">central.c</span></code>, will produce build errors and
must be removed.</p>
<p>In general functionality of the roles has been broken into distinct
GAP functions: Scanner, Advertiser, and Initiator.</p>
<p>These functions of GAP can be independently controlled to
allow the device to function as a desired GAP Role such
as peripheral or central.</p>
<p>Utilize <a class="reference internal" href="#tbl-ble5-porting-gaprole-changes"><span class="std std-ref">GAP Changes</span></a> to port
application functionality.</p>
<p>Examples may need to be used to assist in re-architecture of
the application, such as simple_peripheral or simple_central.
For example, initialization of GAP Advertiser can be found
in simple_central.</p>
</div>
<div class="section" id="gatt-profile-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-app-gatt"></span><h3>GATT Profile Changes<a class="headerlink" href="#gatt-profile-changes" title="Permalink to this headline">¶</a></h3>
<p>Due to changes in LinkDB defines (<code class="docutils literal notranslate"><span class="pre">linkdb.h</span></code>), custom GATT profiles
may need to modified in order to account for the new definitions.</p>
<p>For example, when calling GATTServApp_InitCharCfg with an invalid handle
use the following:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize Client Characteristic Configuration attributes</span>
<span class="n">GATTServApp_InitCharCfg</span><span class="p">(</span><span class="w"> </span><span class="n">CONNHANDLE_INVALID</span><span class="p">,</span><span class="w"> </span><span class="n">simpleProfileChar4Config</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
<p>The previous define for invalid handle as defined in <code class="docutils literal notranslate"><span class="pre">linkdb.h</span></code>
was <code class="docutils literal notranslate"><span class="pre">INVALID_CONNHANDLE</span></code>.</p>
<p>See <a class="reference internal" href="#tbl-ble5-porting-gapgattserver-changes"><span class="std std-ref">GAP GATT Server Changes</span></a> and
<a class="reference internal" href="#tbl-ble5-porting-linkdb-changes"><span class="std std-ref">Link Database Changes</span></a> for additional changes as required.</p>
</div>
<div class="section" id="gap-bond-manager-changes">
<span id="sec-porting-1-0-1-to-1-1-0-project-config-app-gapbondmgr"></span><h3>GAP Bond Manager Changes<a class="headerlink" href="#gap-bond-manager-changes" title="Permalink to this headline">¶</a></h3>
<p>During the removal of GAP Roles source files, functionality relating to specific
roles was moved into GAP Bond Manager. One particular change is the handling of
passcodes. These are now handled via call back - see simple_peripheral or
simple_central for implementation details (search for passcodeCb).</p>
<p>See <a class="reference internal" href="#tbl-ble5-porting-gapbondmgr-changes"><span class="std std-ref">GAP Bond Manager Changes</span></a> for additional changes.</p>
</div>
</div>
<div class="section" id="appendix-translation-tables">
<span id="sec-porting-1-0-1-to-1-1-0-project-translation-tables"></span><h2>Appendix - Translation Tables<a class="headerlink" href="#appendix-translation-tables" title="Permalink to this headline">¶</a></h2>
<span id="tbl-ble5-porting-gaprole-changes"></span><table class="docutils align-default" id="id12">
<caption><span class="caption-number">Table 17. </span><span class="caption-text">GAP Changes</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_AdvertDataUpdateDone</p></td>
<td><dl class="simple">
<dt>Based on <code class="docutils literal notranslate"><span class="pre">GapScan_Events</span></code>:</dt><dd><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga9dd52f37113be5557e3b2fe5d6612a69">GAP_EVT_ADV_REPORT</a></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_DeviceDiscovery</p></td>
<td><dl class="simple">
<dt>Based on <code class="docutils literal notranslate"><span class="pre">GapScan_Events</span></code>:</dt><dd><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga5f4bfc1431117cba4d13330440388a69">GAP_EVT_SCAN_DISABLED</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga3b3792598fdc62898e7662f2374107bb">GAP_EVT_SCAN_PRD_ENDED</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#gaa0bcd6a262584b380804df29885d54b4">GAP_EVT_SCAN_DUR_ENDED</a></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_AdvertDataUpdateDone</p></td>
<td><p>Check Return Status on <code class="docutils literal notranslate"><span class="pre">GapAdv_loadData</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_MakeDiscoverableDone</p></td>
<td><p>Check Return Status on <code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_EndDiscoverableDone</p></td>
<td><p>Check Return Status on <code class="docutils literal notranslate"><span class="pre">GapAdv_disable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_RandomAddrChanged</p></td>
<td><p>Obsolete - Address Resolution is done controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_LinkParamUpdate</p></td>
<td><p>Event is same - now supports both LLCP and L2CAP</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_MIN</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_ADV_TIMEOUT</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN</p></td>
<td><p>Configured by parameters of <code class="docutils literal notranslate"><span class="pre">GapScan_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN</p></td>
<td><p>Configured by parameters of <code class="docutils literal notranslate"><span class="pre">GapScan_enable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_ADV_TIMEOUT</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PARAM_TIMEOUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_CONN_PARAM_TIMEOUT</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_ADV_INT_MIN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_ADV_INT_MAX</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_INT_MIN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_INT_MAX</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_ADV_INT_MIN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_ADV_INT_MAX</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_HIGH_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_HIGH_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_setPhyParams</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_INT_MIN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_CONN_INT_MIN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_INT_MAX</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_CONN_INT_MAX</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SCAN_INT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_SCAN_INTERVAL</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SCAN_WIND</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_SCAN_WINDOW</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SUPERV_TIMEOUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_SUP_TIMEOUT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_LATENCY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_setPhyParam</span></code> with <code class="docutils literal notranslate"><span class="pre">INIT_PHYPARAM_CONN_LATENCY</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_MIN_CE_LEN</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_MAX_CE_LEN</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_PRIVATE_ADDR_INT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_PRIVATE_ADDR_INT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PAUSE_CENTRAL</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PAUSE_PERIPHERAL</p></td>
<td><p>Calling <code class="docutils literal notranslate"><span class="pre">GAP_UpdateLinkParamReq</span></code> as desired</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_TIMEOUT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_SM_TIMEOUT</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_MIN_KEY_LEN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_SM_MIN_KEY_LEN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_MAX_KEY_LEN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_SM_MAX_KEY_LEN</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_FILTER_ADV_REPORTS</p></td>
<td><p>Obsolete - Duplicate Filtering done in Controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SCAN_RSP_RSSI_MIN</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapScan_setParam</span></code> with <code class="docutils literal notranslate"><span class="pre">SCAN_PARAM_FLT_MIN_RSSI</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_REJECT_CONN_PARAMS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_LINK_UPDATE_DECISION</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_AUTH_TASK_ID</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_AUTH_TASK_ID</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_VERIFY_CAR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_VERIFY_CAR</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GGS_PARAMS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_GGS_PARAMS</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_IRK,
GAPCENTRALROLE_IRK</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapConfig_SetParameter</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_CONFIG_PARAM_IRK</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SRK,
GAPCENTRALROLE_SRK</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapConfig_SetParameter</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_CONFIG_PARAM_SRK</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_BD_ADDR,
GAPCENTRALROLE_BD_ADDR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HCI_ReadBDADDRCmd</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_ENABLED,
GAPROLE_ADV_NONCONN_ENABLED</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code> and <code class="docutils literal notranslate"><span class="pre">GapAdv_disable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_OFF_TIME</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_DATA</p></td>
<td><dl class="simple">
<dt>Various API:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">GapAdv_loadByBuffer</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_loadHandle</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_prepareLoadByBuffer</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_prepareLoadByHandle</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_getBuffer</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SCAN_RSP_DATA</p></td>
<td><dl class="simple">
<dt>Various API:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">GapAdv_loadByBuffer</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_loadHandle</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_prepareLoadByBuffer</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_prepareLoadByHandle</span></code>
<code class="docutils literal notranslate"><span class="pre">GapAdv_getBuffer</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_EVENT_TYPE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_setParam</span></code> or <code class="docutils literal notranslate"><span class="pre">GapAdv_getParam</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PROPS</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_DIRECT_TYPE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_setParam</span></code> or <code class="docutils literal notranslate"><span class="pre">GapAdv_getParam</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PEER_ADDRESS_TYPE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_DIRECT_ADDR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_setParam</span></code> or <code class="docutils literal notranslate"><span class="pre">GapAdv_getParam</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PEER_ADDRESS</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_CHANNEL_MAP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_setParam</span></code> or <code class="docutils literal notranslate"><span class="pre">GapAdv_getParam</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_CHANNEL_MAP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_FILTER_POLICY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_setParam</span></code> or <code class="docutils literal notranslate"><span class="pre">GapAdv_getParam</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_FILTER_POLICY</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONNHANDLE</p></td>
<td><p>Returned for each GAP event, alternatively <code class="docutils literal notranslate"><span class="pre">HCI_EXT_GetConnInfoCmd</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_RSSI_READ_RATE</p></td>
<td><p>RSSI can be received by <code class="docutils literal notranslate"><span class="pre">HCI_ReadRssiCmd</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_PARAM_UPDATE_ENABLE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_UpdateLinkParamReq</span></code> can be called as desired</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_MIN_CONN_INTERVAL</p></td>
<td><p>pParams.connIntervalMin parameter of <code class="docutils literal notranslate"><span class="pre">GAP_EstablishLinkReq</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_MAX_CONN_INTERVAL</p></td>
<td><p>pParams.connIntervalMax parameter of <code class="docutils literal notranslate"><span class="pre">GAP_EstablishLinkReq</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SLAVE_LATENCY</p></td>
<td><p>pParams.connLatency parameter of <code class="docutils literal notranslate"><span class="pre">GAP_EstablishLinkReq</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_TIMEOUT_MULTIPLIER</p></td>
<td><p>pParams.connTimeout parameter of <code class="docutils literal notranslate"><span class="pre">GAP_EstablishLinkReq</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_STATE</p></td>
<td><p>Obsolete - Architecture removes need for this</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_BD_ADDR,
GAPROLE_BD_ADDR_TYPE</p></td>
<td><p>Returned in <code class="docutils literal notranslate"><span class="pre">GAP_LINK_ESTABLISHED_EVENT</span></code>,
contained in stack message, <code class="docutils literal notranslate"><span class="pre">gapEstLinkReqEvent_t</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_INTERVAL</p></td>
<td><p>Returned from <code class="docutils literal notranslate"><span class="pre">linkDB_GetInfo</span></code>, as linkDBInfo_t.connInterval</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_LATENCY</p></td>
<td><p>Returned from <code class="docutils literal notranslate"><span class="pre">linkDB_GetInfo</span></code>, as linkDBInfo_t.connLatency</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_TIMEOUT</p></td>
<td><p>Returned from <code class="docutils literal notranslate"><span class="pre">linkDB_GetInfo</span></code>, as linkDBInfo_t.connTimeout</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPCENTRALROLE_MAX_SCAN_RES</p></td>
<td><p>Configured by maxNumReport parameter of <code class="docutils literal notranslate"><span class="pre">GapScan_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPCENTRALROLE_LINK_PARAM_UPDATE_REQ_REPLY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_SetParamValue</span></code> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_LINK_UPDATE_DECISION</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_DeviceInit,
GAPRole_StartDevice,
GAPCentralRole_StartDevice</p></td>
<td><dl class="simple">
<dt>Declaration Change -  Use <code class="docutils literal notranslate"><span class="pre">GAP_DeviceInit</span></code> with parameter for roles desired</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">GAP_Profile_Roles</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAPRole_RegisterAppCBs</p></td>
<td><p>Obsolete - Functionality moved to <code class="docutils literal notranslate"><span class="pre">GAPBondMgr_Register</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_SetAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_GetAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_RemoveAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_UpdateAdvTokens</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAPRole_SendUpdateParam,
GAPCentralRole_UpdateLink</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GAP_UpdateLinkParamReq</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_MakeDiscoverable</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_enable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_UpdateAdvertisingData</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_loadData</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_EndDiscoverable</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapAdv_disable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_DeviceDiscoveryRequest,
GAPCentralRole_StartDiscovery</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapScan_enable</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_DeviceDiscoveryCancel,
GAPCentralRole_CancelDiscovery</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapScan_disable</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_ResolvePrivateAddr</p></td>
<td><p>Obsolete - Address Resolution is done controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_EstablishLinkReq,
GAPCentralRole_EstablishLink</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_connect</span></code>, or <code class="docutils literal notranslate"><span class="pre">GapInit_connectWl</span></code> to use Filter Accept List</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_TerminateLinkReq,
GAPRole_TerminateConnection,
GAPCentralRole_TerminateLink</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GapInit_cancelConnect</span></code> for connection request, <code class="docutils literal notranslate"><span class="pre">GAP_TerminateLinkReq</span></code> otherwise</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_ConfigDeviceAddr</p></td>
<td><p>No Changes; now the only way to set address and address type across modules</p></td>
</tr>
<tr class="row-even"><td><p>GAP CB</p></td>
<td><p>gapRolesParamUpdateCB_t,
paramUpdateAppDecision_t,
passThroughToApp_t</p></td>
<td><p>These are handled through <code class="docutils literal notranslate"><span class="pre">GAP_UPDATE_LINK_PARAM_REQ_EVENT</span></code>,
applies to the L2CAP Parameter Update Procedure as well.</p></td>
</tr>
<tr class="row-odd"><td><p>GAP CB</p></td>
<td><p>gapRolesStateNotify_t,
pfnGapCentralRoleEventCB_t</p></td>
<td><p>Moved into GAP Bond Manager callbacks, gapBondCBs_t-&gt;gapEventCB</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-gapbondmgr-changes"></span><table class="docutils align-default" id="id13">
<caption><span class="caption-number">Table 18. </span><span class="caption-text">GAP Bond Manager Changes</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 35%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_DEFAULT_PASSCODE</p></td>
<td><p>Use pfnPasscodeCB_t, shared default passcode
defined in bcomdef.h (BAPP_DEFAULT_PASSCODE)</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_REMOTE_OOB_SC_ENABLED</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_REMOTE_OOB_SC_DATA</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_LOCAL_OOB_SC_ENABLED</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_LOCAL_OOB_SC_DATA</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND STATE</p></td>
<td><p>GAPBOND_PAIRING_STATE_BONDED</p></td>
<td><p>GAPBOND_PAIRING_STATE_ENCRYPTED</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND DEF</p></td>
<td><p>GBM_QUEUE_PAIRINGS</p></td>
<td><p>Removed, is now default behavior</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND DEF</p></td>
<td><p>GBM_GATT_NO_CLIENT</p></td>
<td><p>Configured by GATT_NO_CLIENT</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND DEF</p></td>
<td><p>SNP_SECURITY</p></td>
<td><p>Configured by GAPBONDMGR_NO_SIGNING</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_LinkEst</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_LinkTerm</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_SlaveReqSecurity</p></td>
<td><p>GAPBondMgr_Pair, allowing both Centrals
and Peripherals to request pairing</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_UpdateCharCfg</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_ReadGattChar</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_SupportsEnhancedPriv</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_CheckNVLen</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_syncResolvingList</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-gapgattserver-changes"></span><table class="docutils align-default" id="id14">
<caption><span class="caption-number">Table 19. </span><span class="caption-text">GAP GATT Server Changes</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 43%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_PERI_PRIVACY_FLAG_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GGS PARAM</p></td>
<td><p>GGS_RECONNCT_ADDR_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_PERI_PRIVACY_FLAG_PROPS</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GGS PARAM</p></td>
<td><p>GGS_W_PERMIT_PRIVACY_FLAG_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_TESTMODE_W_PERMIT_PRIVACY_FLAG</p></td>
<td><p>Obsolete</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-linkdb-changes"></span><table class="docutils align-default" id="id15">
<caption><span class="caption-number">Table 20. </span><span class="caption-text">Link Database Changes</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 40%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>LinkDB API</p></td>
<td><p>linkDB_Remove</p></td>
<td><p>API now accepts linkDBItem_t* in
addition to connection handle</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ble5stack1.01.00-to-ble5stack1.01.02.html" class="btn btn-neutral float-left" title="BLE5-Stack 1.01.00 to BLE5-Stack 1.01.02" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ble5stack1.01.09-to-ble5stack1.01.13.html" class="btn btn-neutral float-right" title="BLE5-Stack 1.01.09 (SDK 4.10) to BLE5-Stack 1.01.13 (SDK 5.10)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2024, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>