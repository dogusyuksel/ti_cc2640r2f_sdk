<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<!-- OPTIONAL BUT RECOMMENDED: Add a summary for your page below, then remove the comments. The summary should inform users what the page is about (within 160 chars). It will appear in Google search results below the Title and can have a huge effect on click-through rate -->
<meta name="description" content="This page describes the XDS560v2 Debug Probe configuration utility DTC_CONF."> 

<!-- Change the product name and link if desired -->
<meta name="product-name" content="XDS560v2">
<meta name="product-link" content="https://www.ti.com/tool/TMDSEMU560V2STM-U">

<!-- Change the title text for your page -->
<title>The Debug Test Controller configuration utility DTC CONF</title>

<script src='https://software-dl.ti.com/ccs/esd/documents/web_support_v2/loader.js'></script>

</head>

<xmp theme="united2" style="display:none;" class="col-xs-6">

<!-- Start of markdown source -->

# Overview
The **dtc\_conf** is a utility installed with Code Composer Studio and provides access to the Debug Test Controller (DTC) of XDS560v2-based Debug Probes.

The **dtc\_conf** is invoked from the command line and must be launched from its install directory, typically located at:

   **&lt;CCS_INSTALL_DIR&gt;/ccs/ccs\_base/common/uscif**

# Usage

All the features of the utility may be used with a XDS560v2 connected via either USB or Ethernet connections. The general command syntax is shown below with required parameters enclosed by angled brackets &lt;&gt;, and optional parameters enclosed by square brackets []. 

   **dtc\_conf &lt;command&gt; &lt;adapter&gt; &lt;address&gt; [options]**

- **command:** the command to perform: get | set | restore | update | boot
   - **get** the current values of DTC configuration variables 
   - **set** the DTC configuration variables 
   - **restore** the default values of the DTC configuration variables 
   - **update** the DTC firmware 
   - **reboot** the DTC
- **adapter:** the IO adapter: bh560v2u | bh560v2e | sd560v2u | sd560v2e
   - **bh560v2u** for Blackhawk USB
   - **bh560v2e** for Blackhawk Ethernet
   - **sd560v2u** for Spectrum Digital USB
   - **sd560v2e** for Spectrum Digital Ethernet
- **address:** the DTC address:
   - For USB, the address is 0 to N-1, where N is the number of XDS560v2 Debug Probes connected to the host.
   - For Ethernet, it is the network IP address of the XDS560v2 Debug Probe. 
- **options:** optional arguments depending on the command. Refer to the Examples sections and Options section.
   -  Alternatively, use the help command (-h) to get a complete list of options: **dtc_conf -h**


# Examples
The examples below are for a USB connection. For Ethernet, simply replace the adapter value from **sd560v2u** to **sd560v2e** and the address from **0** to the network IP address of the XDS560v2. 

##Get the current values for all the DTC variables 

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get bh560v2u 0**
<pre>
addrConf=:55756
addrIo=:55755
boardRev=2
dtcName=none
epkRev=5.0.573.0
fpgaRev=1.54
ipAddress=none
ipBroadcast=none
ipClient=none
ipConfig=dhcp
ipGateway=none
ipHwaddress=none
ipLeasehours=none
ipLeasetime=none
ipMtu=none
ipNetmask=none
ipNetwork=none
ipPointopoint=none
productClass=XDS560V2
productName=Blackhawk XDS560v2 System Trace
safeMode=false
serialNum=00:0F:D2:00:00:0A
swBuildTime=Mar 30 2012 17:37:41
swRev=5.0.573.0
time=none
vendorName=Blackhawk
</pre>

##Get a specific value
This returns the value of any of the variables shown above. 

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get bh560v2u 0 serialNum**

##Update the firmware 
This updates the firmare of the DTC. It is rarely used and should be run only under advise of the manufacturer.

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf update sd560v2u 0 .\sd560v2\_updates\sd\_xds560v2\_firmware\_2.2.0.5**

[[r Warning:

   It is not advisable to update the firmware through an Ethernet connection.
   Unplug the ethernet cable and power cycle the XDS560v2 before updating the firmware.
   
]]

##Restore the default values
This resets all variable values to their default settings. 

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf restore sd560v2u 0**

##Safe mode
To take the XDS560v2 out of safe mode (LED's flashing), issue the following sequence of commands:

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set sd560v2u 0 safeMode=false**
C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf boot sd560v2u 0**

##Set a unique name
Setting a unique name for the XDS560v2 helps prevent confusion when multiple Debug Probes are on a network.

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set sd560v2e 192.168.0.224 dtcName="MyProbe"**
C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf boot sd560v2e 192.168.0.224**

The command above uses an example IP address (192.168.0.224). Change this address to match what is configured in your environment.

##Check for conflicts
To check if another user is using the XDS560v2 and what their IP address is, issue the following command:

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get sd560v2e 192.168.0.224 ipClient**

The command above uses an example IP address (192.168.0.224). Change this address to match what is configured in your environment.

##Reboot
To reboot the XDS560v2 after an operation or to simply try to recover connections, issue the following comand.

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf boot sd560v2u 0**

[[b Notes:

   This command is particularly useful for remote Ethernet connections
   Allow 1-<sup>1</sup>/<sub>2</sub> minutes before retrying the connection

]]

##View or set the IP address

The XDS560v2 comes configured from factory to use DHCP and therefore its IP address is leased automatically. To confirm if the mode is properly set to DHCP, check if the value of the variable **ipConfig** is set to **dhcp** by issuing the following command: 

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get bh560v2u 0 ipConfig**

To confirm the DHCP leased IP address, simply issue the **get** command below:

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get bh560v2u 0 ipAddress**

[[b Note:

   In order for this command to return a valid address, it is required to have both USB and Ethernet cables connected. 
   
]]

If DHCP is not available, then it is necessary to set a static IP address.

The static IP address and other network configurations must be provided by the IT administrator of your organization. This usually requires supplying the administrator with the MAC address of the Debug Probe, which is shown in the debug probe sticker. This information can also be obtained by issuing the **get** command with the **serialNum** option.

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf get bh560v2u 0 serialNum**

The IT administrator should report back the IP address, the host name, the netmask and the gateway address of the network.

Connect only the USB cables (the ethernet cable must be disconnected) and set the parameters below with the values supplied by the administrator:

**Name:** (LabStation01.ti.com as an example)

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set bh560v2u 0 dtcName="LabStation01.ti.com"**

**IP Address:** (192.168.0.224 as an example)

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set bh560v2u 0 ipConfig=192.168.0.224**

**IP Netmask:** (255.255.254.0 as an example)

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set bh560v2u 0 ipNetMask=255.255.254.0"**

**IP Gateway:** (129.168.0.1 as an example)

C:\ti\ccs1010\ccs\ccs\_base\common\uscif&gt; **dtc_conf set bh560v2u 0 ipGateway=192.168.0.1"**

After that, power down the Debug Probe, connect the Ethernet cable and then power up again. Wait until it finishes the boot process to verify the configurations. 

<hr>

<!-- End of markdown source -->

<div id="footer"></div>

</xmp>
</html>
