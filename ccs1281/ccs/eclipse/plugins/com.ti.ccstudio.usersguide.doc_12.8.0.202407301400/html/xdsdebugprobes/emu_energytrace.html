<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<!-- OPTIONAL BUT RECOMMENDED: Add a summary for your page below, then remove the comments. The summary should inform users what the page is about (within 160 chars). It will appear in Google search results below the Title and can have a huge effect on click-through rate -->

<meta name="description" content="This page describes the EnergyTrace technology and covers all the usage scenarios for SimpleLink family of microcontrollers."> 

<!-- Change the title text for your page -->

<title>EnergyTrace</title>

<script src='https://software-dl.ti.com/ccs/esd/documents/web_support_v2/loader.js'></script>

</head>

<xmp theme="united2" style="display:none;" class="col-xs-6">

<!-- Start of markdown source -->

#Overview

EnergyTrace&trade; technology is a power analyzer tool for CCS that measures and displays the energy profile of an application and helps optimize it for ultra-low-power consumption. The tool can be used standalone as a power profiling tool or in EnergyTrace+ or EnergyTrace++ modes within a debug session for code analysis to help optimize the application for ultra-low-power consumption.

EnergyTrace measurements are exported via a USB bulk endpoint on the XDS110 Debug Probe. In other words, this guarantees that it can operate independently of an IDE such as Code Composer Studio and therefore achieve ultra-low power consumption in standalone mode. 

## Hardware variants

EnergyTrace has two different hardware variants: EnergyTrace and EnergyTrace HDR.

### EnergyTrace

EnergyTrace features the highest precision current range and it is suitable for the ultra low power devices such as MSP430 and MSP432P. 

It is embedded in several MSP430 and MSP432P development kits and the standalone Debug Probes [MSP-FET](https://www.ti.com/tool/MSP-FET) and [XDS110](https://www.ti.com/tool/TMDSEMU110-U). 

The basic Electrical specifications:

<font size="2">
<table id="stl01">
<tr>
<th> <font color="#0000f0"> <b>Range</b> </font> </th>
<th> <font color="#0000f0"> <b>Accuracy</b> </font> </th>
<th> <font color="#0000f0"> <b>Observations</b> </font> </th>
</tr>
<tr>
<th>I &lt; 25&nbsp;mA</th>
<td>&#177; 2% &#177; 500&nbsp;nA</td>
<td>VBUS = 5&nbsp;V constant during and after calibration</td>
</tr>
<tr>
<th>I &gt; 25&nbsp;mA &amp; I &lt; 75&nbsp;mA</th>
<td>&#177; 5% &#177; 500&nbsp;nA</td>
<td>VBUS = 5&nbsp;V constant during and after calibration</td>
</tr>
</table>
</font>
 
EnergyTrace implements a new method for measuring current consumption for ultra low power currents. Traditionally, power is calculated by measuring the current consumption and voltage drop over a shunt resistor at sampling intervals via analog to digital converters. In Debug Probes that support EnergyTrace, a software-controlled DC-DC converter generates the target power supply and keeps it regulated via a train of pulses. The density of the DC/DC converter charge pulses is proportional to the energy consumption of the target microcontroller. Because the width of each charge pulse remains constant, the Debug Probe simply counts each charge pulse and then sums them over time to calculate the average current. The accuracy of measurements is guaranteed by a built-in calibration circuit in the Debug Probe, which quantifies the energy equivalent of a single charge pulse. Using this approach, even the shortest device activity that consumes energy contributes to the overall recorded energy. The [XDS110 user's guide](https://www.ti.com/lit/ug/sprui94/sprui94.pdf) contains additional details. 

### EnergyTrace HDR

The EnergyTrace High Dynamic Range (HDR) increases the Dynamic Range of the EnergyTrace technology for operation above 100mA while using the same GUI. This allows performing very accurate power consumption measurements on all Simplelink Wireless MCUs while still using the same well known user interface. This makes the XDS110 ETHDR a solution that fits all designer needs for power monitoring.

The basic Electrical specifications:

<font size="2">
<table id="stl01">
<tr>
<th colspan="2"> <font color="#0000f0"> <b>Low range high accuracy</b> </font> </th>
</tr>
<tr>
<th> <font color="#0000f0"> <b>Range</b> </font> </th>
<th> <font color="#0000f0"> <b>Accuracy</b> </font> </th>
</tr>
<tr>
<td>1 &mu;A to 15 &mu;A</td>
<td>&#177; 700&nbsp;nA</td>
</tr>
<tr>
<td>15 &mu;A to 120&nbsp;mA</td>
<td>&#177; 5%</td>
</tr>
<tr>
<th colspan="2"> <font color="#0000f0"> <b>High range low accuracy</b> </font> </th>
</tr>
<tr>
<th> <font color="#0000f0"> <b>Range</b> </font> </th>
<th> <font color="#0000f0"> <b>Accuracy</b> </font> </th>
</tr>
<tr>
<td>1 &mu;A to 70 &mu;A</td>
<td>&#177; 3.5&nbsp;&mu;A</td>
</tr>
<tr>
<td>70 &mu;A to 800&nbsp;mA</td>
<td>&#177; 5%</td>
</tr>
<tr>
</table>
</font>
   
EnergyTrace HDR is available as an accessory to the XDS110 and it is marketed as [XDS110HDR](https://www.ti.com/tool/TMDSEMU110-ETH) or embedded on the CC13x2 or CC26x2 Launchpad development kits. The [XDS110HDR user's guide](https://www.ti.com/lit/ug/spruie1a/spruie1a.pdf) contains additional details. 

### In summary

The major differences between the two hardware variants are summarized in the table below: 

<font size="2">
<table id="stl01">
<tr>
<th> <font color="#0000f0"> <b>Capability</b> </font> </th>
<th> <font color="#0000f0"> <b>EnergyTrace</b> </font> </th>
<th> <font color="#0000f0"> <b>EnergyTrace HDR</b> </font> </th>
</tr>
<tr>
<th><font color="#f00000">Measurement range</font></th>
<td>500&nbsp;nA to 100&nbsp;mA</td>
<td>
<ul>
<li>1&nbsp;&mu;A to 120&nbsp;mA - low current high accuracy</li>
<li>1&nbsp;&mu;A to 800&nbsp;mA - high current low accuracy</li>
</ul>
</td>
</tr>
<tr>
<th><font color="#f00000">Sampling frequency</font></th>
<td>2&nbsp;kSPS</td>
<td>256&nbsp;kSPS</td>
</tr>
<tr>
<th><font color="#f00000">Supply ripple</font></th>
<td>Some ripple due to the SW DC-DC converter</td>
<td>No ripple</td>
</tr>
</table>
</font>

# Modes of operation

The mode of operation sets the level of detail the energy is being drawn on the device:

- ET: Energy profiling only. Also called standalone mode. ET measures the energy consumption of the entire device or system.
- ET+: Energy profiling + Program Counter trace. ET+ correlates the energy consumption with the CPU states, including whether the device is in active mode or one of the many low-power modes (LPM).
- ET++: Energy profiling + Program Counter trace + Peripheral state. ET++ shows the ON-OFF status of the peripherals and all system clocks (regardless of the clock source).

The deeper the level, the higher the reassurance the CPU and peripherals are properly set to their expected power states and activity. 

A summary of devices and trace level are shown in the table below: 

<font size="1">
<table id="stl01">
<tr>
<th> <font color="#0000f0"> <b>Features</b> </font> </th>
<th> <font color="#0000f0"> <b>ET</b> </font> </th>
<th> <font color="#0000f0"> <b>ET+</b> </font> </th>
<th> <font color="#0000f0"> <b>ET++</b> </font> </th>
</tr>
<tr>
<th><font color="#f00000">Current monitoring</font></th>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<th><font color="#f00000">CPU State (PC)</font></th>
<td></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<th><font color="#f00000">Peripheral or system state</font></th>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<th><font color="#f00000">Devices supported</font></th>
<td>All MCUs</td>
<td>
<p>All MSP432P MCUs</p>
</td>
<td>
<p>MSP430FR59xx/69xx</p>
<p>CC13x0/CC2640R2F</p>
<p>CC13x2/CC26x2</p>
</ul>
</td>
</tr>
<tr>
<th><font color="#f00000">Compatible tools</font></th>
<td>
<p><a href="https://www.ti.com/tool/MSP-FET">MSP-FET</a></p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-U">TMDSEMU110-U (XDS110 Standalone)</a></p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-HDR">TMDSEMU110-HDR (XDS110 Add-on)</a></p>
<p>eZ-FET with EnergyTrace</p>
<ul>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR2311">MSP-EXP430FR2311</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR2433">MSP-EXP430FR2433</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR4133">MSP-EXP430FR4133</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR5969">MSP-EXP430FR5969</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR5994">MSP-EXP430FR5994</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR6989">MSP-EXP430FR6989</a></li>
</ul>
<p>Embedded XDS110</p>
<ul>
<li><a href="https://www.ti.com/tool/MSP-EXP432P401R">MSP-EXP432P401R</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP432P4111">MSP-EXP432P4111</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1312R1">LAUNCHXL-CC1312R1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352R1">LAUNCHXL-CC1352R1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P-2</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P-4</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC26X2R1">LAUNCHXL-CC26X2R1</a></li>
<li><a href="https://www.ti.com/tool/LP-CC2652RB">LP-CC2652RB</a></li>
</ul>
</td>
<td>
<p><a href="https://www.ti.com/tool/MSP-FET">MSP-FET</a> + Adapter (<a href="https://www.ti.com/tool/MSP-FET-432ADPTR">MSP-FET-432ADPTR</a>)</p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-U">TMDSEMU110-U (XDS110 Standalone)</a></p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-HDR">TMDSEMU110-HDR (XDS110 Add-on)</a></p>
<p>Embedded XDS110</p>
<ul>
<li><a href="https://www.ti.com/tool/MSP-EXP432P401R">MSP-EXP432P401R</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP432P4111">MSP-EXP432P4111</a></li>
</ul>
</td>
<td>
<p><a href="https://www.ti.com/tool/MSP-FET">MSP-FET</a></p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-U">TMDSEMU110-U (XDS110 Standalone)</a></p>
<p><a href="https://www.ti.com/tool/TMDSEMU110-HDR">TMDSEMU110-HDR (XDS110 Add-on)</a></p>
<p>eZ-FET with EnergyTrace++</p>
<ul>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR5969">MSP-EXP430FR5969</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR5994">MSP-EXP430FR5994</a></li>
<li><a href="https://www.ti.com/tool/MSP-EXP430FR6989">MSP-EXP430FR6989</a></li>
</ul>
<p>Embedded XDS110</p>
<ul>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1312R1">LAUNCHXL-CC1312R1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352R1">LAUNCHXL-CC1352R1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P1</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P-2</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC1352P">LAUNCHXL-CC1352P-4</a></li>
<li><a href="https://www.ti.com/tool/LAUNCHXL-CC26X2R1">LAUNCHXL-CC26X2R1</a></li>
<li><a href="https://www.ti.com/tool/LP-CC2652RB">LP-CC2652RB</a></li>
</ul>
</td>
</tr>
</table>
</font>

# Settings
EnergyTrace has a settings view that is present under the menu **Window** &rarr; **Preferences** &rarr; **Code Composer Studio** &rarr; **Advanced Tools** &rarr; **EnergyTrace&trade; Technology**.

![](./images/emu_energytrace_settings.png)

The settings are as follows: 

   -**Enable Auto-Launch on target connect:** self explanatory. When launching a debug session, EnergyTrace is automatically launched as well. 

   -**EnergyTrace/EnergyTrace+[CPU State]+[Peripheral States]:** it allows selecting which mode EnergyTrace is launched by default: either ET-only or ET+/ET++

   -**Cell Type:** this allows setting which power source will be used by the design. This is a helper to calculate a cell lifetime based on its rated capacity. Current selections are CR2032, 2xAA, 2xAAA or Custom. When selecting the option **Custom**, the options **Cell voltage** and **Cell capacity (mAh)** are enabled.

   -**Optional:** this allows setting a **Target lifetime** or the **Peak current - continous** or **Peak current - pulse** to trigger warnings on the EnergyTrace view. 

   -**Target Connection:** this option allows setting which Debug Probe is attached to the system by default. It also allows setting the default supply voltage. 

   -**ET-HDR Range Selector:** this option allows setting the range used by the EnergyTrace HDR probe.

   -**When save profile also save:** self explanatory. When saving the EnergyTrace data, it can enable or disable saving data in CSV mode (comma separated values) as well. 

## Autodetect mode
Starting with version Code Composer Studio 9.0.0, EnergyTrace performs autodetection of the Debug Probe attached to your system when ET-only mode is launched. If the **Target Connection** setting is different on the EnergyTrace [settings](#settings), it spawns a prompt while launching EnergyTrace.

![](./images/emu_energytrace_prompt.png)


# EnergyTrace Usage cases

The use of EnergyTrace is very tailored to which device is being used, thus a few usage scenarios can be found in their literature.  

## MSP430

- [Getting started with EnergyTrace](https://training.ti.com/getting-started-energytrace-technology)

## Connectivity and MSP432

- Section **7** of the [Code Composer Studio IDE for SimpleLink MSP432 Microcontrollers (SLAU575)](https://www.ti.com/lit/ug/slau575k/slau575k.pdf)
- Section **EnergyTrace User Guide** of the following CC13x2 and CC26x2 Stack User's Guides:
   - [BLE5](http://dev.ti.com/tirex/explore/node?node=AOimuSWjap.4RuDbcp7OqA__pTTHBmu__LATEST)
   - [15.4](http://dev.ti.com/tirex/explore/node?node=APeHcG.A0wniaym22zAYKw__pTTHBmu__LATEST)
   - [Z-Stack](http://dev.ti.com/tirex/explore/node?node=ANbR0LtTwkMnDCiEhygF7A__pTTHBmu__LATEST)

## XDS110 and XDS110HDR probes

- [EnergyTrace with XDS110](https://youtu.be/2999x1oGjao)
- [EnergyTrace HDR](https://youtu.be/WOiJsRBMmr4)

<!-- End of markdown source -->

<div id="footer"></div>

</xmp>
</html>
