

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.9.1.22. Defining Shared Memory &mdash; Code Composer Studio 12.8.0 Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Code Composer Studio 12.8.0 Documentation" href="../index.html"/>
        <link rel="up" title="7.9.1. GEL Grammar" href="grammar.html"/>
        <link rel="next" title="7.9.1.23. Using Symbols as Expressions" href="sym_expr.html"/>
        <link rel="prev" title="7.9.1.21. GEL Namespace" href="namespace.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="https://www.ti.com">
            <img src="../_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Code Composer Studio
          

          
          </a>

          
            
            
              <div class="version">
                12.8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ccs_glossary.html">1. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_overview.html">2. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_installation.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_updates.html">4. Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_getting-started.html">5. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_project-management.html">6. Projects and Build</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index_debug.html">7. Debug</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-main.html">7.1. Debug Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-main.html#configuring-the-debugger">7.2. Configuring the Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-main.html#launching-a-debug-session">7.3. Launching a debug session</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-main.html#debugging-the-application">7.4. Debugging the application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-main.html#advanced-debugging-topics">7.5. Advanced Debugging Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sdto_dss_handbook.html">7.6. Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-graphs.html">7.7. Graph Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-image.html">7.8. Image Analyzer</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ccs_debug-gel.html">7.9. The General Extension Language (GEL)</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="grammar.html">7.9.1. GEL Grammar</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="function.html">7.9.1.1. GEL Function Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="param.html">7.9.1.2. GEL Function Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="calling.html">7.9.1.3. Calling GEL Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="local.html">7.9.1.4. Local Variables for Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="recursion.html">7.9.1.5. Function Recursion</a></li>
<li class="toctree-l4"><a class="reference internal" href="return.html">7.9.1.6. GEL return Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="if.html">7.9.1.7. GEL if and if-else Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="for.html">7.9.1.8. GEL for Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="while.html">7.9.1.9. GEL while and do-while Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="break.html">7.9.1.10. GEL break Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html">7.9.1.11. File I/O Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="hw_brkpt.html">7.9.1.12. Hardware Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="comments.html">7.9.1.13. GEL Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="preprocessing.html">7.9.1.14. GEL Preprocessing Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="cond_brkpt.html">7.9.1.15. Conditional Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="cpp_limit.html">7.9.1.16. C++ Limitations within GEL Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="cpp_support.html">7.9.1.17. C++ Support within GEL Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="expression.html">7.9.1.18. GEL Expression Evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="format.html">7.9.1.19. Format Specifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="global.html">7.9.1.20. Global Variables for GEL Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="namespace.html">7.9.1.21. GEL Namespace</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">7.9.1.22. Defining Shared Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="sym_expr.html">7.9.1.23. Using Symbols as Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="registers.html">7.9.1.24. Register access</a></li>
<li class="toctree-l4"><a class="reference internal" href="debug.html">7.9.1.25. GEL Debugging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="built-in.html">7.9.2. Built-in GEL Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="macros.html">7.9.3. GEL Macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="files.html">7.9.4. Loading and Unloading GEL Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="targetconfig.html">7.9.5. Adding GEL Files to a Target Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="production.html">7.9.6. Moving GEL Initialization to Production Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="menu_bar.html">7.9.7. Adding GEL Functions to the GEL Menu Using Keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="functions_list.html">7.9.8. GEL Functions: Alphabetical List</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ccs_debug-epilog.html">7.10. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index_faqs.html">8. Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_troubleshooting.html">9. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ccs_legal.html">10. License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Code Composer Studio</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index_debug.html">7. Debug</a> &raquo;</li>
      
          <li><a href="../ccs_debug-gel.html">7.9. The General Extension Language (GEL)</a> &raquo;</li>
      
          <li><a href="grammar.html">7.9.1. GEL Grammar</a> &raquo;</li>
      
    <li>7.9.1.22. Defining Shared Memory</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="defining-shared-memory">
<h1>7.9.1.22. Defining Shared Memory<a class="headerlink" href="#defining-shared-memory" title="Permalink to this headline">¶</a></h1>
<p>Multiple cores on a single processor can share a block of memory. The GEL function <em>GEL_MapAddStr()</em> is used to add a range of shared memory to the memory map. The attributes of shared memory are specified as parameters to the function. For example, the access to shared memory may be RAM or ROM.</p>
<p>Options can be used to control debugger functionality when debugging shared memory.</p>
<p><strong>To Specify Shared Memory Attributes</strong></p>
<p>Shared memory attributes are specified in the GEL_MapAddStr() function.</p>
<p><code class="docutils literal notranslate"><span class="pre">GEL_MapAddStr(address,</span> <span class="pre">page,</span> <span class="pre">length,</span> <span class="pre">attribute,</span>&#160; <span class="pre">waitstate);</span></code></p>
<p>The function parameters <em>address</em>, <em>page</em>, <em>length</em>, and <em>waitstate</em> are specified as described in <a class="reference external" href="GEL_MapAddStr.html">GEL_MapAddStr()</a>. However, the <em>attribute</em> parameter accepts additional attributes that specify shared memory. For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">RAM|SHnC|CACHE</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">ROM|SHnC|CACHE</span></code></p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>String</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>RAM</td>
<td>Specifies that access to memory
is Read and Write.</td>
</tr>
<tr class="row-odd"><td>ROM</td>
<td>Specifies that access to memory
is Read-only.</td>
</tr>
<tr class="row-even"><td>SHnC</td>
<td><p class="first">The string <em>SH</em> specifies shared
memory.</p>
<p>The number <em>n</em> identifies the
block of memory being shared. The
number can never be zero or
negative.</p>
<p>If a block of shared memory is
specified on core A as &quot;RAM|SH2&quot;
and then a block is specified on
core B as &quot;ROM|SH2&quot;, then that
block is shared between cores A
and B with Read and Write access
on A and Read-only access on B.</p>
<p>Blocks may be in different
addressable regions for different
cores. That is, on core A the
block might start at 0x8000 and
on core B the same block could
start at 0x4000.</p>
<p>The string <em>C</em> causes the
debugger to:</p>
<ol class="loweralpha simple">
<li>Halt all cores when writing to
shared memory that contains
executable code</li>
<li>Halt all cores when stepping
over a breakpoint set in
shared memory</li>
</ol>
<p>When writing to a block of shared
memory, the breakpoints in that
block have to be cleared for a
short time by the driver. In
addition, the data in that
location may be incorrect if the
processor was executing. When &quot;C&quot;
is specified, all cores with
executable code on that block are
halted to ensure that no
breakpoints are missed and
invalid code is not executed.</p>
<p>When stepping over a software
breakpoint that is set in a
shared memory block, the
breakpoint is first cleared, then
the code is stepped, and finally
the breakpoint is reset. If other
cores execute code in that memory
block during this time, they will
miss the breakpoint. When &quot;C&quot; is
specified, all cores with
executable code on that block are
halted until the breakpoint has
been stepped over.</p>
<p class="last"><em>C</em> is optional, but should
always be appended as the default
setting. The default settings for
these actions can be overridden
by setting shared memory options.</p>
</td>
</tr>
<tr class="row-odd"><td>CACHE</td>
<td><p class="first">Causes the driver to invalidate
the cache when any processor
writes to the shared memory
block.</p>
<p class="last">This action is necessary because
core A could write to block 2 and
core B could have block 2 stored
in cache. The cache would need to
be invalidated on core B so that
core B could have the most recent
data.</p>
</td>
</tr>
</tbody>
</table>
<p>The first attribute must identify the type of access: RAM or ROM. The rest of the attributes can be specified in any order. The vertical bar &quot;|&quot; character is used to separate multiple attributes. For example, <code class="docutils literal notranslate"><span class="pre">RAM|SH4C|CACHE</span></code> and <code class="docutils literal notranslate"><span class="pre">RAM|CACHE|SH4C</span></code> are both valid.</p>
<p>The access type (RAM vs. ROM) is from the debug probe's perspective, not the CPU.</p>
<p><strong>To Debug Shared Memory</strong></p>
<p>There are two basic debugger actions that you should keep in mind when debugging shared memory.</p>
<p>When writing to shared memory or reading from shared memory, the debugger knows what read/write access is allowed for each of the different processors and will choose a correct processor to do the write or read. For example, if core A has Read and Write access to shared memory and core B has Read-only access, you may still write to the shared memory using core B. The debugger will automatically switch to core A to do the actual write.</p>
<p>Any software breakpoint set in shared memory will be set on every accessible processor. Software breakpoints can even be set on processors with Read-only access provided that there is at least one processor with Read and Write access to the shared memory. For example, if a breakpoint is set in a source file, that breakpoint will be set on the other processors as well. The only known restriction is that breakpoints can only be connected to one source on one processor.
If a breakpoint must also be connected to something on a second processor, a second breakpoint (at the same address) must be added. This second breakpoint can then be connected to the second processor.</p>
<p>___</p>
<p><strong>See also:</strong></p>
<p><a class="reference external" href="GEL_MapAddStr.html">GEL_MapAddStr()</a>
<a class="reference external" href="functions_list.html">GEL Functions: Alphabetical List</a></p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sym_expr.html" class="btn btn-neutral float-right" title="7.9.1.23. Using Symbols as Expressions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="namespace.html" class="btn btn-neutral" title="7.9.1.21. GEL Namespace" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyight 1995-2019</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'12.8.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script src="https://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });

        $('body').on("mousewheel", function () {
            // Remove default behavior
            event.preventDefault();
            // Scroll without smoothing
            var wheelDelta = event.wheelDelta;
            var currentScrollPosition = window.pageYOffset;
            window.scrollTo(0, currentScrollPosition - wheelDelta);
        });
      });
  </script>
   

</body>
</html>