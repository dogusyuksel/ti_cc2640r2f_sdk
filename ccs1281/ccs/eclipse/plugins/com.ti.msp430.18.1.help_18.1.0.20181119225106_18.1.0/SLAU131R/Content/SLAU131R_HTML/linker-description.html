<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>8 Linker Description</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/headerfooter.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="content">
            <div id="contentBody">
                <div class="row collapse">
                    <div class="sideContent">
                        <div class="clearfix">
                        </div>
                    </div>
                    <div id="loadContentArea">
                        <div class="c12 docHeader">
                            <div class="c4 docTitle">
                                <p><strong>MSP430 Assembly
							Language Tools
			v18.1.0.LTS User's Guide</strong>
                                    <br /><span id="litnumber">SLAU131R</span> - REVISED JANUARY 2018</p>
                            </div>
                        </div>
                    </div>
                    <div class="odsHeader">
                        <p class="pdf"><a class="downloadPDF" href="http://www.ti.com/litv/SLAU131R" target="_new">Download PDF</a>
                        </p>
                    </div>
                    <div id="loadContentArea1">
                        <div class="subsection">
                            <h2 id="STDZ0750697"><a name="8_Linker_Description" data-mc-generated-bookmark="TOC"></a><span class="section-label">8 </span>Linker Description</h2>
                            <div class="subsection">
                                <p>The <span>MSP430 linker creates executable object files</span> by combining object modules. This chapter describes the linker options, directives, and statements used to create <span>executable object files</span>. Object libraries, command files, and other key concepts are discussed as well.</p>
                                <p>The concept of sections is basic to linker operation; <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0690623">Section 2</a></span> includes a detailed discussion of sections. </p>
                            </div>
                            <div class="subsection">
                                <h3 id="SPRU1864588"><a name="8.1_Linker_Overview" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.1 </span>Linker Overview</h3>
                                <p> The <span>MSP430</span> linker allows you to allocate output sections efficiently in the memory map. As the linker combines object files, it performs the following tasks:</p>
                                <ul>
                                    <li value="1">Allocates sections into the target system's configured memory</li>
                                    <li value="2">Relocates symbols and sections to assign them to final addresses</li>
                                    <li value="3">Resolves undefined external references between input files</li>
                                </ul>
                                <p>The linker command language controls memory configuration, output section definition, and address binding. The language supports expression assignment and evaluation. You configure system memory by defining and creating a memory model that you design. Two powerful directives, MEMORY and SECTIONS, allow you to:</p>
                                <ul>
                                    <li value="1">Allocate sections into specific areas of memory</li>
                                    <li value="2">Combine object file sections</li>
                                    <li value="3">Define or redefine global symbols at link time</li>
                                </ul>
                            </div>
                            <div class="subsection">
                                <h3 id="SPRU1864544"><a name="8.2_The_Linker's_Role_in_the_Software_Development_Flow" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.2 </span>The Linker's Role in the Software Development Flow</h3>
                                <p><span class="crossreference"><a href="#STDZ075619" class="selected">Figure 8-1</a></span> illustrates the linker's role in the software development process. The linker accepts several types of files as input, including object files, command files, libraries, and partially linked files. The linker creates an executable object module that can be downloaded to one of several development tools or executed by a <span>MSP430</span> device.</p>
                                <div class="figure"><span class="caption" id="STDZ075619"><span class="figure-label">Figure 8-1 </span>The Linker in the <span>MSP430 </span>Software Development Flow</span> <img alt="linkflow_lau131.gif" itemprop="image" src="ods/images/SLAU131R/linkflow_lau131.gif" title="The Linker in the&#xA;    MSP430 Software Development&#xA;    Flow" /> </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0756384"><a name="8.3_Invoking_the_Linker" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.3 </span>Invoking the Linker</h3>
                                <p> The general syntax for invoking the linker is:</p>
                                <div class="subsection">
                                    <table class="tabbedtext">
                                        <colgroup>
                                            <col />
                                        </colgroup>
                                        <tbody>
                                            <tr>
                                                <td> <b> <span>cl430 --run_linker</span></b> [<i>options</i>] <i>filename<sub>1</sub> <![CDATA[ ]]></i> .... <i>filename<sub>n</sub></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <table class="tabbedtext">
                                        <colgroup>
                                            <col align="left" />
                                            <col />
                                        </colgroup>
                                        <tbody>
                                            <tr>
                                                <td valign="top"> <b> <span>cl430 --run_linker</span></b></td>
                                                <td valign="top">is the command that invokes the linker. The --run_linker option's short form is -z.</td>
                                            </tr>
                                            <tr>
                                                <td valign="top"> <i>options</i> <![CDATA[ ]]></td>
                                                <td valign="top"> can appear anywhere on the command line or in a linker command file. (Options are discussed in <span class="crossreference"><a href="#STDZ0753156" class="selected">Section 8.4</a></span>.) </td>
                                            </tr>
                                            <tr>
                                                <td valign="top"> <i>filename</i><sub>1</sub>, <i>filename</i><sub>n</sub></td>
                                                <td valign="top">can be object files, linker command files, or archive libraries. The default extension for all input files is <i>.obj</i>; any other extension must be explicitly specified. The linker can determine whether the input file is an object or ASCII file that contains linker commands. The default output filename is <i>a.out</i>, unless you use the --output_file option to name the output file. </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <p>There are two methods for invoking the linker:</p>
                                <ul>
                                    <li value="1">Specify options and filenames on the command line. This example links two files, file1.obj and file2.obj, and creates an output module named link.out.</li><code><b>cl430 --run_linker file1.obj file2.obj --output_file=link.out</b></code>
                                    <li value="2">Put filenames and options in a linker command file. Filenames that are specified inside a linker command file must begin with a letter. For example, assume the file linker.cmd contains the following lines:</li><code>   --output_file=link.out file1.obj file2.obj</code>
                                    <p>Now you can invoke the linker from the command line; specify the command filename as an input file:</p><code><b>cl430 --run_linker linker.cmd</b></code>
                                    <p>When you use a command file, you can also specify other options and files on the command line. For example, you could enter:</p><code><b>cl430 --run_linker --map_file=link.map linker.cmd file3.obj</b></code>
                                    <p>The linker reads and processes a command file as soon as it encounters the filename on the command line, so it links the files in this order: file1.obj, file2.obj, and file3.obj. This example creates an output file called link.out and a map file called link.map.</p>
                                </ul>
                                <p>For information on invoking the linker for C/C++ files, see <span class="crossreference"><a href="#STDZ0755660" class="selected">Section 8.11</a></span>.</p>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0753156"><a name="8.4_Linker_Options" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4 </span>Linker Options</h3>
                                <p> Linker options control linking operations. They can be placed on the command line or in a command file. Linker options must be preceded by a hyphen (-). Options can be separated from arguments (if they have them) by an optional space.</p>
                                <div class="subsection">
                                    <p class="table" id="STDZ0754620"><span class="table-label">Table 8-1 </span>Basic Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--run_linker</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-z</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Enables linking</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ0756384" class="selected">Section 8.3</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--output_file</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-o</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Names the executable output module. The default filename is a<i>.</i>out.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753198" class="selected">Section 8.4.21</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--map_file</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-m</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Produces a map or listing of the input and output sections, including holes, and places the listing in <i>filename</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759033" class="selected">Section 8.4.16</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--stack_size</td>
                                                <td align="left" class="noBorderRight" valign="top">-stack</td>
                                                <td align="left" class="noBorderRight" valign="top">Sets C system stack size to <i>size</i><span>bytes</span> and defines a global symbol that specifies the stack size. Default = <span>128 bytes</span></td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0759685" class="selected">Section 8.4.27</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--heap_size</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-heap</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Sets heap size (for the dynamic memory allocation in C) to <i>size</i><span>bytes</span> and defines a global symbol that specifies the heap size. Default = <span>128 bytes</span></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0752477" class="selected">Section 8.4.12</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0751692"><span class="table-label">Table 8-2 </span>File Search Path Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--library</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-l</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Names an archive library or link command <i>filename</i> as linker input</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0758477" class="selected">Section 8.4.14</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--search_path</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-i</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> Alters library-search algorithms to look in a directory named with <i>pathname</i> before looking in the default location. This option must appear before the --library option.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0754614" class="selected">Section 8.4.14.1</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--priority</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-priority </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Satisfies unresolved references by the first library that contains a definition for that symbol</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753475" class="selected">Section 8.4.14.3</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--reread_libs</td>
                                                <td align="left" class="noBorderRight" valign="top">-x</td>
                                                <td align="left" class="noBorderRight" valign="top">Forces rereading of libraries, which resolves back references</td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0753475" class="selected">Section 8.4.14.3</a></span></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--disable_auto_rts</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Disables the automatic selection of a run-time-support library</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075632" class="selected">Section 8.4.7</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0758058"><span class="table-label">Table 8-3 </span>Command File Preprocessing Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--define</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Predefines <i>name</i> as a preprocessor macro. </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759758" class="selected">Section 8.4.8</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--undefine</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Removes the preprocessor macro <i>name</i>. </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759758" class="selected">Section 8.4.8</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--disable_pp</td>
                                                <td align="left" class="noBorderRight" valign="top" />
                                                <td align="left" class="noBorderRight" valign="top">Disables preprocessing for command files</td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0759758" class="selected">Section 8.4.8</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0754222"><span class="table-label">Table 8-4 </span>Diagnostic Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--diag_error</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorizes the diagnostic identified by <i>num</i> as an error</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--diag_remark</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorizes the diagnostic identified by <i>num</i> as a remark</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--diag_suppress</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Suppresses the diagnostic identified by <i>num</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--diag_warning</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorizes the diagnostic identified by <i>num</i> as a warning</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--display_error_number</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Displays a diagnostic's identifiers along with its text </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--emit_warnings_as_errors</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-pdew</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Treats warnings as errors</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--issue_remarks</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Issues remarks (nonserious warnings)</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--no_demangle</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Disables demangling of symbol names in diagnostics</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ07581" class="selected">Section 8.4.18</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--no_warnings</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Suppresses warning diagnostics (errors are still issued)</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--set_error_limit</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Sets the error limit to <i>num</i>. The linker abandons linking after this number of errors. (The default is 100.)</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--verbose_diagnostics</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Provides verbose diagnostics that display the original source with line-wrap</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075681" class="selected">Section 8.4.6</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--warn_sections</td>
                                                <td align="left" class="noBorderRight" valign="top">-w</td>
                                                <td align="left" class="noBorderRight" valign="top">Displays a message when an undefined output section is created</td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0753414" class="selected">Section 8.4.32</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0759835"><span class="table-label">Table 8-5 </span>Linker Output Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--absolute_exe</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-a</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Produces an absolute, executable module. This is the default; if neither --absolute_exe nor --relocatable is specified, the linker acts as if --absolute_exe were specified.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0757733" class="selected">Section 8.4.3.1</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--ecc:data_error</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Inject the specified errors into the output file for testing </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#lit38608224" class="selected">Section 8.4.9</a></span>
                                                    <br /><span class="crossreference"><a href="#lit40948978" class="selected">Section 8.5.9</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--ecc:ecc_error</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Inject the specified errors into the Error Correcting Code (ECC) for testing</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#lit38608224" class="selected">Section 8.4.9</a></span>
                                                    <br /><span class="crossreference"><a href="#lit40948978" class="selected">Section 8.5.9</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--mapfile_contents</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Controls the information that appears in the map file.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0755890" class="selected">Section 8.4.17</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--relocatable</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-r</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Produces a nonexecutable, relocatable output module</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ0756429" class="selected">Section 8.4.3.2</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--rom</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-r</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Create a ROM object</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--run_abs</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-abs</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Produces an absolute listing file</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0755618" class="selected">Section 8.4.25</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--xml_link_info</td>
                                                <td align="left" class="noBorderRight" valign="top" />
                                                <td align="left" class="noBorderRight" valign="top">Generates a well-formed XML <i>file </i>containing detailed information about the result of a link</td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0759715" class="selected">Section 8.4.33</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0756680"><span class="table-label">Table 8-6 </span>Symbol Management Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--entry_point</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-e</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines a global symbol that specifies the primary entry point for the output module</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753845" class="selected">Section 8.4.10</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--globalize</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Changes the symbol linkage to global for symbols that match <i>pattern</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0758003" class="selected">Section 8.4.15</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--hide</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Hides global symbols that match <i>pattern</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753355" class="selected">Section 8.4.13</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--localize</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> Changes the symbol linkage to local for symbols that match <i>pattern</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0758003" class="selected">Section 8.4.15</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--make_global</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-g</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Makes <i>symbol</i> global (overrides -h)</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753045" class="selected">Section 8.4.15.1</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--make_static</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-h</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Makes all global symbols static</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0753045" class="selected">Section 8.4.15.1</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--no_symtable</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-s</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Strips symbol table information and line number entries from the output module</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0757873" class="selected">Section 8.4.20</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--scan_libraries</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-scanlibs</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Scans all libraries for duplicate symbol definitions</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759884" class="selected">Section 8.4.26</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--symbol_map</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Maps symbol references to a symbol definition of a different name</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0751494" class="selected">Section 8.4.29</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--undef_sym</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-u</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Places an unresolved external <i>symbol</i> into the output module's symbol table</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0757427" class="selected">Section 8.4.30</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--unhide</td>
                                                <td align="left" class="noBorderRight" valign="top" />
                                                <td align="left" class="noBorderRight" valign="top">Reveals (un-hides) global symbols that match <i>pattern</i> <![CDATA[ ]]></td>
                                                <td align="left" class="noBorderRight" valign="top"> <span class="crossreference"><a href="#STDZ0753355" class="selected">Section 8.4.13</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0757637"><span class="table-label">Table 8-7 </span>Run-Time Environment Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--arg_size</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--args</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Allocates memory to be used by the loader to pass arguments</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759076" class="selected">Section 8.4.4</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--cinit_hold_wdt={on|off}</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Hold (on) or do not hold (off) watchdog timer during cinit auto-initialization.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#lit21672058" class="selected">Section 8.11.5</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--fill_value</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-f</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Sets default fill values for holes within output sections;<i> fill_value</i> is a 32-bit constant</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ075142" class="selected">Section 8.4.11</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--ram_model</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-cr</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Initializes variables at load time</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0759821" class="selected">Section 8.4.23</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight" valign="top">--rom_model</td>
                                                <td align="left" class="noBorderRight" valign="top">-c</td>
                                                <td align="left" class="noBorderRight" valign="top">Autoinitializes variables at run time</td>
                                                <td align="left" class="noBorderRight" valign="top"><span class="crossreference"><a href="#STDZ0759821" class="selected">Section 8.4.23</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" colspan="2" valign="top">--use_hw_mpy[={16|32|F5|none}] </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">This option is now a compiler option. It should be placed on the command line before the --run_linker or -z option. See the <i>MSP430 Optimizing C/C++ Compiler User's Guide</i> for details.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> -- </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0754069"><span class="table-label">Table 8-8 </span>Link-Time Optimization Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--cinit_compression [=compression_kind] </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Specifies the type of compression to apply to the C auto initialization data. The default if this option is used with no kind specified is lzss for Lempel-Ziv-Storer-Szymanski compression. Alternately, specify --cinit_compression=rle to use Run Length Encoded compression, which generally provides less efficient compression.</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ07591076" class="selected">Section 8.4.5</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--copy_compression [=compression_kind] </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Compresses data copied by linker copy tables</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ07591076" class="selected">Section 8.4.5</a></span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <p class="table" id="STDZ0751866"><span class="table-label">Table 8-9 </span>Miscellaneous Options Summary </p>
                                    <table class="gentable">
                                        <colgroup>
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                            <col align="left" />
                                        </colgroup>
                                        <thead class="tbl_hdr_gray">
                                            <tr>
                                                <th align="left" class="noBorderRight" valign="top">Option</th>
                                                <th align="left" class="noBorderRight" valign="top">Alias</th>
                                                <th align="left" class="noBorderRight" valign="top">Description</th>
                                                <th align="left" class="noBorderRight" valign="top">Section</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--linker_help</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">-help </td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Displays information about syntax and available options</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">–</td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--preferred_order</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Prioritizes placement of functions</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"><span class="crossreference"><a href="#STDZ0756218" class="selected">Section 8.4.22</a></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">--strict_compatibility</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top" />
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top">Performs more conservative and rigorous compatibility checking of input object files</td>
                                                <td align="left" class="noBorderRight noBorderBottom" valign="top"> <span class="crossreference"><a href="#STDZ0752412" class="selected">Section 8.4.28</a></span> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0755763"><a name="8.4.1_Wildcards_in_File,_Section,_and_Symbol_Patterns" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.1 </span>Wildcards in File, Section, and Symbol Patterns</h4>
                                    <p>The linker allows file, section, and symbol names to be specified using the asterisk (*) and question mark (?) wildcards. Using * matches any number of characters and using ? matches a single character. Using wildcards can make it easier to handle related objects, provided they follow a suitable naming convention.</p>
                                    <p>For example:</p><code>mp3*.obj /* matches anything .obj that begins with mp3 */
task?.o* /* matches task1.obj, task2.obj, taskX.o55, etc. */

SECTIONS
{
 .fast_code: { *.obj(*fast*) } &gt; FAST_MEM
 .vectors : { vectors.obj(.vector:part1:*) &gt; 0xFFFFFF00
 .str_code : { rts*.lib&lt;str*.obj&gt;(.text) } &gt; S1ROM
}</code>
                                </div>
                                <div class="subsection">
                                    <h4 id="SPRU1865747"><a name="8.4.2_Specifying_C_C++_Symbols_with_Linker_Options" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.2 </span>Specifying C/C++ Symbols with Linker Options</h4>
                                    <p>The link-time symbol is the same as the C/C++ identifier name.</p>
                                    <p>See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="SPRU1866044"><a name="8.4.3_Relocation_Capabilities_(--absolute_exe_and_--relocatable_Options)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.3 </span>Relocation Capabilities (--absolute_exe and --relocatable Options)</h4>
                                    <p> The linker performs relocation, which is the process of adjusting all references to a symbol when the symbol's address changes (<span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0698484">Section 2.7</a></span>). </p>
                                    <p>The linker supports two options (--absolute_exe and --relocatable) that allow you to produce an absolute or a relocatable output module. <span>The linker also supports a third option (-ar) that allows you to produce an executable, relocatable output module.</span></p>
                                    <p>When the linker encounters a file that contains no relocation or symbol table information, it issues a warning message (but continues executing). Relinking an absolute file can be successful only if each input file contains no information that needs to be relocated (that is, each file has no unresolved references and is bound to the same virtual address that it was bound to when the linker created it).</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0757733"><a name="8.4.3.1_Producing_an_Absolute_Output_Module_(--absolute_exe_option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.3.1 </span>Producing an Absolute Output Module (--absolute_exe option)</h4>
                                        <p> When you use the --absolute_exe option without the --relocatable option, the linker produces an<i> absolute, executable output module</i>. Absolute files contain<i> no </i>relocation information. Executable files contain the following:</p>
                                        <ul>
                                            <li value="1">Special symbols defined by the linker (see <span class="crossreference"><a href="#STDZ0753341" class="selected">Section 8.5.10.4</a></span>)</li>
                                            <li value="2">An header that describes information such as the program entry point</li>
                                            <li value="3"><i>No </i>unresolved references</li>
                                        </ul>
                                        <p>The following example links file1.obj and file2.obj and creates an absolute output module called a.out:</p><code>cl430 --run_linker <b>--absolute_exe</b> file1.obj file2.obj</code><span class="note"><p class="note_title">NOTE</p><b>The --absolute_exe and --relocatable Options</b><p>If you do not use the --absolute_exe or the --relocatable option, the linker acts as if you specified --absolute_exe.</p></span>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0756429"><a name="8.4.3.2_Producing_a_Relocatable_Output_Module_(--relocatable_option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.3.2 </span>Producing a Relocatable Output Module (--relocatable option)</h4>
                                        <p> When you use the --relocatable option, the linker retains relocation entries in the output module. If the output module is relocated (at load time) or relinked (by another linker execution), use --relocatable to retain the relocation entries.</p>
                                        <p>The linker produces a file that is not executable when you use the --relocatable option without the --absolute_exe option. A file that is not executable does not contain special linker symbols or an optional header. The file can contain unresolved references, but these references do not prevent creation of an output module.</p>
                                        <p>This example links file1.obj and file2.obj and creates a relocatable output module called a.out:</p><code>cl430 --run_linker <b>--relocatable</b> file1.obj file2.obj</code>
                                        <p>The output file a.out can be relinked with other object files or relocated at load time. (Linking a file that will be relinked with other files is called partial linking. For more information, see <span class="crossreference"><a href="#STDZ0756731" class="selected">Section 8.10</a></span>.)</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ075519"><a name="8.4.3.3_Producing_an_Executable,_Relocatable_Output_Module_(-ar_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.3.3 </span>Producing an Executable, Relocatable Output Module (-ar Option)</h4>
                                        <p> If you invoke the linker with both the --absolute_exe and --relocatable options, the linker produces an<i> executable, relocatable </i>object module. The output file contains the special linker symbols, an optional header, and all resolved symbol references; however, the relocation information is retained.</p>
                                        <p>This example links file1.obj and file2.obj to create an executable, relocatable output module called xr.out:</p><code>cl430 --run_linker <b>-ar</b> file1.obj file2.obj --output_file=xr.out</code>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759076"><a name="8.4.4_Allocate_Memory_for_Use_by_the_Loader_to_Pass_Arguments_(--arg_size_Opt..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.4 </span>Allocate Memory for Use by the Loader to Pass Arguments (--arg_size Option)</h4>
                                    <p> The --arg_size option instructs the linker to allocate memory to be used by the loader to pass arguments from the command line of the loader to the program. The syntax of the --arg_size option is:</p>
                                    <p><b>--arg_size=</b><i>size</i>
                                    </p>
                                    <p>The <i>size</i> is the number of bytes to be allocated in target memory for command-line arguments.</p>
                                    <p>By default, the linker creates the __c_args__ symbol and sets it to -1. When you specify --arg_size=<i>size</i>, the following occur:</p>
                                    <ul>
                                        <li value="1">The linker creates an uninitialized section named .args of <i>size</i> bytes.</li>
                                        <li value="2">The __c_args__ symbol contains the address of the .args section.</li>
                                    </ul>
                                    <p>The loader and the target boot code use the .args section and the __c_args__ symbol to determine whether and how to pass arguments from the host to the target program. See the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i> for information about the loader.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ07591076"><a name="8.4.5_Compression_(--cinit_compression_and_--copy_compression_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.5 </span>Compression (--cinit_compression and --copy_compression Option)</h4>
                                    <p> By default, the linker does not compress data. These two options specify compression through the linker. </p>
                                    <p>The --cinit_compression option specifies the compression type the linker applies to the C autoinitialization data. The default is <span>lzss</span>.</p>
                                    <p>Overlays can be managed by using linker-generated copy tables. To save ROM space the linker can compress the data copied by the copy tables. The compressed data is decompressed during copy. The --copy_compression option controls the compression of the copy data tables. </p>
                                    <p>The syntax for the options are:</p>
                                    <p><b>--cinit_compression</b>[=<i>compression_kind</i>] </p>
                                    <p><b>--copy_compression</b>[=<i>compression_kind</i>]</p>
                                    <p>The <i>compression_kind</i> can be one of the following types:</p>
                                    <ul>
                                        <li value="1"><b>off</b>. Don't compress the data.</li>
                                        <li value="2"><b>rle</b>. Compress data using Run Length Encoding. </li>
                                        <li value="3"><b>lzss</b>. Compress data using Lempel-Ziv Storer and Symanski compression<span> (the default if no<i>compression_kind</i> is specified)</span>. </li>
                                    </ul>
                                    <p>Compressed sections within initialization tables are byte aligned in order to reduce the occurrence of holes in the .cinit table.</p>
                                    <p>See <span class="crossreference"><a href="#STDZ0754720" class="selected">Section 8.8.5</a></span> for more information about compression.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ075681"><a name="8.4.6_Control_Linker_Diagnostics" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.6 </span>Control Linker Diagnostics</h4>
                                    <p>The linker uses certain C/C++ compiler options to control linker-generated diagnostics. The diagnostic options must be specified before the --run_linker option.</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--diag_error</b>=<i>num</i></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorize the diagnostic identified by <i>num</i> as an error. To find the numeric identifier of a diagnostic message, use the --display_error_number option first in a separate link. Then use --diag_error=<i>num </i>to recategorize the diagnostic as an error. You can only alter the severity of discretionary diagnostics.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--diag_remark</b>=<i>num</i></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorize the diagnostic identified by <i>num</i> as a remark. To find the numeric identifier of a diagnostic message, use the --display_error_number option first in a separate link. Then use --diag_remark=<i>num </i>to recategorize the diagnostic as a remark. You can only alter the severity of discretionary diagnostics.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--diag_suppress</b>=<i>num</i></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Suppress the diagnostic identified by <i>num</i>. To find the numeric identifier of a diagnostic message, use the --display_error_number option first in a separate link. Then use --diag_suppress=<i>num</i> to suppress the diagnostic. You can only suppress discretionary diagnostics.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--diag_warning</b>=<i>num</i></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Categorize the diagnostic identified by <i>num</i> as a warning. To find the numeric identifier of a diagnostic message, use the --display_error_number option first in a separate link. Then use --diag_warning=<i>num</i> to recategorize the diagnostic as a warning. You can only alter the severity of discretionary diagnostics.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--display_error_number</b></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Display a diagnostic's numeric identifier along with its text. Use this option in determining which arguments you need to supply to the diagnostic suppression options (--diag_suppress, --diag_error, --diag_remark, and --diag_warning). This option also indicates whether a diagnostic is discretionary. A discretionary diagnostic is one whose severity can be overridden. A discretionary diagnostic includes the suffix -D; otherwise, no suffix is present. See the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i> for more information on understanding diagnostic messages.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"><b>--emit_warnings_as_</b>
                                                        <br /><span>&#160;&#160;&#160;&#160;</span><b>errors</b>
                                                    </td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Treat all warnings as errors. This option cannot be used with the --no_warnings option. The --diag_remark option takes precedence over this option. This option takes precedence over the --diag_warning option.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--issue_remarks</b></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Issue remarks (nonserious warnings), which are suppressed by default.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--no_warnings</b></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Suppress warning diagnostics (errors are still issued).</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--set_error_limit</b>=<i>num</i></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Set the error limit to <i>num</i>, which can be any decimal value. The linker abandons linking after this number of errors. (The default is 100.)</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>--verbose_diagnostics</b></td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Provide verbose diagnostics that display the original source with line-wrap and indicate the position of the error in the source line</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ075632"><a name="8.4.7_Automatic_Library_Selection_(--disable_auto_rts_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.7 </span>Automatic Library Selection (--disable_auto_rts Option)</h4>
                                    <p> The --disable_auto_rts option disables the automatic selection of a run-time-support (RTS) library. See the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i> for details on the automatic selection process.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759758"><a name="8.4.8_Linker_Command_File_Preprocessing_(--disable_pp,_--define_and_--undefin..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.8 </span>Linker Command File Preprocessing (--disable_pp, --define and --undefine Options)</h4>
                                    <p>The linker preprocesses linker command files using a standard C preprocessor. Therefore, the command files can contain well-known preprocessing directives such as #define, #include, and #if / #endif.</p>
                                    <p>Three linker options control the preprocessor:</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <td> <b>--disable_pp</b> <![CDATA[ ]]></td>
                                                    <td>Disables preprocessing for command files</td>
                                                </tr>
                                                <tr>
                                                    <td> <b>--define</b>=<i>name</i>[=<i>val</i>]</td>
                                                    <td>Predefines <i>name</i> as a preprocessor macro</td>
                                                </tr>
                                                <tr>
                                                    <td> <b>--undefine</b>=<i>name</i> <![CDATA[ ]]></td>
                                                    <td>Removes the macro <i>name</i> <![CDATA[ ]]></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>The compiler has --define and --undefine options with the same meanings. However, the linker options are distinct; only --define and --undefine options specified after --run_linker are passed to the linker. For example:</p><code>cl430 --define=FOO=1 main.c --run_linker --define=BAR=2 lnk.cmd</code>
                                    <p>The linker sees only the --define for BAR; the compiler only sees the --define for FOO.</p>
                                    <p>When one command file #includes another, preprocessing context is carried from parent to child in the usual way (that is, macros defined in the parent are visible in the child). However, when a command file is invoked other than through #include, either on the command line or by the typical way of being named in another command file, preprocessing context is <b>not</b> carried into the nested file. The exception to this is --define and --undefine options, which apply globally from the point they are encountered. For example:</p><code>  --define GLOBAL
 #define LOCAL

 #include "incfile.cmd" /* sees GLOBAL and LOCAL */
 nestfile.cmd /* only sees GLOBAL */</code>
                                    <p>Two cautions apply to the use of --define and --undefine in command files. First, they have global effect as mentioned above. Second, since they are not actually preprocessing directives themselves, they are subject to macro substitution, probably with unintended consequences. This effect can be defeated by quoting the symbol name. For example:</p><code>  --define MYSYM=123
 --undefine MYSYM /* expands to --undefine 123 (!) */
 --undefine "MYSYM" /* ahh, that's better */</code>
                                    <p>The linker uses the same search paths to find #include files as it does to find libraries. That is, #include files are searched in the following places:</p>
                                    <ol>
                                        <li value="1">If the #include file name is in quotes (rather than &lt;brackets&gt;), in the directory of the current file</li>
                                        <li value="2">In the list of directories specified with --Iibrary options or environment variables (see <span class="crossreference"><a href="#STDZ0758477" class="selected">Section 8.4.14</a></span>)</li>
                                    </ol>
                                    <p>There are two exceptions: relative pathnames (such as "../name") always search the current directory; and absolute pathnames (such as "/usr/tools/name") bypass search paths entirely.</p>
                                    <p>The linker provides the built-in macro definitions listed in <span class="crossreference"><a href="#IDmacname" class="selected">Table 8-10</a></span>. The availability of these macros within the linker is determined by the command-line options used, not the build attributes of the files being linked. If these macros are not set as expected, confirm that your project's command line uses the correct compiler option settings.</p>
                                    <div class="subsection">
                                        <p class="table" id="IDmacname"><span class="table-label">Table 8-10 </span>Predefined <span>MSP430</span> Macro Names </p>
                                        <table class="gentable">
                                            <colgroup>
                                                <col />
                                                <col />
                                            </colgroup>
                                            <thead class="tbl_hdr_gray">
                                                <tr>
                                                    <th align="left" class="noBorderRight" valign="top">Macro Name </th>
                                                    <th align="left" class="noBorderRight" valign="top">Description</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _DATE_ _ </td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Expands to the compilation date in the form <i>mmm dd yyyy</i> <![CDATA[ ]]></td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _FILE_ _ </td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Expands to the current source filename </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _LARGE_CODE_MODEL_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Defined if --code_model=large is specified </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _LARGE_DATA_MODEL_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Defined if --data_model=large or −−data_model=restricted is specified </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _MSP430_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Always defined </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _MSP430X_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Defined if --silicon_version=mspx is specified</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _TI_COMPILER_VERSION_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Defined to a 7-9 digit integer, depending on if X has 1, 2, or 3 digits. The number does not contain a decimal. For example, version 3.2.1 is represented as 3002001. The leading zeros are dropped to prevent the number being interpreted as an octal. </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _TI_EABI_ _</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Defined to 1 if EABI is enabled; otherwise, it is undefined.</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_ _TIME_ _ </td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Expands to the compilation time in the form "<i>hh:mm:ss</i>" </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="lit38608224"><a name="8.4.9_Error_Correcting_Code_Testing_(--ecc_Options)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.9 </span>Error Correcting Code Testing (--ecc Options)</h4>
                                    <p>Error Correcting Codes (ECC) can be generated and placed in separate sections through the linker command file. ECC uses extra bits to allow errors to be detected and/or corrected by a device. The ECC support provided by the linker is compatible with the ECC support in TI Flash memory on various TI devices. TI Flash memory uses a modified Hamming(72,64) code, which uses 8 parity bits for every 64 bits. Check the documentation for your Flash memory to see if ECC is supported. (ECC for read-write memory is handled completely in hardware at run time.)</p>
                                    <p>See <span class="crossreference"><a href="#lit40948978" class="selected">Section 8.5.9</a></span> for details on linker command file syntax for ECC support.</p>
                                    <p>To test ECC error detection and handling, you can use two command-line options that inject bit errors into the linked executable. These options let you specify an address where an error should appear and a bitmask of bits in the code/data at that address to flip. You can specify the address of the error absolutely or as an offset from a symbol. </p>
                                    <p>When a data error is injected, the ECC parity bits for the data are calculated as if the error were not present. This simulates bit errors that might actually occur and test ECC's ability to correct different levels of errors.</p>
                                    <p>The <b>--ecc:data_error option</b> injects errors into the load image at the specified location. The syntax is:</p><code>--ecc:data_error=(symbol+offset|address)[,page],bitmask</code>
                                    <p>The<i> address</i> is the location of the minimum addressable unit where the error is to be injected. A <i>symbol+offset</i> can be used to specify the location of the error to be injected with a signed offset from that symbol. The <i>page</i> number is needed to make the location non-ambiguous if the address occurs on multiple memory pages. The <i>bitmask</i> is a mask of the bits to flip; its width should be the width of an addressable unit.</p>
                                    <p>For example, the following command line flips the least-significant bit in the byte at the address 0x100, making it inconsistent with the ECC parity bits for that byte:</p><code>cl430 test.c <b>--ecc:data_error=0x100,0x01</b> -z -o test.out</code>
                                    <p>The following command flips two bits in the third byte of the code for main(): </p><code>cl430 test.c <b>--ecc:data_error=main+2,0x42</b> -z -o test.out</code>
                                    <p>The <b>--ecc:ecc_error option</b> injects errors into the ECC parity bits that correspond to the specified location. Note that the ecc_error option can therefore only specify locations inside ECC input ranges, whereas the data_error option can also specify errors in the ECC output memory ranges. The syntax is:</p><code>--ecc:ecc_error=(symbol+offset|address)[,page],bitmask</code>
                                    <p>The parameters for this option are the same as for --ecc:data_error, except that the <i>bitmask</i> must be exactly 8 bits. Mirrored copies of the affected ECC byte will also contain the same injected error.</p>
                                    <p>An error injected into an ECC byte with --ecc:ecc_error may cause errors to be detected at run time in any of the 8 data bytes covered by that ECC byte.</p>
                                    <p>For example, the following command flips every bit in the ECC byte that contains the parity information for the byte at 0x200:</p><code>cl430 test.c <b>--ecc:ecc_error=0x200,0xff</b> -z -o test.out</code>
                                    <p>The linker disallows injecting errors into memory ranges that are neither an ECC range nor the input range for an ECC range. The compiler can only inject errors into initialized sections.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0753845"><a name="8.4.10_Define_an_Entry_Point_(--entry_point_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.10 </span>Define an Entry Point (--entry_point Option)</h4>
                                    <p> The memory address at which a program begins executing is called the <i>entry point</i>. When a loader loads a program into target memory, the program counter (PC) must be initialized to the entry point; the PC then points to the beginning of the program.</p>
                                    <p>The linker can assign one of four values to the entry point. These values are listed below in the order in which the linker tries to use them. If you use one of the first three values, it must be an external symbol in the symbol table.</p>
                                    <ul>
                                        <li value="1">The value specified by the --entry_point option. The syntax is:</li>
                                        <p><b>--entry_point=</b><i>global_symbol</i>
                                        </p>
                                        <p>where<i> global_symbol</i> defines the entry point and must be defined as an external symbol of the input files. The external symbol name of C or C++ objects may be different than the name as declared in the source language; refer to the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i>.</p>
                                        <li value="2"> The value of symbol _c_int00 (if present). The _c_int00 symbol <i>must</i> be the entry point if you are linking code produced by the C compiler.</li>
                                        <li value="3"> The value of symbol main (if present)</li>
                                        <li value="4"> 0 (default value)</li>
                                    </ul>
                                    <p>This example links file1.obj and file2.obj. The symbol begin is the entry point; begin must be defined as external in file1 or file2.</p><code>cl430 --run_linker <b>--entry_point=begin</b> file1.obj file2.obj</code>
                                    <p>See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ075142"><a name="8.4.11_Set_Default_Fill_Value_(--fill_value_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.11 </span>Set Default Fill Value (--fill_value Option)</h4>
                                    <p> The --fill_value option fills the holes formed within output sections. The syntax for the option is:</p>
                                    <p><b>--fill_value=</b><i>value</i>
                                    </p>
                                    <p>The argument <i>value</i> is a 32-bit constant (up to eight hexadecimal digits). If you do not use --fill_value, the linker uses 0 as the default fill value.</p>
                                    <p>This example fills holes with the hexadecimal value ABCDABCD:</p><code>cl430 --run_linker <b>--fill_value=0xABCDABCD</b> file1.obj file2.obj</code>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0752477"><a name="8.4.12_Define_Heap_Size_(--heap_size_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.12 </span>Define Heap Size (--heap_size Option)</h4>
                                    <p> The C/C++ compiler uses an uninitialized section called <span>.sysmem</span> for the C run-time memory pool used by malloc(). You can set the size of this memory pool at link time by using the --heap_size option. The syntax for the --heap_size option is:</p>
                                    <p><b>--heap_size=</b><i>size</i>
                                    </p>
                                    <p>The <i>size</i> must be a constant. This example defines a 4K <span>byte</span> heap:</p><code>cl430 --run_linker <b>--heap_size=0x1000</b> /* defines a 4k heap (.sysmem section)*/</code>
                                    <p>The linker creates the <span>.sysmem</span> section only if there is a <span>.sysmem</span> section in an input file.</p>
                                    <p>The linker also creates a global symbol <span>__TI_SYSMEM_SIZE </span>and assigns it a value equal to the size of the heap. The default size is <span>128 bytes</span>. See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code. <span>For more about C/C++ linking, see <span class="crossreference"><a href="#STDZ0755660" class="selected">Section 8.11</a></span>.</span></p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0753355"><a name="8.4.13_Hiding_Symbols" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.13 </span>Hiding Symbols</h4>
                                    <p> Symbol hiding prevents the symbol from being listed in the output file's symbol table. While localization is used to prevent name space clashes in a link unit, symbol hiding is used to obscure symbols which should not be visible outside a link unit. Such symbol’s names appear only as empty strings or “no name” in object file readers. The linker supports symbol hiding through the --hide and --unhide options. </p>
                                    <p>The syntax for these options are:</p>
                                    <p><b>--hide='</b><i>pattern</i><b>'</b>
                                    </p>
                                    <p><b>--unhide='</b><i>pattern</i><b>'</b>
                                    </p>
                                    <p>The <i>pattern</i> is a string with optional wildcards ? or *. Use ? to match a single character and use * to match zero or more characters.</p>
                                    <p>The --hide option hides global symbols with a linkname matching the <i>pattern</i>. It hides symbols matching the pattern by changing the name to an empty string. A global symbol that is hidden is also localized.</p>
                                    <p>The --unhide option reveals (un-hides) global symbols that match the <i>pattern</i> that are hidden by the --hide option. The --unhide option excludes symbols that match pattern from symbol hiding provided the pattern defined by --unhide is more restrictive than the pattern defined by --hide.</p>
                                    <p>These options have the following properties:</p>
                                    <ul>
                                        <li value="1">The --hide and --unhide options can be specified more than once on the command line.</li>
                                        <li value="2">The order of --hide and --unhide has no significance.</li>
                                        <li value="3">A symbol is matched by only one pattern defined by either --hide or --unhide.</li>
                                        <li value="4">A symbol is matched by the most restrictive pattern. Pattern A is considered more restrictive than Pattern B, if Pattern A matches a narrower set than Pattern B.</li>
                                        <li value="5">It is an error if a symbol matches patterns from --hide and --unhide and one does not supersede the other. Pattern A supersedes pattern B if A can match everything B can and more. If Pattern A supersedes Pattern B, then Pattern B is said to more restrictive than Pattern A.</li>
                                        <li value="6">These options affect final and partial linking.</li>
                                    </ul>
                                    <p>In map files these symbols are listed under the Hidden Symbols heading. </p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0758477"><a name="8.4.14_Alter_the_Library_Search_Algorithm_(--library_Option,_--search_path_Op..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.14 </span>Alter the Library Search Algorithm (--library Option, --search_path Option, and <span>MSP430_C_DIR </span>Environment Variable)</h4>
                                    <p> Usually, when you want to specify a file as linker input, you simply enter the filename; the linker looks for the file in the current directory. For example, suppose the current directory contains the library object.lib. If this library defines symbols that are referenced in the file file1.obj, this is how you link the files:</p><code>cl430 --run_linker file1.obj object.lib</code>
                                    <p> If you want to use a file that is not in the current directory, use the --library linker option. The --library option's short form is -l. The syntax for this option is:</p>
                                    <p><b>--library=</b>[<i>pathname</i>]<i> filename</i></p>
                                    <p>The<i> filename </i>is the name of an archive, an object file, or linker command file. You can specify up to 128 search paths.</p>
                                    <p>The --library option is not required when one or more members of an object library are specified for input to an output section. For more information about allocating archive members, see <span class="crossreference"><a href="#SPNU1181930" class="selected">Section 8.5.5.5</a></span>.</p>
                                    <p> You can augment the linker's directory search algorithm by using the --search_path linker option or the <span>MSP430_C_DIR</span> environment variable. The linker searches for object libraries and command files in the following order:</p>
                                    <ol>
                                        <li value="1">It searches directories named with the --search_path linker option. The --search_path option must appear before the --Iibrary option on the command line or in a command file.</li>
                                        <li value="2"> It searches directories named with <span>MSP430_C_DIR</span>.</li>
                                        <li value="3"> If <span>MSP430_C_DIR </span>is not set, it searches directories named with the assembler's <span>MSP430_A_DIR </span>environment variable.</li>
                                        <li value="4"> It searches the current directory.</li>
                                    </ol>
                                    <div class="subsection">
                                        <h4 id="STDZ0754614"><a name="8.4.14.1_Name_an_Alternate_Library_Directory_(--search_path_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.14.1 </span>Name an Alternate Library Directory (--search_path Option)</h4>
                                        <p> The --search_path option names an alternate directory that contains input files. The --search_path option's short form is -<span class="code">I</span>. The syntax for this option is:</p>
                                        <p><b>--search_path=</b><i>pathname</i>
                                        </p>
                                        <p>The <i>pathname</i> names a directory that contains input files.</p>
                                        <p>When the linker is searching for input files named with the --library option, it searches through directories named with --search_path first. Each --search_path option specifies only one directory, but you can have several --search_path options per invocation. When you use the --search_path option to name an alternate directory, it must precede any --library option used on the command line or in a command file.</p>
                                        <p>For example, assume that there are two archive libraries called r.lib and lib2.lib that reside in ld and ld2 directories. The table below shows the directories that r.lib and lib2.lib reside in, how to set environment variable, and how to use both libraries during a link. Select the row for your operating system:</p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col />
                                                    <col align="left" />
                                                </colgroup>
                                                <thead class="tbl_hdr_gray">
                                                    <tr>
                                                        <th align="left" class="noBorderRight" valign="top">Operating System</th>
                                                        <th align="left" class="noBorderRight" valign="top">Enter</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr valign="top">
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="bottom">UNIX (Bourne shell)</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <code>cl430 --run_linker f1.obj f2.obj --search_path=/ld --search_path=/ld2<br />--library=r.lib --library=lib2.lib</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="bottom">Windows</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <code>cl430 --run_linker f1.obj f2.obj --search_path=\ld --search_path=\ld2<br />--library=r.lib --library=lib2.lib</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0754256"><a name="8.4.14.2_Name_an_Alternate_Library_Directory_(MSP430_C_DIR_Environment_Variable)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.14.2 </span>Name an Alternate Library Directory (<span>MSP430_C_DIR </span>Environment Variable)</h4>
                                        <p> An environment variable is a system symbol that you define and assign a string to. The linker uses an environment variable named <span>MSP430_C_DIR</span> to name alternate directories that contain object libraries. The command syntaxes for assigning the environment variable are:</p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <thead class="tbl_hdr_gray">
                                                    <tr>
                                                        <th align="left" valign="bottom">Operating System</th>
                                                        <th align="left" valign="bottom">Enter</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="noBorderBottom">
                                                        <td align="left" valign="top">UNIX (Bourne shell)</td>
                                                        <td align="left" valign="top"> <b><span>MSP430_C_DIR</span>="</b><i>pathname<sub>1</sub></i><b>;</b><i>pathname<sub>2</sub></i><b>;</b><i> . . .</i><b>"; export <span>MSP430_C_DIR</span></b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" valign="top">Windows</td>
                                                        <td align="left" valign="top"> <b>set <span>MSP430_C_DIR</span>=</b><i> pathname<sub>1</sub> <![CDATA[ ]]></i><b>;</b><i>pathname<sub>2</sub> <![CDATA[ ]]></i><b>;</b><i> . . .</i> <![CDATA[ ]]></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The <i>pathnames </i>are directories that contain input files. Use the --library linker option on the command line or in a command file to tell the linker which library or linker command file to search for. The pathnames must follow these constraints:</p>
                                        <ul>
                                            <li value="1">Pathnames must be separated with a semicolon.</li>
                                            <li value="2">Spaces or tabs at the beginning or end of a path are ignored. For example the space before and after the semicolon in the following is ignored:</li><code>    set MSP430_C_DIR= c:\path\one\to\tools ; c:\path\two\to\tools</code>
                                            <li value="3">Spaces and tabs are allowed within paths to accommodate Windows directories that contain spaces. For example, the pathnames in the following are valid:</li><code>    set MSP430_C_DIR=c:\first path\to\tools;d:\second path\to\tools</code>
                                        </ul>
                                        <p>In the example below, assume that two archive libraries called r.lib and lib2.lib reside in ld and ld2 directories. The table below shows how to set the environment variable, and how to use both libraries during a link. Select the row for your operating system:</p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <thead class="tbl_hdr_gray">
                                                    <tr>
                                                        <th align="left" class="noBorderRight" valign="top">Operating System</th>
                                                        <th align="left" class="noBorderRight" valign="top">Invocation Command</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="bottom">UNIX (Bourne shell)</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <code>MSP430_C_DIR="/ld ;/ld2"; export MSP430_C_DIR; <br />cl430 --run_linker f1.obj f2.obj --library=r.lib --library=lib2.lib</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="bottom">Windows</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <code>MSP430_C_DIR=\ld;\ld2<br />cl430 --run linker f1.obj f2.obj --library=r.lib --library=lib2.lib</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The environment variable remains set until you reboot the system or reset the variable by entering:</p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <thead class="tbl_hdr_gray">
                                                    <tr>
                                                        <th>Operating System</th>
                                                        <th>Enter</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>UNIX (Bourne shell)</td>
                                                        <td> <code>unset MSP430_C_DIR</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td>Windows</td>
                                                        <td> <code>set MSP430_C_DIR=</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p> The assembler uses an environment variable named <span>MSP430_A_DIR</span> to name alternate directories that contain copy/include files or macro libraries. If <span>MSP430_C_DIR</span> is not set, the linker searches for object libraries in the directories named with <span>MSP430_A_DIR</span>. For information about <span>MSP430_A_DIR</span>, see <span class="crossreference"><a href="assembler-description.html#STDZ0715092">Section 4.5.2</a></span>. For more information about object libraries, see <span class="crossreference"><a href="#STDZ0755540" class="selected">Section 8.6.3</a></span>.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0753475"><a name="8.4.14.3_Exhaustively_Read_and_Search_Libraries_(--reread_libs_and_--priority..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.14.3 </span>Exhaustively Read and Search Libraries (--reread_libs and --priority Options)</h4>
                                        <p> There are two ways to exhaustively search for unresolved symbols:</p>
                                        <ul>
                                            <li value="1">Reread libraries if you cannot resolve a symbol reference (--reread_libs).</li>
                                            <li value="2">Search libraries in the order that they are specified (--priority).</li>
                                        </ul>
                                        <p>The linker normally reads input files, including archive libraries, only once when they are encountered on the command line or in the command file. When an archive is read, any members that resolve references to undefined symbols are included in the link. If an input file later references a symbol defined in a previously read archive library, the reference is not resolved.</p>
                                        <p>With the --reread_libs option, you can force the linker to reread all libraries. The linker rereads libraries until no more references can be resolved. Linking using --reread_libs may be slower, so you should use it only as needed. For example, if a.lib contains a reference to a symbol defined in b.lib, and b.lib contains a reference to a symbol defined in a.lib, you can resolve the mutual dependencies by listing one of the libraries twice, as in:</p><code>cl430 --run_linker --library=a.lib --library=b.lib --library=a.lib</code>
                                        <p>or you can force the linker to do it for you:</p><code>cl430 --run_linker <b>--reread_libs</b> --library=a.lib --library=b.lib</code>
                                        <p>The --priority option provides an alternate search mechanism for libraries. Using --priority causes each unresolved reference to be satisfied by the first library that contains a definition for that symbol. For example:</p><code>objfile references A
lib1 defines B
lib2 defines A, B; obj defining A references B</code><code>% cl430 --run_linker objfile lib1 lib2</code>
                                        <p>Under the existing model, objfile resolves its reference to A in lib2, pulling in a reference to B, which resolves to the B in lib2.</p>
                                        <p>Under --priority, objfile resolves its reference to A in lib2, pulling in a reference to B, but now B is resolved by searching the libraries in order and resolves B to the first definition it finds, namely the one in lib1.</p>
                                        <p>The --priority option is useful for libraries that provide overriding definitions for related sets of functions in other libraries without having to provide a complete version of the whole library.</p>
                                        <p>For example, suppose you want to override versions of malloc and free defined in the <span>rts430.lib</span> without providing a full replacement for <span>rts430.lib</span>. Using --priority and linking your new library before <span>rts430.lib</span> guarantees that all references to malloc and free resolve to the new library.</p>
                                        <p>The --priority option is intended to support linking programs with SYS/BIOS where situations like the one illustrated above occur.</p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0758003"><a name="8.4.15_Change_Symbol_Localization" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.15 </span>Change Symbol Localization</h4>
                                    <p> Symbol localization changes symbol linkage from global to local (static). This is used to obscure global symbols in a library which should not be visible outside the library, but must be global because they are accessed by several modules in the library. The linker supports symbol localization through the --localize and --globalize linker options.</p>
                                    <p>The syntax for these options are:</p>
                                    <p><b>--localize='</b><i>pattern</i><b>'</b>
                                    </p>
                                    <p><b>--globalize='</b><i>pattern</i><b>'</b>
                                    </p>
                                    <p>The <i>pattern</i> is a string with optional wildcards ? or *. Use ? to match a single character and use * to match zero or more characters.</p>
                                    <p>The --localize option changes the symbol linkage to local for symbols matching the <i>pattern</i>. </p>
                                    <p>The --globalize option changes the symbol linkage to global for symbols matching the <i>pattern</i>. The --globalize option only affects symbols that are localized by the --localize option. The --globalize option excludes symbols that match the pattern from symbol localization, provided the pattern defined by --globalize is more restrictive than the pattern defined by --localize.</p>
                                    <p>See <span class="crossreference"><a href="#SPRU1865747" class="selected">Section 8.4.2</a></span> for information about using C/C++ identifiers in linker options such as --localize and --globalize.</p>
                                    <p>These options have the following properties:</p>
                                    <ul>
                                        <li value="1">The --localize and --globalize options can be specified more than once on the command line.</li>
                                        <li value="2">The order of --localize and --globalize options has no significance.</li>
                                        <li value="3">A symbol is matched by only one pattern defined by either --localize or --globalize.</li>
                                        <li value="4">A symbol is matched by the most restrictive pattern. Pattern A is considered more restrictive than Pattern B, if Pattern A matches a narrower set than Pattern B.</li>
                                        <li value="5">It is an error if a symbol matches patterns from --localize and --globalize and if one does not supersede other. Pattern A supersedes pattern B if A can match everything B can, and some more. If Pattern A supersedes Pattern B, then Pattern B is said to more restrictive than Pattern A.</li>
                                        <li value="6">These options affect final and partial linking.</li>
                                    </ul>
                                    <p>In map files these symbols are listed under the Localized Symbols heading.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0753045"><a name="8.4.15.1_Make_All_Global_Symbols_Static_(--make_static_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.15.1 </span>Make All Global Symbols Static (--make_static Option)</h4>
                                        <p> The --make_static option makes all global symbols static. Static symbols are not visible to externally linked modules. By making global symbols static, global symbols are essentially hidden. This allows external symbols with the same name (in different files) to be treated as unique.</p>
                                        <p>The --make_static option effectively nullifies all .global assembler directives. All symbols become local to the module in which they are defined, so no external references are possible. For example, assume file1.obj and file2.obj both define global symbols called EXT. By using the --make_static option, you can link these files without conflict. The symbol EXT defined in file1.obj is treated separately from the symbol EXT defined in file2.obj.</p><code>cl430 --run_linker <b>--make_static</b> file1.obj file2.obj</code>
                                        <p> The --make_static option makes all global symbols static. If you have a symbol that you want to remain global and you use the --make_static option, you can use the --make_global option to declare that symbol to be global. The --make_global option overrides the effect of the --make_static option for the symbol that you specify. The syntax for the --make_global option is:</p>
                                        <p><b>--make_global=</b><i>global_symbol</i>
                                        </p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759033"><a name="8.4.16_Create_a_Map_File_(--map_file_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.16 </span>Create a Map File (--map_file Option)</h4>
                                    <p> The syntax for the --map_file option is:</p>
                                    <p><b>--map_file=</b><i>filename</i>
                                    </p>
                                    <p>The linker map describes:</p>
                                    <ul>
                                        <li value="1">Memory configuration</li>
                                        <li value="2">Input and output section allocation</li>
                                        <li value="3">Linker-generated copy tables</li>
                                        <li value="4">The addresses of external symbols after they have been relocated</li>
                                        <li value="5">Hidden and localized symbols</li>
                                    </ul>
                                    <p>The map file contains the name of the output module and the entry point; it can also contain up to three tables:</p>
                                    <ul>
                                        <li value="1">A table showing the new memory configuration if any nondefault memory is specified (memory configuration). The table has the following columns; this information is generated on the basis of the information in the MEMORY directive in the linker command file: <ul><li value="1"><b>Name.</b> This is the name of the memory range specified with the MEMORY directive.</li><li value="2"><b>Origin. </b>This specifies the starting address of a memory range.</li><li value="3"><b>Length. </b>This specifies the length of a memory range.</li><li value="4"><b>Unused.</b> This specifies the total amount of unused (available) memory in that memory area.</li><li value="5"><b>Attributes. </b>This specifies one to four attributes associated with the named range:</li><div class="subsection"><table class="tabbedtext"><colgroup><col align="left" /><col align="left" /><col align="left" /><col /></colgroup><tbody><tr><td align="left" class="noBorderRight noBorderBottom" valign="top" /><td align="left" class="noBorderRight noBorderBottom" valign="top">R</td><td align="left" class="noBorderRight noBorderBottom" valign="top">specifies that the memory can be read.</td><td align="left" class="noBorderRight noBorderBottom" valign="top" /></tr><tr><td align="left" class="noBorderRight noBorderBottom" valign="top" /><td align="left" class="noBorderRight noBorderBottom" valign="top">W</td><td align="left" class="noBorderRight noBorderBottom" valign="top">specifies that the memory can be written to.</td><td align="left" class="noBorderRight noBorderBottom" valign="top" /></tr><tr><td align="left" class="noBorderRight noBorderBottom" valign="top" /><td align="left" class="noBorderRight noBorderBottom" valign="top">X</td><td align="left" class="noBorderRight noBorderBottom" valign="top">specifies that the memory can contain executable code.</td><td align="left" class="noBorderRight noBorderBottom" valign="top" /></tr><tr><td align="left" class="noBorderRight noBorderBottom" valign="top" /><td align="left" class="noBorderRight noBorderBottom" valign="top">I</td><td align="left" class="noBorderRight noBorderBottom" valign="top">specifies that the memory can be initialized.</td><td align="left" class="noBorderRight noBorderBottom" valign="top" /></tr></tbody></table></div></ul></li>
                                        <p>For more information about the MEMORY directive, see <span class="crossreference"><a href="#STDZ075888" class="selected">Section 8.5.4</a></span>.</p>
                                        <li value="2">A table showing the linked addresses of each output section and the input sections that make up the output sections (section placement map). This table has the following columns; this information is generated on the basis of the information in the SECTIONS directive in the linker command file: <ul><li value="1"><b>Output section.</b> This is the name of the output section specified with the SECTIONS directive.</li><li value="2"><b>Origin.</b> The first origin listed for each output section is the starting address of that output section. The indented origin value is the starting address of that portion of the output section.</li><li value="3"><b>Length.</b> The first length listed for each output section is the length of that output section. The indented length value is the length of that portion of the output section.</li><li value="4"><b>Attributes/input sections.</b> This lists the input file or value associated with an output section. If the input section could not be allocated, the map file will indicate this with "FAILED TO ALLOCATE".</li></ul></li>
                                        <p>For more information about the SECTIONS directive, see <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>.</p>
                                        <li value="3">A table showing each external symbol and its address sorted by symbol name.</li>
                                        <li value="4">A table showing each external symbol and its address sorted by symbol address.</li>
                                    </ul>
                                    <p>The following example links file1.obj and file2.obj and creates a map file called map.out:</p><code>cl430 --run_linker file1.obj file2.obj <b>--map_file=map.out</b></code>
                                    <p><span class="crossreference"><a href="#STDZ0753137" class="selected">Example 8-32</a></span> shows an example of a map file.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0755890"><a name="8.4.17_Managing_Map_File_Contents_(--mapfile_contents_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.17 </span>Managing Map File Contents (--mapfile_contents Option)</h4>
                                    <p> The --mapfile_contents option assists with managing the content of linker-generated map files. The syntax for the --mapfile_contents option is:</p>
                                    <p><b>--mapfile_contents=</b><i>filter</i>[, <i>filter</i>]</p>
                                    <p>When the --map_file option is specified, the linker produces a map file containing information about memory usage, placement information about sections that were created during a link, details about linker-generated copy tables, and symbol values.</p>
                                    <p>The --mapfile_contents option provides a mechanism for you to control what information is included in or excluded from a map file. When you specify --mapfile_contents=help from the command line, a help screen listing available filter options is displayed. The following filter options are available:</p>
                                    <div class="subsection">
                                        <table class="gentable">
                                            <colgroup>
                                                <col />
                                                <col />
                                                <col />
                                            </colgroup>
                                            <thead class="tbl_hdr_gray">
                                                <tr>
                                                    <th>Attribute</th>
                                                    <th>Description</th>
                                                    <th>Default State</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>crctables</td>
                                                    <td>CRC tables</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>copytables</td>
                                                    <td>Copy tables</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>entry</td>
                                                    <td>Entry point</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>load_addr</td>
                                                    <td>Display load addresses</td>
                                                    <td>Off</td>
                                                </tr>
                                                <tr>
                                                    <td>memory</td>
                                                    <td>Memory ranges</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>modules</td>
                                                    <td>Module view</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>sections</td>
                                                    <td>Sections</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>sym_defs</td>
                                                    <td>Defined symbols per file</td>
                                                    <td>Off</td>
                                                </tr>
                                                <tr>
                                                    <td>sym_dp</td>
                                                    <td>Symbols sorted by data page</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>sym_name</td>
                                                    <td>Symbols sorted by name</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>sym_runaddr</td>
                                                    <td>Symbols sorted by run address</td>
                                                    <td>On</td>
                                                </tr>
                                                <tr>
                                                    <td>all</td>
                                                    <td>Enables all attributes</td>
                                                    <td />
                                                </tr>
                                                <tr>
                                                    <td>none</td>
                                                    <td>Disables all attributes</td>
                                                    <td />
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>The --mapfile_contents option controls display filter settings by specifying a comma-delimited list of display attributes. When prefixed with the word no, an attribute is disabled instead of enabled. For example:</p><code>--mapfile_contents=copytables,noentry
--mapfile_contents=all,nocopytables
--mapfile_contents=none,entry</code>
                                    <p>By default, those sections that are currently included in the map file when the --map_file option is specified are included. The filters specified in the --mapfile_contents options are processed in the order that they appear in the command line. In the third example above, the first filter, none, clears all map file content. The second filter, entry, then enables information about entry points to be included in the generated map file. That is, when --mapfile_contents=none,entry is specified, the map file contains <i>only</i> information about entry points.</p>
                                    <p>The load_addr and sym_defs attributes are both disabled by default. </p>
                                    <p>If you turn on the load_addr filter, the map file includes the load address of symbols that are included in the symbol list in addition to the run address (if the load address is different from the run address).</p>
                                    <p>You can use the sym_defs filter to include information sorted on a file by file basis. You may find it useful to replace the sym_name, sym_dp, and sym_runaddr sections of the map file with the sym_defs section by specifying the following --mapfile_contents option:</p><code>--mapfile_contents=nosym_name,nosym_dp,nosym_runaddr,sym_defs</code>
                                </div>
                                <p>By default, information about global symbols defined in an application are included in tables sorted by name, data page, and run address. If you use the --mapfile_contents=sym_defs option, static variables are also listed.</p>
                                <div class="subsection">
                                    <h4 id="STDZ07581"><a name="8.4.18_Disable_Name_Demangling_(--no_demangle)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.18 </span>Disable Name Demangling (--no_demangle)</h4>
                                    <p> By default, the linker uses demangled symbol names in diagnostics. For example:</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col />
                                                <col align="left" />
                                                <col align="left" />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight" />
                                                    <td align="left" class="noBorderRight">undefined symbol</td>
                                                    <td align="left" class="noBorderRight">first referenced in file</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" />
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight" />
                                                    <td align="left" class="noBorderRight">ANewClass::getValue()</td>
                                                    <td align="left">test.obj</td>
                                                    <td align="left" class="noBorderRight" />
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p> The --no_demangle option disables the demangling of symbol names in diagnostics. For example:</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col />
                                                <col align="left" />
                                                <col align="left" />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight" />
                                                    <td align="left" class="noBorderRight">undefined symbol</td>
                                                    <td align="left" class="noBorderRight">first referenced in file</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" />
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight" />
                                                    <td align="left" class="noBorderRight">_ZN9ANewClass8getValueEv</td>
                                                    <td align="left">test.obj</td>
                                                    <td align="left" class="noBorderRight" />
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0754915"><a name="8.4.19_Disable_Merging_of_Symbolic_Debugging_Information_(--no_sym_merge_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.19 </span><span>Disable </span>Merging of Symbolic Debugging Information<span> (--no_sym_merge Option)</span></h4>
                                    <p> By default, the linker eliminates duplicate entries of symbolic debugging information. Such duplicate information is commonly generated when a C program is compiled for debugging. For example:</p><code>-[ header.h ]-
typedef struct
{
 &lt;define some structure members&gt;} XYZ;

-[ f1.c ]-
#include "header.h"...

-[ f2.c ]-
#include "header.h"...</code>
                                    <p>When these files are compiled for debugging, both f1.obj and f2.obj have symbolic debugging entries to describe type XYZ. For the final output file, only one set of these entries is necessary. The linker eliminates the duplicate entries automatically.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0757873"><a name="8.4.20_Strip_Symbolic_Information_(--no_symtable_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.20 </span>Strip Symbolic Information (--no_symtable Option)</h4>
                                    <p> The --no_symtable option creates a smaller output module by omitting symbol table information and line number entries. The --no_sym_table option is useful for production applications when you do not want to disclose symbolic information to the consumer.</p>
                                    <p>This example links file1.obj and file2.obj and creates an output module, stripped of line numbers and symbol table information, named nosym.out:</p><code>cl430 --run_linker --output_file=nosym.out <b>--no_symtable</b> file1.obj file2.obj</code>
                                    <p>Using the --no_symtable option limits later use of a symbolic debugger.</p><span class="note"><p class="note_title">NOTE</p><b>Stripping Symbolic Information</b><p>The --no_symtable option is deprecated. To remove symbol table information, use the <span>strip430</span> utility as described in <span class="crossreference"><a href="object-file-utilities.html#STDZ0782175">Section 11.4</a></span>. </p></span>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0753198"><a name="8.4.21_Name_an_Output_Module_(--output_file_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.21 </span>Name an Output Module (--output_file Option)</h4>
                                    <p> The linker creates an output module when no errors are encountered. If you do not specify a filename for the output module, the linker gives it the default name a.out. If you want to write the output module to a different file, use the --output_file option. The syntax for the --output_file option is:</p>
                                    <p><b>--output_file=</b><i>filename</i>
                                    </p>
                                    <p>The<i> filename </i>is the new output module name.</p>
                                    <p>This example links file1.obj and file2.obj and creates an output module named run.out:</p><code>cl430 --run_linker <b>--output_file=run.out</b> file1.obj file2.obj</code>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0756218"><a name="8.4.22_Prioritizing_Function_Placement_(--preferred_order_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.22 </span>Prioritizing Function Placement (--preferred_order Option)</h4>
                                    <p>The compiler prioritizes the placement of a function relative to others based on the order in which --preferred_order options are encountered during the linker invocation. The syntax is:</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col align="left" />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight"><b>--preferred_order=</b><i>function specification</i> <![CDATA[ ]]></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>Refer to the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i> for details on the program cache layout tool, which is impacted by --preferred_option.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759821"><a name="8.4.23_C_Language_Options_(--ram_model_and_--rom_model_Options)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.23 </span>C Language Options (--ram_model and --rom_model Options)</h4>
                                    <p> The --ram_model and --rom_model options cause the linker to use linking conventions that are required by the C compiler.</p>
                                    <ul>
                                        <li value="1"> The --ram_model option tells the linker to initialize variables at load time.</li>
                                        <li value="2"> The --rom_model option tells the linker to autoinitialize variables at run time.</li>
                                    </ul>
                                    <p>For more information, see <span class="crossreference"><a href="#STDZ0755660" class="selected">Section 8.11</a></span>, <span class="crossreference"><a href="program-loading-and-running.html#STDZ0756527">Section 3.3.2.1</a></span>, and <span class="crossreference"><a href="program-loading-and-running.html#STDZ0754023">Section 3.3.2.2</a></span>.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ07588456"><a name="8.4.24_Retain_Discarded_Sections_(--retain_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.24 </span>Retain Discarded Sections (--retain Option)</h4>
                                    <p> When --unused_section_elimination is on, the ELF linker does not include a section in the final link if it is not needed in the executable to resolve references. The --retain option tells the linker to retain a list of sections that would otherwise not be retained. This option accepts the wildcards '*' and '?'. When wildcards are used, the argument should be in quotes. The syntax for this option is:</p>
                                    <p><b>--retain</b>=<i>sym_or_scn_spec</i></p>
                                    <p>The --retain option take one of the following forms:</p>
                                    <ul>
                                        <li value="1"><b>--retain=</b><i>symbol_spec</i>
                                        </li>
                                        <p>Specifying the symbol format retains sections that define <i>symbol_spec</i>. For example, this code retains sections that define symbols that start with init:</p><code>   --retain='init*'</code>
                                        <p>You cannot specify --retain='*'.</p>
                                        <li value="2"><b>--retain=</b><i>file_spec</i>(<i>scn_spec</i>[, <i>scn_spec</i>, ...]</li>
                                        <p>Specifying the file format retains sections that match one or more <i>scn_spec</i> from files matching the <i>file_spec</i>. For example, this code retains .intvec sections from all input files: </p><code>   --retain='*(.int*)'</code>
                                        <p>You can specify --retain='*(*)' to retain all sections from all input files. However, this does not prevent sections from library members from being optimized out.</p>
                                        <li value="3"><b>--retain=</b><i>ar_spec</i>&lt;<i>mem_spec</i>, [<i>mem_spec</i>, ...&gt;(<i>scn_spec</i>[, <i>scn_spec</i>, ...]</li>
                                        <p>Specifying the archive format retains sections matching one or more <i>scn_spec</i> from members matching one or more <i>mem_spec</i> from archive files matching <i>ar_spec</i>. For example, this code retains the .text sections from printf.obj in the <span>rts430_eabi.lib</span> library:</p><code>   --retain=rts430_eabi.lib&lt;printf.obj&gt;(.text)</code>
                                        <p>If the library is specified with the --library option <span>(--library=rts64plus_eabi.lib)</span> the library search path is used to search for the library. You cannot specify '*&lt;*&gt;(*)'.</p>
                                    </ul>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0755618"><a name="8.4.25_Create_an_Absolute_Listing_File_(--run_abs_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.25 </span>Create an Absolute Listing File (--run_abs Option)</h4>
                                    <p> The --run_abs option produces an output file for each file linked. These files are named with the input filenames and an extension of .abs. Header files, however, do not generate a corresponding .abs file.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759884"><a name="8.4.26_Scan_All_Libraries_for_Duplicate_Symbol_Definitions_(--scan_libraries)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.26 </span>Scan All Libraries for Duplicate Symbol Definitions (--scan_libraries)</h4>
                                    <p>The --scan_libraries option scans all libraries during a link looking for duplicate symbol definitions to those symbols that are actually included in the link. The scan does not consider absolute symbols or symbols defined in COMDAT sections. The --scan_libraries option helps determine those symbols that were actually chosen by the linker over other existing definitions of the same symbol in a library.</p>
                                    <p>The library scanning feature can be used to check against unintended resolution of a symbol reference to a definition when multiple definitions are available in the libraries.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759685"><a name="8.4.27_Define_Stack_Size_(--stack_size_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.27 </span>Define Stack Size (--stack_size Option)</h4>
                                    <p> The <span>MSP430</span> C/C++ compiler uses an uninitialized section, .stack, to allocate space for the run-time stack. You can set the size of this section in <span>bytes</span> at link time with the --stack_size option. The syntax for the --stack_size option is:</p>
                                    <p><b>--stack_size=</b><i>size</i>
                                    </p>
                                    <p>The <i>size</i> must be a constant and is in <span>bytes</span>. This example defines a 4K <span>byte</span> stack:</p><code>cl430 --run_linker <b>--stack_size=0x1000</b> /* defines a 4K heap (.stack section)*/</code>
                                    <p>If you specified a different stack size in an input section, the input section stack size is ignored. Any symbols defined in the input section remain valid; only the stack size is different.</p>
                                    <p>When the linker defines the .stack section, it also defines a global symbol,<span> __TI_STACK_SIZE</span>, and assigns it a value equal to the size of the section. The default software stack size is <span>128 bytes</span>. See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0752412"><a name="8.4.28_Enforce_Strict_Compatibility_(--strict_compatibility_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.28 </span>Enforce Strict Compatibility (--strict_compatibility Option)</h4>
                                    <p> The linker performs more conservative and rigorous compatibility checking of input object files when you specify the --strict_compatibility option. Using this option guards against additional potential compatibility issues, but may signal false compatibility errors when linking in object files built with an older toolset, or with object files built with another compiler vendor's toolset. To avoid issues with legacy libraries, the --strict_compatibility option is turned off by default. </p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0751494"><a name="8.4.29_Mapping_of_Symbols_(--symbol_map_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.29 </span>Mapping of Symbols (--symbol_map Option)</h4>
                                    <p> Symbol mapping allows a symbol reference to be resolved by a symbol with a different name. Symbol mapping allows functions to be overridden with alternate definitions. This feature can be used to patch in alternate implementations, which provide patches (bug fixes) or alternate functionality. The syntax for the --symbol_map option is:</p>
                                    <p><b>--symbol_map=</b><i>refname</i>=<i>defname</i></p>
                                    <p>For example, the following code makes the linker resolve any references to foo by the definition foo_patch:</p><code>--symbol_map='foo=foo_patch'</code>
                                    <p>The --symbol_map option is now supported even if --opt_level=4 was used when compiling.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0757427"><a name="8.4.30_Introduce_an_Unresolved_Symbol_(--undef_sym_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.30 </span>Introduce an Unresolved Symbol (--undef_sym Option)</h4>
                                    <p> The --undef_sym option introduces the linkname for an unresolved symbol into the linker's symbol table. This forces the linker to search a library and include the member that defines the symbol. The linker must encounter the --undef_sym option<i> before </i>it links in the member that defines the symbol. The syntax for the --undef_sym option is:</p>
                                    <p><b>--undef_sym=</b><i>symbol</i>
                                    </p>
                                    <p>For example, suppose a library named <span>rts430.lib</span> contains a member that defines the symbol symtab; none of the object files being linked reference symtab. However, suppose you plan to relink the output module and you want to include the library member that defines symtab in this link. Using the --undef_sym option as shown below forces the linker to search <span>rts430.lib</span> for the member that defines symtab and to link in the member.</p><code>cl430 --run_linker <b>--undef_sym=symtab</b> file1.obj file2.obj rts430.lib</code>
                                    <p>If you do not use --undef_sym, this member is not included, because there is no explicit reference to it in file1.obj or file2.obj.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="SLAU1313128"><a name="8.4.31_Replace_Multiply_Routine_With_Hardware_Multiplier_Routine_(--use_hw_mpy)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.31 </span>Replace Multiply Routine With Hardware Multiplier Routine (--use_hw_mpy)</h4>
                                    <p>This option is now a compiler option and may not be used as a linker option, even though some of its effects take place at link time. It should be placed on the command line before the --run_linker or -z option. See the <i>MSP430 Optimizing C/C++ Compiler User's Guide</i> for details.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0753414"><a name="8.4.32_Display_a_Message_When_an_Undefined_Output_Section_Is_Created_(--warn_..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.32 </span>Display a Message When an Undefined Output Section Is Created (--warn_sections)</h4>
                                    <p>In a linker command file, you can set up a SECTIONS directive that describes how input sections are combined into output sections. However, if the linker encounters one or more input sections that do not have a corresponding output section defined in the SECTIONS directive, the linker combines the input sections that have the same name into an output section with that name. By default, the linker does not display a message to tell you that this occurred.</p>
                                    <p>You can use the --warn_sections option to cause the linker to display a message when it creates a new output section.</p>
                                    <p>For more information about the SECTIONS directive, see <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>. For more information about the default actions of the linker, see <span class="crossreference"><a href="#STDZ0752588" class="selected">Section 8.7</a></span>.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759715"><a name="8.4.33_Generate_XML_Link_Information_File_(--xml_link_info_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.33 </span>Generate XML Link Information File (--xml_link_info Option)</h4>
                                    <p> The linker supports the generation of an XML link information file through the --xml_link_info=<i>file </i>option. This option causes the linker to generate a well-formed XML file containing detailed information about the result of a link. The information included in this file includes all of the information that is currently produced in a linker generated map file. See <span class="crossreference"><a href="xml-link-information-file-description.html#STDZ0820750">Section A</a></span> for specifics on the contents of the generated XML file.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ07512886"><a name="8.4.34_Zero_Initialization_(--zero_init_Option)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.4.34 </span>Zero Initialization (--zero_init Option)</h4>
                                    <p> The C and C++ standards require that global and static variables that are not explicitly initialized must be set to 0 before program execution. The C/C++ compiler supports preinitialization of uninitialized variables by default. To turn this off, specify the linker option --zero_init=off.</p>
                                    <p>The syntax for the --zero_init option is:</p>
                                    <p><b>--zero_init</b>[={<i>on</i>|<i>off</i>}]</p><span class="note"><p class="note_title">NOTE</p><b>Disabling Zero Initialization Not Recommended</b><p> In general, this option it is not recommended. If you turn off zero initialization, automatic initialization of uninitialized global and static objects to zero will not occur. You are then expected to initialize these variables to zero in some other manner.</p></span>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0751521"><a name="8.5_Linker_Command_Files" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5 </span>Linker Command Files</h3>
                                <p> Linker command files allow you to put linker options and directives in a file; this is useful when you invoke the linker often with the same options and directives. Linker command files are also useful because they allow you to use the MEMORY and SECTIONS directives to customize your application. You must use these directives in a command file; you cannot use them on the command line.</p>
                                <p>Linker command files are ASCII files that contain one or more of the following:</p>
                                <ul>
                                    <li value="1">Input filenames, which specify object files, archive libraries, or other command files. (If a command file calls another command file as input, this statement must be the <i>last</i> statement in the calling command file. The linker does not return from called command files.)</li>
                                    <li value="2">Linker options, which can be used in the command file in the same manner that they are used on the command line</li>
                                    <li value="3">The MEMORY and SECTIONS linker directives. The MEMORY directive defines the target memory configuration (see <span class="crossreference"><a href="#STDZ075888" class="selected">Section 8.5.4</a></span>). The SECTIONS directive controls how sections are built and allocated (see <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>.)</li>
                                    <li value="4">Assignment statements, which define and assign values to global symbols</li>
                                </ul>
                                <p>To invoke the linker with a command file, enter the <span>cl430 --run_linker</span> command and follow it with the name of the command file:</p>
                                <div class="subsection">
                                    <table class="tabbedtext">
                                        <colgroup>
                                            <col align="left" />
                                            <col />
                                        </colgroup>
                                        <tbody>
                                            <tr>
                                                <td align="left" class="noBorderRight noBorderBottom" colspan="2" valign="top"> <b> <span>cl430 --run_linker</span></b><i>command_filename</i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <p>The linker processes input files in the order that it encounters them. If the linker recognizes a file as an object file, it links the file. Otherwise, it assumes that a file is a command file and begins reading and processing commands from it. Command filenames are case sensitive, regardless of the system used.</p>
                                <p><span class="crossreference"><a href="#STDZ0754621" class="selected">Example 8-1</a></span> shows a sample linker command file called link.cmd.</p>
                                <div class="example">
                                    <h4 id="STDZ0754621"><a name="Example_8-1_Linker_Command_File" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-1 </span>Linker Command File</h4><code>a.obj /* First input filename */
b.obj /* Second input filename */
--output_file=prog.out /* Option to specify output file */
--map_file=prog.map /* Option to specify map file */</code>
                                </div>
                                <p> The sample file in <span class="crossreference"><a href="#STDZ0754621" class="selected">Example 8-1</a></span> contains only filenames and options. (You can place comments in a command file by delimiting them with /* and */.) To invoke the linker with this command file, enter:</p><code><b>cl430 --run_linker link.cmd</b></code>
                                <p>You can place other parameters on the command line when you use a command file:</p><code><b>cl430 --run_linker --relocatable link.cmd c.obj d.obj</b></code>
                                <p>The linker processes the command file as soon as it encounters the filename, so a.obj and b.obj are linked into the output module before c.obj and d.obj.</p>
                                <p>You can specify multiple command files. If, for example, you have a file called names.lst that contains filenames and another file called dir.cmd that contains linker directives, you could enter:</p><code><b>cl430 --run_linker names.lst dir.cmd</b></code>
                                <p>One command file can call another command file; this type of nesting is limited to 16 levels. If a command file calls another command file as input, this statement must be the<i> last </i>statement in the calling command file.</p>
                                <p>Blanks and blank lines are insignificant in a command file except as delimiters. This also applies to the format of linker directives in a command file. <span class="crossreference"><a href="#STDZ0751317" class="selected">Example 8-2</a></span> shows a sample command file that contains linker directives.</p>
                                <div class="example">
                                    <h4 id="STDZ0751317"><a name="Example_8-2_Command_File_With_Linker_Directives" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-2 </span>Command File With Linker Directives</h4><code>a.obj b.obj c.obj /* Input filenames */
--output_file=prog.out /* Options */
--map_file=prog.map

MEMORY /* MEMORY directive */
{
 RAM: origin = 0x0200 length = 0x0100
 EXT_MEM: origin = 0x1000 length = 0x1000
}

SECTIONS /* SECTIONS directive */
{
 .text: &gt; EXT_MEM
 .data: &gt; EXT_MEM
 .bss: &gt; RAM
}</code>
                                </div>
                                <p>For more information, see <span class="crossreference"><a href="#STDZ075888" class="selected">Section 8.5.4</a></span> for the MEMORY directive, and <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span> for the SECTIONS directive.</p>
                                <div class="subsection">
                                    <h4 id="STDZ0750700"><a name="8.5.1_Reserved_Names_in_Linker_Command_Files" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.1 </span>Reserved Names in Linker Command Files</h4>
                                    <p>The following names (in both uppercase and lowercase) are reserved as keywords for linker directives. Do not use them as symbol or section names in a command file. </p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col />
                                                <col />
                                                <col />
                                                <col />
                                                <col />
                                            </colgroup>
                                            <tbody align="left">
                                                <tr>
                                                    <td>ADDRESS_MASK</td>
                                                    <td>END</td>
                                                    <td>LENGTH</td>
                                                    <td>ORG</td>
                                                    <td>SIZE</td>
                                                </tr>
                                                <tr>
                                                    <td>ALGORITHM</td>
                                                    <td>f</td>
                                                    <td>LOAD</td>
                                                    <td>ORIGIN</td>
                                                    <td>START</td>
                                                </tr>
                                                <tr>
                                                    <td>ALIGN</td>
                                                    <td>FILL</td>
                                                    <td>LOAD_END</td>
                                                    <td>PAGE</td>
                                                    <td>TABLE</td>
                                                </tr>
                                                <tr>
                                                    <td>ATTR</td>
                                                    <td>GROUP</td>
                                                    <td>LOAD_SIZE</td>
                                                    <td>PALIGN</td>
                                                    <td>TYPE</td>
                                                </tr>
                                                <tr>
                                                    <td>BLOCK</td>
                                                    <td>HAMMING_MASK</td>
                                                    <td>LOAD_START</td>
                                                    <td>PARITY_MASK</td>
                                                    <td>UNION</td>
                                                </tr>
                                                <tr>
                                                    <td>COMPRESSION</td>
                                                    <td>HIGH</td>
                                                    <td>MEMORY</td>
                                                    <td>RUN</td>
                                                    <td>UNORDERED</td>
                                                </tr>
                                                <tr>
                                                    <td>COPY</td>
                                                    <td>INPUT_PAGE</td>
                                                    <td>MIRRORING</td>
                                                    <td>RUN_END</td>
                                                    <td>VECT_INIT</td>
                                                </tr>
                                                <tr>
                                                    <td>CRC_TABLE</td>
                                                    <td>INPUT_RANGE</td>
                                                    <td>NOINIT</td>
                                                    <td>RUN_SIZE</td>
                                                    <td>VFILL</td>
                                                </tr>
                                                <tr>
                                                    <td>DSECT</td>
                                                    <td>l (lowercase L)</td>
                                                    <td>NOLOAD</td>
                                                    <td>RUN_START</td>
                                                    <td />
                                                </tr>
                                                <tr>
                                                    <td>ECC</td>
                                                    <td>LEN</td>
                                                    <td>o</td>
                                                    <td>SECTIONS</td>
                                                    <td />
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>In addition, any section names used by the TI tools are reserved from being used as the prefix for other names, unless the section will be a subsection of the section name used by the TI tools. For example, section names may not begin with .debug.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750701"><a name="8.5.2_Constants_in_Linker_Command_Files" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.2 </span>Constants in Linker Command Files</h4>
                                    <p> You can specify constants with either of two syntax schemes: the scheme used for specifying decimal, octal, or hexadecimal constants (but not binary constants) used in the assembler (see <span class="crossreference"><a href="assembler-description.html#STDZ071156">Section 4.7</a></span>) or the scheme used for integer constants in C syntax.</p>
                                    <p>Examples:</p>
                                    <div class="subsection">
                                        <table class="gentable">
                                            <colgroup>
                                                <col />
                                                <col />
                                                <col />
                                                <col />
                                            </colgroup>
                                            <thead class="tbl_hdr_gray">
                                                <tr>
                                                    <th align="left" class="noBorderRight" valign="bottom">Format</th>
                                                    <th align="center" class="noBorderRight" valign="bottom">Decimal</th>
                                                    <th align="center" class="noBorderRight" valign="bottom">Octal</th>
                                                    <th align="center" class="noBorderRight" valign="bottom">Hexadecimal</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Assembler format</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">32</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">40q</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">020h</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">C format</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">32</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">040</td>
                                                    <td align="center" class="noBorderRight noBorderBottom" valign="top">0x20</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="SPNU1185422"><a name="8.5.3_Accessing_Files_and_Libraries_from_a_Linker_Command_File" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.3 </span>Accessing Files and Libraries from a Linker Command File</h4>
                                    <p>Many applications use custom linker command files (or LCFs) to control the placement of code and data in target memory. For example, you may want to place a specific data object from a specific file into a specific location in target memory. This is simple to do using the available LCF syntax to reference the desired object file or library. However, a problem that many developers run into when they try to do this is a linker generated "file not found" error when accessing an object file or library from inside the LCF that has been specified earlier in the command-line invocation of the linker. Most often, this error occurs because the syntax used to access the file on the linker command-line does not match the syntax that is used to access the same file in the LCF. </p>
                                    <p>Consider a simple example. Imagine that you have an application that requires a table of constants called "app_coeffs" to be defined in a memory area called "DDR". Assume also that the "app_coeffs" data object is defined in a .data section that resides in an object file, app_coeffs.obj. app_coeffs.obj is then included in the object file library app_data.lib. In your LCF, you can control the placement of the "app_coeffs" data object as follows: </p><code>SECTIONS
{
 ...
 .coeffs: { app_data.lib&lt;app_coeffs.obj&gt;(.data) } &gt; DDR
 ...
}</code>
                                    <p>Now assume that the app_data.lib object library resides in a sub-directory called "lib" relative to where you are building the application. In order to gain access to app_data.lib from the build command-line, you can use a combination of the –i and –l options to set up a directory search path which the linker can use to find the app_data.lib library: </p><code>%&gt; cl430 &lt;<i>compile options/files</i>&gt; -z -i ./lib -l app_data.lib mylnk.cmd &lt;<i>link options/files</i>&gt;</code>
                                    <p>The –i option adds the lib sub-directory to the directory search path and the –l option instructs the linker to look through the directories in the directory search path to find the app_data.lib library. However, if you do not update the reference to app_data.lib in mylnk.cmd, the linker will fail to find the app_data.lib library and generate a "file not found" error. The reason is that when the linker encounters the reference to app_data.lib inside the SECTIONS directive, there is no –l option preceding the reference. Therefore, the linker tries to open app_data.lib in the current working directory.   </p>
                                    <p>In essence, the linker has a few different ways of opening files:</p>
                                    <ul>
                                        <li value="1">If there is a path specified, the linker will look for the file in the specified location. For an absolute path, the linker will try to open the file in the specified directory. For a relative path, the linker will follow the specified path starting from the current working directory and try to open the file at that location.</li>
                                        <li value="2">If there is no path specified, the linker will try to open the file in the current working directory.</li>
                                        <li value="3">If a –l option precedes the file reference, then the linker will try to find and open the referenced file in one of the directories in the directory search path. The directory search path is set up via –i options and environment variables (like C_DIR and C6X_C_DIR).</li>
                                    </ul>
                                    <p> As long as a file is referenced in a consistent manner on the command line and throughout any applicable LCFs, the linker will be able to find and open your object files and libraries. </p>
                                    <p>Returning to the earlier example, you can insert a –l option in front of the reference to app_data.lib in mylnk.cmd to ensure that the linker will find and open the app_data.lib library when the application is built: </p><code>SECTIONS
{
 ...
 .coeffs: { <b>-l</b> app_data.lib&lt;app_coeffs.obj&gt;(.data) } &gt; DDR
 ...
}</code>
                                    <p>Another benefit to using the –l option when referencing a file from within an LCF is that if the location of the referenced file changes, you can modify the directory search path to incorporate the new location of the file (using –i option on the command line, for example) without having to modify the LCF. </p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ075888"><a name="8.5.4_The_MEMORY_Directive" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.4 </span>The MEMORY Directive</h4>
                                    <p> The linker determines where output sections are allocated into memory; it must have a model of target memory to accomplish this. The MEMORY directive allows you to specify a model of target memory so that you can define the types of memory your system contains and the address ranges they occupy. The linker maintains the model as it allocates output sections and uses it to determine which memory locations can be used for object code.</p>
                                    <p>The memory configurations of <span>MSP430 </span>systems differ from application to application. The MEMORY directive allows you to specify a variety of configurations. After you use MEMORY to define a memory model, you can use the SECTIONS directive to allocate output sections into defined memory.</p>
                                    <p>For more information, see <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0694245">Section 2.5</a></span>.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0756138"><a name="8.5.4.1_Default_Memory_Model" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.4.1 </span>Default Memory Model</h4>
                                        <p>The assembler inserts a field in the output file's header, identifying the MSP430 device. The linker reads this information from the object file's header. If you do not use the MEMORY directive, the linker uses a default memory model specific to the named device. For more information about the default memory model, see <span class="crossreference"><a href="#STDZ0752588" class="selected">Section 8.7</a></span></p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0754145"><a name="8.5.4.2_MEMORY_Directive_Syntax" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.4.2 </span>MEMORY Directive Syntax</h4>
                                        <p> The MEMORY directive identifies ranges of memory that are physically present in the target system and can be used by a program. Each range has several characteristics:</p>
                                        <ul>
                                            <li value="1">Name</li>
                                            <li value="2">Starting address</li>
                                            <li value="3">Length</li>
                                            <li value="4">Optional set of attributes</li>
                                            <li value="5">Optional fill specification</li>
                                        </ul>
                                        <p> When you use the MEMORY directive, be sure to identify all memory ranges that are available for the program to access at run time. Memory defined by the MEMORY directive is configured; any memory that you do not explicitly account for with MEMORY is unconfigured. The linker does not place any part of a program into unconfigured memory. You can represent nonexistent memory spaces by simply not including an address range in a MEMORY directive statement.</p>
                                        <p>The MEMORY directive is specified in a command file by the word MEMORY (uppercase), followed by a list of memory range specifications enclosed in braces. <span>The MEMORY directive in <span class="crossreference"><a href="#STDZ0753859" class="selected">Example 8-3</a></span> defines a system that has 0xEEE0 bytes of flash memory at address 0x1100 and 0x0800 bytes of RAM at address 0x0200. It also demonstrates the use of memory range expressions as well as start/end/size address operators (see <span class="crossreference"><a href="#STDZ075123" class="selected">Example 8-4</a></span>)</span>.</p>
                                        <div class="example">
                                            <h4 id="STDZ0753859"><a name="Example_8-3_The_MEMORY_Directive" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-3 </span>The MEMORY Directive</h4><code>/*******************************************************/
/* Sample command file with MEMORY directive */
/*******************************************************/
file1.obj file2.obj /* Input files */
--output_file=prog.out /* Options */

MEMORY
{
 FLASH (RX): origin = 0x1100 length = 0xEEE0
 RAM (RX): origin = 0x0200 length = 0x0800
}</code>
                                        </div>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2"> The general syntax for the MEMORY directive is: </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2"> <b>MEMORY</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td> <b>{</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td> <i>name 1</i> [<b>(</b><i>attr</i><b>)</b>]<b> : origin = </b><i>expression</i><b>, length = </b><i>expression</i> [<b>, fill = </b><i>constant</i>] </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>.</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>.</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td> <i>name n</i> [<b>(</b><i>attr</i><b>)</b>]<b> : origin = </b><i>expression</i><b>, length = </b><i>expression</i> [<b>, fill = </b><i> constant</i>]</td>
                                                    </tr>
                                                    <tr>
                                                        <td> <b>}</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td valign="top"> <i>name</i></td>
                                                        <td align="left" colspan="2" valign="top">names a memory range. A memory name can be one to 64 characters; valid characters include A-Z, a-z, $, ., and _. The names have no special significance to the linker; they simply identify memory ranges. Memory range names are internal to the linker and are not retained in the output file or in the symbol table. All memory ranges must have unique names and must not overlap.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top"> <i>attr</i></td>
                                                        <td align="left" colspan="2" valign="top">specifies one to four attributes associated with the named range. Attributes are optional; when used, they must be enclosed in parentheses. Attributes restrict the allocation of output sections into certain memory ranges. If you do not use any attributes, you can allocate any output section into any range with no restrictions. Any memory for which no attributes are specified (including all memory in the default model) has all four attributes. Valid attributes are:</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top" />
                                                        <td align="left" valign="top"> <b>R</b> <![CDATA[ ]]></td>
                                                        <td align="left" valign="top">specifies that the memory can be read.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top" />
                                                        <td align="left" valign="top"> <b>W</b> <![CDATA[ ]]></td>
                                                        <td align="left" valign="top">specifies that the memory can be written to.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top" />
                                                        <td align="left" valign="top"> <b>X</b> <![CDATA[ ]]></td>
                                                        <td align="left" valign="top">specifies that the memory can contain executable code.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top" />
                                                        <td align="left" valign="top"> <b>I</b> <![CDATA[ ]]></td>
                                                        <td align="left" valign="top">specifies that the memory can be initialized.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top"> <b>origin</b></td>
                                                        <td align="left" colspan="2" valign="top">specifies the starting address of a memory range; enter as <i>origin</i>,<i> org</i>, or <i>o</i>. The value, specified in bytes, is a <span>16-bit</span> integer constant expression, which can be decimal, octal, or hexadecimal.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top"> <b>length</b></td>
                                                        <td align="left" colspan="2" valign="top">specifies the length of a memory range; enter as <i>length</i>, <i>len</i>, or <i>l</i>. The value, specified in bytes, is a <span>32-bit</span> integer constant expression, which can be decimal, octal, or hexadecimal.</td>
                                                    </tr>
                                                    <tr>
                                                        <td valign="top"> <b>fill</b></td>
                                                        <td align="left" colspan="2" valign="top">specifies a fill character for the memory range; enter as <i>fill</i> or <i>f</i>. Fills are optional. The value is an integer constant and can be decimal, octal, or hexadecimal. The fill value is used to fill areas of the memory range that are not allocated to a section. <span>(See <span class="crossreference"><a href="#lit89767313" class="selected">Section 8.5.9.3</a></span> for virtual filling of memory ranges when using Error Correcting Code (ECC).)</span></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div><span class="note"><p class="note_title">NOTE</p><b>Filling Memory Ranges</b><p>If you specify fill values for large memory ranges, your output file will be very large because filling a memory range (even with 0s) causes raw data to be generated for all unallocated blocks of memory in the range.</p></span>
                                        <p>The following example specifies a memory range with the R and W attributes and a fill constant of 0FFFFh:</p><code>MEMORY
{
	RFILE (RW) : o = 0x0020, l = 0x1000, f = 0x0FFFF
}</code>
                                        <p> You normally use the MEMORY directive in conjunction with the SECTIONS directive to control placement of output sections. For more information about the SECTIONS directive, see <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0757274"><a name="8.5.4.3_Expressions_and_Address_Operators" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.4.3 </span>Expressions and Address Operators</h4>
                                        <p>Memory range origin and length can use expressions of integer constants with the following operators: </p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight" />
                                                        <td align="left" class="noBorderRight">Binary operators:</td>
                                                        <td align="left" class="noBorderRight">*<span>&#160;&#160;</span>/<span>&#160;&#160;</span>%<span>&#160;&#160;</span>+<span>&#160;&#160;</span>-<span>&#160;&#160;</span>&lt;&lt;<span>&#160;&#160;</span>&gt;&gt;<span>&#160;&#160;</span>==<span>&#160;&#160;</span><span>&#160;&#160;</span>= &lt;<span>&#160;&#160;</span>&lt;=<span>&#160;&#160;</span>&gt;<span>&#160;&#160;</span>&gt;=<span>&#160;&#160;</span>&amp;<span>&#160;&#160;</span>|<span>&#160;&#160;</span>&amp;&amp;<span>&#160;&#160;</span>||</td>
                                                        <td align="left" class="noBorderRight" />
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight" />
                                                        <td align="left" class="noBorderRight">Unary operators:</td>
                                                        <td align="left" class="noBorderRight">-<span>&#160;&#160;</span>~<span>&#160;&#160;</span>!</td>
                                                        <td align="left" class="noBorderRight" />
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>Expressions are evaluated using standard C operator precedence rules. </p>
                                        <p>No checking is done for overflow or underflow, however, expressions are evaluated using a larger integer type. </p>
                                        <p>Preprocess directive #define constants can be used in place of integer constants. Global symbols cannot be used in Memory Directive expressions. </p>
                                        <p>Three address operators reference memory range properties from prior memory range entries: </p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight" />
                                                        <td align="left" class="noBorderRight">START(MR)</td>
                                                        <td align="left" class="noBorderRight">Returns start address for previously defined memory range MR.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight" />
                                                        <td align="left" class="noBorderRight">SIZE(MR)</td>
                                                        <td align="left" class="noBorderRight">Returns size of previously defined memory range MR.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight" />
                                                        <td align="left" class="noBorderRight">END(MR)</td>
                                                        <td align="left" class="noBorderRight">Returns end address for previously defined memory range MR.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="example">
                                            <h4 id="STDZ075123"><a name="Example_8-4_Origin_and_Length_as_Expressions" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-4 </span>Origin and Length as Expressions</h4><code>/********************************************************/
/* Sample command file with MEMORY directive */
/********************************************************/
file1.obj file2.obj /* Input files */
--output_file=prog.out /* Options */
#define ORIGIN 0x00000000
#define BUFFER 0x00000200
#define CACHE 0x0001000

MEMORY
{
 FAST_MEM (RX): origin = ORIGIN + CACHE length = 0x00001000 + BUFFER
 SLOW_MEM (RW): origin = end(FAST_MEM) length = 0x00001800 - size(FAST_MEM)
 EXT_MEM (RX): origin = 0x10000000 length = size(FAST_MEM) - CACHE</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0759595"><a name="8.5.5_The_SECTIONS_Directive" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5 </span>The SECTIONS Directive</h4>
                                    <p>After you use MEMORY to specify the target system's memory model, you can use SECTIONS to allocate output sections into specific named memory ranges or into memory that has specific attributes. For example, you could allocate the .text and .data sections into the area named FLASH and allocate the .bss section into the area named RAM.</p>
                                    <p> The SECTIONS directive controls your sections in the following ways:</p>
                                    <ul>
                                        <li value="1">Describes how input sections are combined into output sections</li>
                                        <li value="2">Defines output sections in the executable program</li>
                                        <li value="3">Allows you to control where output sections are placed in memory in relation to each other and to the entire memory space (Note that the memory placement order is <i>not</i> simply the sequence in which sections occur in the SECTIONS directive.)</li>
                                        <li value="4">Permits renaming of output sections</li>
                                    </ul>
                                    <p>For more information, see <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0694245">Section 2.5</a></span>, <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0698484">Section 2.7</a></span>, and <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0693587">Section 2.4.6</a></span>. Subsections allow you to manipulate sections with greater precision.</p>
                                    <p> If you do not specify a SECTIONS directive, the linker uses a default algorithm for combining and allocating the sections. <span class="crossreference"><a href="#STDZ0752588" class="selected">Section 8.7</a></span> describes this algorithm in detail.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0756353"><a name="8.5.5.1_SECTIONS_Directive_Syntax" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.1 </span>SECTIONS Directive Syntax</h4>
                                        <p> The SECTIONS directive is specified in a command file by the word SECTIONS (uppercase), followed by a list of output section specifications enclosed in braces.</p>
                                        <p>The general syntax for the SECTIONS directive is:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2"> <b>SECTIONS</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td> <b>{</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td> <i>name </i>: [<i>property </i>[<b>, property</b>] [<b>, property</b>]<i> . . . </i>]</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td> <i>name </i>: [<i>property </i>[<b>, property</b>] [<b>, property</b>]<i> . . . </i>]</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td> <i>name </i>: [<i>property </i>[<b>, property</b>] [<b>, property</b>]<i> . . . </i>]</td>
                                                    </tr>
                                                    <tr>
                                                        <td> <b>}</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p> Each section specification, beginning with <i>name</i>, defines an output section. (An output section is a section in the output file.) Section names can refer to sections, subsections, or archive library members. (See <span class="crossreference"><a href="#STDZ0754647" class="selected">Section 8.5.5.4</a></span> for information on multi-level subsections.) After the section name is a list of properties that define the section's contents and how the section is allocated. The properties can be separated by optional commas. Possible properties for a section are as follows:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td colspan="4">
                                                            <p />
                                                            <ul>
                                                                <li value="1"><b>Load allocation</b> defines where in memory the section is to be loaded. See <span class="crossreference"><a href="program-loading-and-running.html#STDZ0694629">Section 3.5</a></span>, <span class="crossreference"><a href="program-loading-and-running.html#SLAU1317366">Section 3.1.1</a></span>, and <span class="crossreference"><a href="#STDZ0756565" class="selected">Section 8.5.6</a></span>.</li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>Syntax: </td>
                                                        <td> <b>load = </b><i>allocation</i> <![CDATA[ ]]></td>
                                                        <td>or</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td />
                                                        <td> <b> &gt; </b><i>allocation</i> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td colspan="4">
                                                            <p />
                                                            <ul>
                                                                <li value="1"><b>Run allocation</b> defines where in memory the section is to be run.</li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>Syntax: </td>
                                                        <td> <b>run = </b><i>allocation</i> <![CDATA[ ]]></td>
                                                        <td>or</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td />
                                                        <td> <b>run &gt; </b><i>allocation</i> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td colspan="4">
                                                            <p />
                                                            <ul>
                                                                <li value="1"><b>Input sections</b> defines the input sections (object files) that constitute the output section. See <span class="crossreference"><a href="#STDZ0757903" class="selected">Section 8.5.5.3</a></span>.</li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>Syntax: </td>
                                                        <td> <b>{ </b><i>input_sections </i><b>}</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td colspan="4">
                                                            <p />
                                                            <ul>
                                                                <li value="1"><b>Section type</b> defines flags for special section types. See <span class="crossreference"><a href="#STDZ0756718" class="selected">Section 8.5.8</a></span>.</li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>Syntax: </td>
                                                        <td> <b>type = COPY</b> <![CDATA[ ]]></td>
                                                        <td>or</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td />
                                                        <td> <b>type = DSECT</b> <![CDATA[ ]]></td>
                                                        <td>or</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td />
                                                        <td><b>type = NOLOAD</b> <![CDATA[ ]]></td>
                                                        <td>or</td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td />
                                                        <td><b>type = VECT_INIT</b> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td colspan="4">
                                                            <p />
                                                            <ul>
                                                                <li value="1"><b>Fill value</b> defines the value used to fill uninitialized holes. See <span class="crossreference"><a href="#STDZ0752589" class="selected">Section 8.5.11</a></span>. </li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td />
                                                        <td>Syntax: </td>
                                                        <td> <b>fill = </b><i>value</i> <![CDATA[ ]]></td>
                                                        <td />
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p><span class="crossreference"><a href="#STDZ0753373" class="selected">Example 8-5</a></span> shows a SECTIONS directive in a sample linker command file.</p>
                                        <div class="example">
                                            <h4 id="STDZ0753373"><a name="Example_8-5_The_SECTIONS_Directive" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-5 </span>The SECTIONS Directive</h4><code>/*******************************************************/
/* Sample command file with SECTIONS directive */
/*******************************************************/
file1.obj file2.obj /* Input files */
--output_file=progr.out /* Options */

SECTIONS
{
 .bss : load = RAM

 .text : load = FLASH
 .const : load = FLASH

 .vectors : load = 0xFFE0
 {
 t1.obj (.intvec1)
 t2.obj (.intvec2)
 }
 .data:alpha : align = 16
 .data:beta : align = 16
}</code>
                                        </div>
                                        <p><span class="crossreference"><a href="#STDZ0752767" class="selected">Figure 8-2</a></span> shows the output sections defined by the SECTIONS directive in <span class="crossreference"><a href="#STDZ0753373" class="selected">Example 8-5</a></span> (<span>.vectors, </span>.text, <span>.const</span>, <span>.bss</span>, .data:alpha, and .data:beta) and shows how these sections are allocated in memory using the MEMORY directive given in <span class="crossreference"><a href="#STDZ0753859" class="selected">Example 8-3</a></span>.</p>
                                        <div class="figure"><span class="caption" id="STDZ0752767"><span class="figure-label">Figure 8-2 </span>Section Placement Defined by <span class="crossreference"><a href="#STDZ0753373" class="selected">Example 8-5</a></span> <![CDATA[ ]]></span> <img alt="secallocate_lau131.gif" itemprop="image" src="ods/images/SLAU131R/secallocate_lau131.gif" title="Section Placement Defined&#xA;    by" /> </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0758201"><a name="8.5.5.2_Section_Allocation_and_Placement" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2 </span>Section Allocation and Placement</h4>
                                        <p>The linker assigns each output section two locations in target memory: the location where the section will be loaded and the location where it will be run. Usually, these are the same, and you can think of each section as having only a single address. The process of locating the output section in the target's memory and assigning its address(es) is called placement. For more information about using separate load and run placement, see <span class="crossreference"><a href="#STDZ0756565" class="selected">Section 8.5.6</a></span>.</p>
                                        <p>If you do not tell the linker how a section is to be allocated, it uses a default algorithm to place the section. Generally, the linker puts sections wherever they fit into configured memory. You can override this default placement for a section by defining it within a SECTIONS directive and providing instructions on how to allocate it.</p>
                                        <p> You control placement by specifying one or more allocation parameters. Each parameter consists of a keyword, an optional equal sign or greater-than sign, and a value optionally enclosed in parentheses. If load and run placement are separate, all parameters following the keyword LOAD apply to load placement, and those following the keyword RUN apply to run placement. The allocation parameters are:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>Binding</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">allocates a section at a specific address. <code>.text: load = 0x1000 </code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>Named memory</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">allocates the section into a range defined in the MEMORY directive with the specified name (like SLOW_MEM) or attributes. <code>.text: load &gt; SLOW_MEM</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>Alignment</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">uses the align or palign keyword to specify the section must start on an address boundary. <code>.text: align = 0x100</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>Blocking</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">uses the block keyword to specify the section must fit between two address aligned to the blocking factor. If a section is too large, it starts on an address boundary. <code>.text: block(0x100)</code> <![CDATA[ ]]></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>For the load (usually the only) allocation, use a greater-than sign and omit the load keyword:</p><code>    .text: &gt; SLOW_MEM 
 .text: {...} &gt; SLOW_MEM
 .text: &gt; 0x4000</code>
                                        <p>If more than one parameter is used, you can string them together as follows:</p><code>    .text: &gt; SLOW_MEM align 16</code>
                                        <p>Or if you prefer, use parentheses for readability:</p><code>    .text: load = (SLOW_MEM align(16))</code>
                                        <p>You can also use an input section specification to identify the sections from input files that are combined to form an output section. See <span class="crossreference"><a href="#STDZ0757903" class="selected">Section 8.5.5.3</a></span>.</p>
                                        <p>Additional information about controlling the order in which code and data are placed in memory is provided in the <a href="http://processors.wiki.ti.com/index.php/Code_Generation_Tools_FAQ#Q:_How_can_I_get_the_linker_to_place_a_piece_of_code_or_data_so_that_it_comes_before_all_the_rest.3F" target="_blank">FAQ topic on section placement</a>.</p>
                                        <div class="subsection">
                                            <h4 id="SPRUI032535"><a name="8.5.5.2.1_Example:_Placing_Functions_in_RAM" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.1 </span>Example: Placing Functions in RAM</h4>
                                            <p>The --ramfunc compiler option and ramfunc function attribute allow the compiler to specify that a function is to be placed in and executed from RAM. Most newer TI linker command files support the ramfunc option and function attribute by placing such functions in the .TI.ramfunc section. If you see a linker error related to this section, you should add the .TI.ramfunc section to your SECTIONS directive as follows. In these examples, RAM and FLASH are names of MEMORY regions for RAM and Flash memory; the names may be different in your linker command file.</p>
                                            <p>For RAM-based devices:</p><code>.TI.ramfunc : {} &gt; RAM</code>
                                            <p>For Flash-based devices:</p><code>.TI.ramfunc : {} load=FLASH, run=RAM, table(BINIT)</code>
                                            <p>See the <a href="http://processors.wiki.ti.com/index.php/Placing_functions_in_RAM" target="_blank">Placing functions in RAM</a> wiki page for details.</p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0751394"><a name="8.5.5.2.2_Binding" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.2 </span>Binding</h4>
                                            <p> You can set the starting address for an output section by following the section name with an address:</p><code>    .text: 0x00001000</code>
                                            <p>This example specifies that the .text section must begin at location 0x1000. The binding address must be a <span>16-bit</span> constant.</p>
                                            <p>Output sections can be bound anywhere in configured memory (assuming there is enough space), but they cannot overlap. If there is not enough space to bind a section to a specified address, the linker issues an error message.</p><span class="note"><p class="note_title">NOTE</p><b>Binding is Incompatible With Alignment and Named Memory</b><p>You cannot bind a section to an address if you use alignment or named memory. If you try to do this, the linker issues an error message.</p></span>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0750702"><a name="8.5.5.2.3_Named_Memory" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.3 </span>Named Memory</h4>
                                            <p> You can allocate a section into a memory range that is defined by the MEMORY directive (see <span class="crossreference"><a href="#STDZ075888" class="selected">Section 8.5.4</a></span>). This example names ranges and links sections into them:</p><code>MEMORY
{
 SLOW_MEM (RIX) : origin = 0x00000000, length = 0x00001000
 FAST_MEM (RWIX) : origin = 0x03000000, length = 0x00000300
}

SECTIONS
{
 .text : &gt; SLOW_MEM
 .data : &gt; FAST_MEM ALIGN(128) 
 .bss : &gt; FAST_MEM
}</code>
                                            <p>In this example, the linker places .text into the area called SLOW_MEM. The .data and <span>.bss</span> output sections are allocated into FAST_MEM. You can align a section within a named memory range; the .data section is aligned on a 128-byte boundary within the FAST_MEM range.</p>
                                            <p>Similarly, you can link a section into an area of memory that has particular attributes. To do this, specify a set of attributes (enclosed in parentheses) instead of a memory name. Using the same MEMORY directive declaration, you can specify:</p><code>SECTIONS
{
 .text: &gt; (X) /* .text --&gt; executable memory */ 
 .data: &gt; (RI) /* .data --&gt; read or init memory */
 .bss : &gt; (RW) /* .bss --&gt; read or write memory */
}</code>
                                            <p>In this example, the .text output section can be linked into either the SLOW_MEM or FAST_MEM area because both areas have the X attribute. The .data section can also go into either SLOW_MEM or FAST_MEM because both areas have the R and I attributes. The <span>.bss</span> output section, however, must go into the FAST_MEM area because only FAST_MEM is declared with the W attribute.</p>
                                            <p>You cannot control where in a named memory range a section is allocated, although the linker uses lower memory addresses first and avoids fragmentation when possible. In the preceding examples, assuming no conflicting assignments exist, the .text section starts at address 0. If a section must start on a specific address, use binding instead of named memory.</p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0758802"><a name="8.5.5.2.4_Controlling_Placement_Using_The_HIGH_Location_Specifier" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.4 </span>Controlling Placement Using The HIGH Location Specifier</h4>
                                            <p> The linker allocates output sections from low to high addresses within a designated memory range by default. Alternatively, you can cause the linker to allocate a section from high to low addresses within a memory range by using the HIGH location specifier in the SECTION directive declaration. You might use the HIGH location specifier in order to keep RTS code separate from application code, so that small changes in the application do not cause large changes to the memory map.</p>
                                            <p>For example, given this MEMORY directive:</p><code>MEMORY
{
 RAM : origin = 0x0200, length = 0x0800
 FLASH : origin = 0x1100, length = 0xEEE0
 VECTORS : origin = 0xFFE0, length = 0x001E
 RESET : origin = 0xFFFE, length = 0x0002
}</code>
                                            <p>and an accompanying SECTIONS directive:</p><code>SECTIONS
{
 .bss : {} &gt; RAM 
 .sysmem : {} &gt; RAM 
 .stack : {} &gt; RAM (HIGH)
}</code>
                                            <p>The HIGH specifier used on the .stack section placement causes the linker to attempt to allocate .stack into the higher addresses within the RAM memory range. The <span>.bss</span> and <span>.sysmem</span> sections are allocated into the lower addresses within RAM. <span class="crossreference"><a href="#STDZ0754760" class="selected">Example 8-6</a></span> illustrates a portion of a map file that shows where the given sections are allocated within RAM for a typical program.</p>
                                            <div class="example">
                                                <h4 id="STDZ0754760"><a name="Example_8-6_Linker_Placement_With_the_HIGH_Specifier" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-6 </span>Linker Placement With the HIGH Specifier</h4><code>.bss 0 00000200 00000270 UNINITIALIZED
 00000200 0000011a rtsxxx.lib : defs.obj (.bss)
 0000031a 00000088 : trgdrv.obj (.bss)
 000003a2 00000078 : lowlev.obj (.bss)
 0000041a 00000046 : exit.obj (.bss)
 00000460 00000008 : memory.obj (.bss)
 00000468 00000004 : _lock.obj (.bss)
 0000046c 00000002 : fopen.obj (.bss)
 0000046e 00000002 hello.obj (.bss) 

.sysmem 0 00000470 00000120 UNINITIALIZED
 00000470 00000004 rtsxxx .lib : memory.obj (.sysmem)

.stack 0 000008c0 00000140 UNINITIALIZED
 000008c0 00000002 rtsxxx .lib : boot.obj (.stack)</code>
                                            </div>
                                            <p> As shown in <span class="crossreference"><a href="#STDZ0754760" class="selected">Example 8-6</a></span> , the <span>.bss</span> and <span>.sysmem</span> sections are allocated at the lower addresses of RAM (0x0200 - 0x0590) and the .stack section is allocated at address 0x08c0, even though lower addresses are available.</p>
                                            <p>Without using the HIGH specifier, the linker allocation would result in the code shown in <span class="crossreference"><a href="#STDZ0751200" class="selected">Example 8-7</a></span></p>
                                            <p>The HIGH specifier is ignored if it is used with specific address binding or automatic section splitting (&gt;&gt; operator).</p>
                                            <div class="example">
                                                <h4 id="STDZ0751200"><a name="Example_8-7_Linker_Placement_Without_HIGH_Specifier" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-7 </span>Linker Placement Without HIGH Specifier</h4><code>.bss 0 00000200 00000270 UNINITIALIZED
 00000200 0000011a rtsxxx.lib : defs.obj (.bss)
 0000031a 00000088 : trgdrv.obj (.bss)
 000003a2 00000078 : lowlev.obj (.bss)
 0000041a 00000046 : exit.obj (.bss)
 00000460 00000008 : memory.obj (.bss)
 00000468 00000004 : _lock.obj (.bss)
 0000046c 00000002 : fopen.obj (.bss)
 0000046e 00000002 hello.obj (.bss)

.stack 0 00000470 00000140 UNINITIALIZED
 00000470 00000002 rtsxxx.lib : boot.obj (.stack)

.sysmem 0 000005b0 00000120 UNINITIALIZED
 000005b0 00000004 rtsxxx.lib : memory.obj (.sysmem)</code>
                                            </div>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0750703"><a name="8.5.5.2.5_Alignment_and_Blocking" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.5 </span>Alignment and Blocking</h4>
                                            <p> You can tell the linker to place an output section at an address that falls on an n-byte boundary, where n is a power of 2, by using the align keyword. For example, the following code allocates .text so that it falls on a 32-byte boundary:</p><code>     .text: load = align(32)</code>
                                            <p>Blocking is a weaker form of alignment that allocates a section anywhere <i>within</i> a block of size n. The specified block size must be a power of 2. For example, the following code allocates <span>.bss</span> so that the entire section is contained in a single 128-byte <span>block</span> or begins on that boundary:</p><code>bss: load = block(0x0080)</code>
                                            <p>You can use alignment or blocking alone or in conjunction with a memory area, but alignment and blocking cannot be used together.</p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0755730"><a name="8.5.5.2.6_Alignment_With_Padding" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.2.6 </span>Alignment With Padding</h4>
                                            <p>As with align, you can tell the linker to place an output section at an address that falls on an n-byte boundary, where n is a power of 2, by using the palign keyword. In addition, palign ensures that the size of the section is a multiple of its placement alignment restrictions, padding the section size up to such a boundary, as needed.</p>
                                            <p>For example, the following code lines allocate .text on a 2-byte boundary within the PMEM area. The .text section size is guaranteed to be a multiple of 2 bytes. Both statements are equivalent:</p><code>   .text: palign(2) {} &gt; PMEM

 .text: palign = 2 {} &gt; PMEM</code>
                                            <p>If the linker adds padding to an initialized output section then the padding space is also initialized. By default, padding space is filled with a value of 0 (zero). However, if a fill value is specified for the output section then any padding for the section is also filled with that fill value. For example, consider the following section specification:</p><code>   .mytext: palign(8), fill = 0xffff {} &gt; PMEM</code>
                                            <p>In this example, the length of the .mytext section is <span>6 bytes</span> before the palign operator is applied. The contents of .mytext are as follows:</p><code>addr content
---- -------
0000 0x1234
0002 0x1234
0004 0x1234</code>
                                            <p>After the palign operator is applied, the length of .mytext is 8 bytes, and its contents are as follows:</p><code>addr content
---- -------
0000 0x1234
0002 0x1234
0004 0x1234
0006 0xffff</code>
                                            <p>The size of .mytext has been bumped to a multiple of 8 bytes and the padding created by the linker has been filled with 0xff.</p>
                                            <p>The fill value specified in the linker command file is interpreted as a 16-bit constant. If you specify this code:</p><code>   .mytext: palign(8), fill = 0xff {} &gt; PMEM</code>
                                            <p>The fill value assumed by the linker is 0x00ff, and .mytext will then have the following contents:</p><code>addr content
---- -------
0000 0x1234
0002 0x1234
0004 0x1234
0006 0x00ff</code>
                                            <p>If the palign operator is applied to an uninitialized section, then the size of the section is bumped to the appropriate boundary, as needed, but any padding created is not initialized.</p>
                                            <p>The palign operator can also take a parameter of <i>power2</i>. This parameter tells the linker to add padding to increase the section's size to the next power of two boundary. In addition, the section is aligned on that power of 2 as well. For example, consider the following section specification:</p><code>    .mytext: palign(power2) {} &gt; PMEM</code>
                                            <p>Assume that the size of the .mytext section is 120 bytes and PMEM starts at address 0x10020. After applying the palign(power2) operator, the .mytext output section will have the following properties:</p><code>  name addr size align
------- ---------- ----- -----
.mytext 0x00010080 0x80 128</code>
                                        </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0757903"><a name="8.5.5.3_Specifying_Input_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.3 </span>Specifying Input Sections</h4>
                                        <p> An input section specification identifies the sections from input files that are combined to form an output section. In general, the linker combines input sections by concatenating them in the order in which they are specified. However, if alignment or blocking is specified for an input section, all of the input sections within the output section are ordered as follows:</p>
                                        <ul>
                                            <li value="1">All aligned sections, from largest to smallest</li>
                                            <li value="2">All blocked sections, from largest to smallest</li>
                                            <li value="3">All other sections, from largest to smallest</li>
                                        </ul>
                                        <p>The size of an output section is the sum of the sizes of the input sections that it comprises.</p>
                                        <p><span class="crossreference"><a href="#STDZ0757615" class="selected">Example 8-8</a></span> shows the most common type of section specification; note that no input sections are listed.</p>
                                        <div class="example">
                                            <h4 id="STDZ0757615"><a name="Example_8-8_The_Most_Common_Method_of_Specifying_Section_Contents" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-8 </span>The Most Common Method of Specifying Section Contents</h4><code>SECTIONS
{
 .text:
 .data:
 .bss:
}</code>
                                        </div>
                                        <p>In <span class="crossreference"><a href="#STDZ0757615" class="selected">Example 8-8</a></span>, the linker takes all the .text sections from the input files and combines them into the .text output section. The linker concatenates the .text input sections in the order that it encounters them in the input files. The linker performs similar operations with the .data and <span>.bss</span> sections. You can use this type of specification for any output section.</p>
                                        <p>You can explicitly specify the input sections that form an output section. Each input section is identified by its filename and section name. If the filename is hyphenated (or contains special characters), enclose it within quotes:</p><code>SECTIONS
{
 .text : /* Build .text output section */
 {
 f1.obj(.text) /* Link .text section from f1.obj */
 f2.obj(sec1) /* Link sec1 section from f2.obj */
 "f3-new.obj" /* Link ALL sections from f3-new.obj */
 f4.obj(.text,sec2) /* Link .text and sec2 from f4.obj */
 }
}</code>
                                        <p>It is not necessary for input sections to have the same name as each other or as the output section they become part of. If a file is listed with no sections,<i>all </i>of its sections are included in the output section. If any additional input sections have the same name as an output section but are not explicitly specified by the SECTIONS directive, they are automatically linked in at the end of the output section. For example, if the linker found more .text sections in the preceding example and these .text sections<i> were not </i>specified anywhere in the SECTIONS directive, the linker would concatenate these extra sections after f4.obj(sec2).</p>
                                        <p>The specifications in <span class="crossreference"><a href="#STDZ0757615" class="selected">Example 8-8</a></span> are actually a shorthand method for the following:</p><code>SECTIONS
{
 .text: { *(.text) }
 .data: { *(.data) }
 .bss: { *(.bss) }
}</code>
                                        <p>The specification *(.text) means<i> the unallocated .text sections from all input files.</i> This format is useful if:</p>
                                        <ul>
                                            <li value="1">You want the output section to contain all input sections that have a specified name, but the output section name is different from the input sections' name.</li>
                                            <li value="2">You want the linker to allocate the input sections before it processes additional input sections or commands within the braces.</li>
                                        </ul>
                                        <p>The following example illustrates the two purposes above:</p><code>SECTIONS
{
 .text : {
 abc.obj(xqt)
 *(.text)
 }
 .data : {
 *(.data)
 fil.obj(table)
 }
}</code>
                                        <p>In this example, the .text output section contains a named section xqt from file abc.obj, which is followed by all the .text input sections. The .data section contains all the .data input sections, followed by a named section table from the file fil.obj. This method includes all the unallocated sections. For example, if one of the .text input sections was already included in another output section when the linker encountered *(.text), the linker could not include that first .text input section in the second output section.</p>
                                        <p>Each input section acts as a prefix and gathers longer-named sections. For example, the pattern *(.data) matches .dataspecial. This mechanism enables the use of subsections, which are described in the following section.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0754647"><a name="8.5.5.4_Using_Multi-Level_Subsections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.4 </span>Using Multi-Level Subsections</h4>
                                        <p> Subsections can be identified with the base section name and one or more subsection names separated by colons. For example, A:B and A:B:C name subsections of the base section A. In certain places in a linker command file specifying a base name, such as A, selects the section A as well as any subsections of A, such as A:B or A:C:D.</p>
                                        <p> A name such as A:B can specify a (sub)section of that name as well as any (multi-level) subsections beginning with that name, such as A:B:C, A:B:OTHER, etc. All subsections of A:B are also subsections of A. A and A:B are supersections of A:B:C. Among a group of supersections of a subsection, the nearest supersection is the supersection with the longest name. Thus, among {A, A:B} the nearest supersection of A:B:C:D is A:B. With multiple levels of subsections, the constraints are the following:</p>
                                        <ol>
                                            <li value="1">When specifying <b>input</b> sections within a file (or library unit) the section name selects an input section of the same name and any subsections of that name.</li>
                                            <li value="2">Input sections that are not explicitly allocated are allocated in an existing <b>output</b> section of the same name or in the nearest existing supersection of such an output section. An exception to this rule is that during a partial link (specified by the --relocatable linker option) a subsection is allocated only to an existing output section of the same name.</li>
                                            <li value="3">If no such output section described in 2) is defined, the input section is put in a <b>newly created output</b> section with the same name as the base name of the input section</li>
                                        </ol>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2">Consider linking input sections with the following names:</td>
                                                        <td />
                                                    </tr>
                                                    <tr>
                                                        <td>europe:north:norway</td>
                                                        <td>europe:central:france</td>
                                                        <td>europe:south:spain</td>
                                                    </tr>
                                                    <tr>
                                                        <td>europe:north:sweden</td>
                                                        <td>europe:central:germany</td>
                                                        <td>europe:south:italy</td>
                                                    </tr>
                                                    <tr>
                                                        <td>europe:north:finland</td>
                                                        <td>europe:central:denmark</td>
                                                        <td>europe:south:malta</td>
                                                    </tr>
                                                    <tr>
                                                        <td>europe:north:iceland</td>
                                                        <td />
                                                        <td />
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>This SECTIONS specification allocates the input sections as indicated in the comments:</p><code>  SECTIONS {
 nordic: {*(europe:north)
 *(europe:central:denmark)} /* the nordic countries */
 central: {*(europe:central)} /* france, germany */
 therest: {*(europe)} /* spain, italy, malta */
 }</code>
                                        <p>This SECTIONS specification allocates the input sections as indicated in the comments:</p><code>  SECTIONS {
 islands: {*(europe:south:malta)
 *(europe:north:iceland)} /* malta, iceland */
 europe:north:finland : {} /* finland */
 europe:north : {} /* norway, sweden */
 europe:central : {} /* germany, denmark */
 europe:central:france: {} /* france */

 /* (italy, spain) go into a linker-generated output section "europe" */
 }</code><span class="note"><p class="note_title">NOTE</p><b>Upward Compatibility of Multi-Level Subsections</b><p>Existing linker commands that use the existing single-level subsection features and which do not contain section names containing multiple colon characters continue to behave as before. However, if section names in a linker command file or in the input sections supplied to the linker contain multiple colon characters, some change in behavior could be possible. You should carefully consider the impact of the rules for multiple levels to see if it affects a particular system link.</p></span>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="SPNU1181930"><a name="8.5.5.5_Specifying_Library_or_Archive_Members_as_Input_to_Output_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.5 </span>Specifying Library or Archive Members as Input to Output Sections</h4>
                                        <p>You can specify one or more members of an object library or archive for input to an output section. Consider this SECTIONS directive:</p>
                                        <div class="example">
                                            <h4 id="STDZ0751067"><a name="Example_8-9_Archive_Members_to_Output_Sections" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-9 </span>Archive Members to Output Sections</h4><code>SECTIONS
{
		boot	&gt;		BOOT1
		{
				--library=rtsXX.lib&lt;boot.obj&gt; (.text)
				--library=rtsXX.lib&lt;exit.obj strcpy.obj&gt; (.text)
		}

		.rts	&gt;		BOOT2
		{
				--library=rtsXX.lib (.text)
		}

		.text	&gt;		RAM
		{
				* (.text)
		}
}</code>
                                        </div>
                                        <p>In <span class="crossreference"><a href="#STDZ0751067" class="selected">Example 8-9</a></span>, the .text sections of boot.obj, exit.obj, and strcpy.obj are extracted from the run-time-support library and placed in the .boot output section. The remainder of the run-time-support library object that is referenced is allocated to the .rts output section. Finally, the remainder of all other .text sections are to be placed in section .text.</p>
                                        <p>An archive member or a list of members is specified by surrounding the member name(s) with angle brackets &lt; and &gt; after the library name. Any object files separated by commas or spaces from the specified archive file are legal within the angle brackets.</p>
                                        <p>The --library option (which normally implies a library path search be made for the named file following the option) listed before each library in <span class="crossreference"><a href="#STDZ0751067" class="selected">Example 8-9</a></span> is optional when listing specific archive members inside &lt; &gt;. Using &lt; &gt; implies that you are referring to a library.</p>
                                        <p>To collect a set of the input sections from a library in one place, use the --library option within the SECTIONS directive. For example, the following collects all the .text sections from <span>rts430.lib</span> into the .rtstest section:</p><code>SECTIONS
{
 .rtstest { --library=rts430.lib(.text) } &gt; RAM
}</code><span class="note"><p class="note_title">NOTE</p><b>SECTIONS Directive Effect on --priority</b><p>Specifying a library in a SECTIONS directive causes that library to be entered in the list of libraries that the linker searches to resolve references. If you use the --priority option, the first library specified in the command file will be searched first.</p></span>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="stdz0750704"><a name="8.5.5.6_Allocation_Using_Multiple_Memory_Ranges" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.6 </span>Allocation Using Multiple Memory Ranges</h4>
                                        <p> The linker allows you to specify an explicit list of memory ranges into which an output section can be allocated. Consider the following example:</p><code>MEMORY
{
 P_MEM1 : origin = 0x02000, length = 0x01000
 P_MEM2 : origin = 0x04000, length = 0x01000
 P_MEM3 : origin = 0x06000, length = 0x01000
 P_MEM4 : origin = 0x08000, length = 0x01000
}
SECTIONS
{
 .text : { } &gt; <b>P_MEM1</b> | <b>P_MEM2</b> | <b>P_MEM4</b>
}</code>
                                        <p> The | operator is used to specify the multiple memory ranges. The .text output section is allocated as a whole into the first memory range in which it fits. The memory ranges are accessed in the order specified. In this example, the linker first tries to allocate the section in P_MEM1. If that attempt fails, the linker tries to place the section into P_MEM2, and so on. If the output section is not successfully allocated in any of the named memory ranges, the linker issues an error message.</p>
                                        <p>With this type of SECTIONS directive specification, the linker can seamlessly handle an output section that grows beyond the available space of the memory range in which it is originally allocated. Instead of modifying the linker command file, you can let the linker move the section into one of the other areas.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750705"><a name="8.5.5.7_Automatic_Splitting_of_Output_Sections_Among_Non-Contiguous_Memory_Ra..." data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.5.7 </span>Automatic Splitting of Output Sections Among Non-Contiguous Memory Ranges</h4>
                                        <p> The linker can split output sections among multiple memory ranges for efficient allocation. Use the &gt;&gt; operator to indicate that an output section can be split, if necessary, into the specified memory ranges:</p><code>MEMORY
{
 P_MEM1 : origin = 0x2000, length = 0x1000
 P_MEM2 : origin = 0x4000, length = 0x1000
 P_MEM3 : origin = 0x6000, length = 0x1000
 P_MEM4 : origin = 0x8000, length = 0x1000
}
SECTIONS
{
 .text: { *(.text) } &gt;&gt; <b>P_MEM1</b> | <b>P_MEM2</b> | <b>P_MEM3</b> | <b>P_MEM4</b>
}</code>
                                        <p>In this example, the &gt;&gt; operator indicates that the .text output section can be split among any of the listed memory areas. If the .text section grows beyond the available memory in P_MEM1, it is split on an input section boundary, and the remainder of the output section is allocated to P_MEM2 | P_MEM3 | P_MEM4.</p>
                                        <p>The | operator is used to specify the list of multiple memory ranges.</p>
                                        <p>You can also use the &gt;&gt; operator to indicate that an output section can be split within a single memory range. This functionality is useful when several output sections must be allocated into the same memory range, but the restrictions of one output section cause the memory range to be partitioned. Consider the following example:</p><code>MEMORY
{
 RAM : origin = 0x1000, length = 0x8000
}

SECTIONS
{
 .special: { f1.obj(.text) } load = 0x4000
 .text: { *(.text) } &gt;&gt; RAM
}</code>
                                        <p>The .special output section is allocated near the middle of the RAM memory range. This leaves two unused areas in RAM: from 0x1000 to 0x4000, and from the end of f1.obj(.text) to 0x8000. The specification for the .text section allows the linker to split the .text section around the .special section and use the available space in RAM on either side of .special.</p>
                                        <p>The &gt;&gt; operator can also be used to split an output section among all memory ranges that match a specified attribute combination. For example:</p><code>MEMORY
{
 P_MEM1 (RWX) : origin = 0x1000, length = 0x2000
 P_MEM2 (RWI) : origin = 0x4000, length = 0x1000
}

SECTIONS
{
 .text: { *(.text) } &gt;&gt; (RW)
}</code>
                                        <p>The linker attempts to allocate all or part of the output section into any memory range whose attributes match the attributes specified in the SECTIONS directive.</p>
                                        <p>This SECTIONS directive has the same effect as:</p><code>SECTIONS
{
.text: { *(.text) } <b>&gt;&gt; P_MEM1 | P_MEM2</b>}
}</code>
                                        <p>Certain sections should not be split:</p>
                                        <ul>
                                            <li value="1">Certain sections created by the compiler, including<ul><li value="1">The .cinit section, which contains the autoinitialization table for C/C++ programs</li><li value="2">The .pinit section, which contains the list of global constructors for C++ programs</li></ul></li>
                                            <li value="2">An output section with an input section specification that includes an expression to be evaluated. The expression may define a symbol that is used in the program to manage the output section at run time.</li>
                                            <li value="3">An output section that has a START(), END(), OR SIZE() operator applied to it. These operators provide information about a section's load or run address, and size. Splitting the section may compromise the integrity of the operation.</li>
                                            <li value="4">The run allocation of a UNION. (Splitting the load allocation of a UNION is allowed.)</li>
                                        </ul>
                                        <p>If you use the &gt;&gt; operator on any of these sections, the linker issues a warning and ignores the operator.</p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0756565"><a name="8.5.6_Placing_a_Section_at_Different_Load_and_Run_Addresses" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.6 </span>Placing a Section at Different Load and Run Addresses</h4>
                                    <p> At times, you may want to load code into one area of memory and run it in another. For example, you may have performance-critical code in slow external memory. The code must be loaded into slow external memory, but it would run faster in fast external memory.</p>
                                    <p>The linker provides a simple way to accomplish this. You can use the SECTIONS directive to direct the linker to allocate a section twice: once to set its load address and again to set its run address. For example:</p><code>    .fir: load = SLOW_MEM, run = FAST_MEM</code>
                                    <p>Use the <i>load</i> keyword for the load address and the <i>run</i> keyword for the run address.</p>
                                    <p>See <span class="crossreference"><a href="program-loading-and-running.html#STDZ0694629">Section 3.5</a></span> for an overview on run-time relocation.</p>
                                    <p>The application must copy the section from its load address to its run address; this does <i>not</i> happen automatically when you specify a separate run address. (The TABLE operator instructs the linker to produce a copy table; see <span class="crossreference"><a href="#STDZ0750717" class="selected">Section 8.8.4.1</a></span>.)</p>
                                    <div class="subsection">
                                        <h4 id="STDZ075237"><a name="8.5.6.1_Specifying_Load_and_Run_Addresses" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.6.1 </span>Specifying Load and Run Addresses</h4>
                                        <p> The load address determines where a loader places the raw data for the section. Any references to the section (such as labels in it) refer to its run address. See <span class="crossreference"><a href="program-loading-and-running.html#SLAU1317366">Section 3.1.1</a></span> for an overview of load and run addresses.</p>
                                        <p>If you provide only one allocation (either load or run) for a section, the section is allocated only once and loads and runs at the same address. If you provide both allocations, the section is allocated as if it were two sections of the same size. This means that both allocations occupy space in the memory map and cannot overlay each other or other sections. (The UNION directive provides a way to overlay sections; see <span class="crossreference"><a href="#STDZ0758688" class="selected">Section 8.5.7.2</a></span>.)</p>
                                        <p>If either the load or run address has additional parameters, such as alignment or blocking, list them after the appropriate keyword. Everything related to allocation after the keyword <i>load</i> affects the load address until the keyword <i>run</i> is seen, after which, everything affects the run address. The load and run allocations are completely independent, so any qualification of one (such as alignment) has no effect on the other. You can also specify run first, then load. Use parentheses to improve readability.</p>
                                        <p>The examples that follow specify load and run addresses.</p>
                                        <p>In this example, align applies only to load:</p><code>    .data: load = SLOW_MEM, align = 32, run = FAST_MEM</code>
                                        <p>The following example uses parentheses, but has effects that are identical to the previous example:</p><code>    .data: load = (SLOW_MEM align 32), run = FAST_MEM</code>
                                        <p>The following example aligns FAST_MEM to 32 bits for run allocations and aligns all load allocations to 16 bits:</p><code>    .data: run = FAST_MEM, align 32, load = align 16</code>
                                        <p>For more information on run-time relocation see <span class="crossreference"><a href="program-loading-and-running.html#STDZ0694629">Section 3.5</a></span>.</p>
                                    </div>
                                    <p> Uninitialized sections (such as <span>.bss</span>) are not loaded, so their only significant address is the run address. The linker allocates uninitialized sections only once: if you specify both run and load addresses, the linker warns you and ignores the load address. Otherwise, if you specify only one address, the linker treats it as a run address, regardless of whether you call it load or run. </p>
                                    <p>This example specifies load and run addresses for an uninitialized section:</p><code>    .bss: load = 0x1000, run = FAST_MEM</code>
                                    <p>A warning is issued, load is ignored, and space is allocated in FAST_MEM. All of the following examples have the same effect. The <span>.bss</span> section is allocated in FAST_MEM.</p><code>    .dbss: load = FAST_MEM
 .bss: run = FAST_MEM
 .bss: &gt; FAST_MEM</code>
                                    <div class="subsection">
                                        <h4 id="STDZ0757290"><a name="8.5.6.2_Referring_to_the_Load_Address_by_Using_the_.label_Directive" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.6.2 </span>Referring to the Load Address by Using the .label Directive</h4>
                                        <p> Normally, any reference to a symbol refers to its run-time address. However, it may be necessary at run time to refer to a load-time address. Specifically, the code that copies a section from its load address to its run address must have access to the load address. The .label directive defines a special symbol that refers to the section's load address. Thus, whereas normal symbols are relocated with respect to the run address, .label symbols are relocated with respect to the load address. See <span class="crossreference"><a href="assembler-directives.html#IDlabeldesc">Create a Load-Time Address Label</a></span> for more information on the .label directive.</p>
                                        <p><span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span> and <span class="crossreference"><a href="#STDZ0754221" class="selected">Example 8-11</a></span> show the use of the .label directive to copy a section from its load address in <span>EXT_MEM</span> to its run address in <span>P_MEM</span>. <span class="crossreference"><a href="#STDZ0751611" class="selected">Figure 8-3</a></span> illustrates the run-time execution of <span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span>.</p>
                                        <p>If you use the table operator, the .label directive is not needed. See <span class="crossreference"><a href="#STDZ0750717" class="selected">Section 8.8.4.1</a></span>.</p>
                                        <div class="example">
                                            <h4 id="STDZ0755089"><a name="Example_8-10_Moving_a_Function_from_Slow_to_Fast_Memory_at_Run_Time" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-10 </span>Moving a Function from Slow to Fast Memory at Run Time</h4><code>* Define a section to be copied from load to run address
 .sect ".fir" .label fir_src
fir:
* &lt; code here&gt; ;code for section

 .label fir_end

* Copy .fir section from load address to run address
 .text
 
 MOV &amp;fir_s,R11
 MOV &amp;fir_e,R12
 MOV #fir,R13
LOOP: CMP R11,R12
 JL Copy_Done
 MOV @R11+,0(R13)
 INC R13
 JMP LOOP
Copy_Done:

* Jump to fir routine, now at run address

 JMP fir

fir_s .word fir_src
fir_e .word fir_end</code>
                                        </div>
                                        <div class="example">
                                            <h4 id="STDZ0754221"><a name="Example_8-11_Linker_Command_File_for_Example_8-10" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-11 </span>Linker Command File for <span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span></h4><code>/*****************************************************/
/* PARTIAL LINKER COMMAND FILE FOR FIR EXAMPLE */
/*****************************************************/

MEMORY
{
 MEM1: origin = 0x2000, length 0x0500
 MEM2: origin = 0x3000, length 0x0500
}

SECTIONS
{
 .text: load = MEM1
 .fir: load = MEM2, run = MEM1
}</code>
                                        </div>
                                        <div class="figure"><span class="caption" id="STDZ0751611"><span class="figure-label">Figure 8-3 </span>Run-Time Execution of <span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span> <![CDATA[ ]]></span> <img alt="runtime_exe_lau131.gif" itemprop="image" src="ods/images/SLAU131R/runtime_exe_lau131_246x471.gif" title="Run-Time Execution of" style="width: 246;height: 471;" /> </div>
                                        <p>See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0753269"><a name="8.5.7_Using_GROUP_and_UNION_Statements" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7 </span>Using GROUP and UNION Statements</h4>
                                    <p>Two SECTIONS statements allow you to organize or conserve memory: GROUP and UNION. Grouping sections causes the linker to allocate them contiguously in memory. Unioning sections causes the linker to allocate them to the same run address. </p>
                                    <div class="subsection">
                                        <h4 id="STDZ0759689"><a name="8.5.7.1_Grouping_Output_Sections_Together" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7.1 </span>Grouping Output Sections Together</h4>
                                        <p> The SECTIONS directive's GROUP option forces several output sections to be allocated contiguously and in the order listed, unless the UNORDERED operator is used. For example, assume that a section named term_rec contains a termination record for a table in the .data section. You can force the linker to allocate .data and term_rec together:</p>
                                        <div class="example">
                                            <h4 id="STDZ0755938"><a name="Example_8-12_Allocate_Sections_Together" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-12 </span>Allocate Sections Together</h4><code>SECTIONS
{
 .text /* Normal output section */
 .bss /* Normal output section */
 GROUP 0x00001000 : /* Specify a group of sections */
 {
 .data /* First section in the group */
 term_rec /* Allocated immediately after .data */
 }
}</code>
                                        </div>
                                        <p>You can use binding, alignment, or named memory to allocate a GROUP in the same manner as a single output section. In the preceding example, the GROUP is bound to address 0x1000. This means that .data is allocated at 0x1000, and term_rec follows it in memory.</p><span class="note"><p class="note_title">NOTE</p><b>You Cannot Specify Addresses for Sections Within a GROUP</b><p>When you use the GROUP option, binding, alignment, or allocation into named memory can be specified for the group only. You cannot use binding, named memory, or alignment for sections within a group.</p></span>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0758688"><a name="8.5.7.2_Overlaying_Sections_With_the_UNION_Statement" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7.2 </span>Overlaying Sections With the UNION Statement</h4>
                                        <p> For some applications, you may want to allocate more than one section that occupies the same address during run time. For example, you may have several routines you want in fast external memory at different stages of execution. Or you may want several data objects that are not active at the same time to share a block of memory. The UNION statement within the SECTIONS directive provides a way to allocate several sections at the same run-time address.</p>
                                        <p>In <span class="crossreference"><a href="#STDZ0758567" class="selected">Example 8-13</a></span>, the <span>.bss</span> sections from file1.obj and file2.obj are allocated at the same address in FAST_MEM. In the memory map, the union occupies as much space as its largest component. The components of a union remain independent sections; they are simply allocated together as a unit.</p>
                                        <div class="example">
                                            <h4 id="STDZ0758567"><a name="Example_8-13_The_UNION_Statement" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-13 </span>The UNION Statement</h4><code>   SECTIONS
 {
 .text: load = SLOW_MEM
 UNION: run = FAST_MEM
 {
 .bss:part1: { file1.obj(.bss) }
 .bss:part2: { file2.obj(.bss) }
 }
 .bss:part3: run = FAST_MEM { globals.obj(.bss) }
 }</code>
                                        </div>
                                        <p>Allocation of a section as part of a union affects only its <i>run address.</i> Under no circumstances can sections be overlaid for loading. If an initialized section is a union member (an initialized section, such as .text, has raw data), its load allocation <i>must</i> be separately specified. See <span class="crossreference"><a href="#STDZ0755340" class="selected">Example 8-14</a></span>.</p>
                                        <div class="example">
                                            <h4 id="STDZ0755340"><a name="Example_8-14_Separate_Load_Addresses_for_UNION_Sections" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-14 </span>Separate Load Addresses for UNION Sections</h4><code>   UNION run = FAST_MEM
 {
 .text:part1: load = SLOW_MEM, { file1.obj(.text) }
 .text:part2: load = SLOW_MEM, { file2.obj(.text) }
 }</code>
                                        </div>
                                        <div class="figure"><span class="caption" id="STDZ075711"><span class="figure-label">Figure 8-4 </span>Memory Allocation Shown in <span class="crossreference"><a href="#STDZ0758567" class="selected">Example 8-13</a></span> and <span class="crossreference"><a href="#STDZ0755340" class="selected">Example 8-14</a></span> <![CDATA[ ]]></span> <img alt="memallocate_tdz075.gif" itemprop="image" src="ods/images/SLAU131R/memallocate_tdz075.gif" title="Memory Allocation Shown in  and" /> </div>
                                        <p>Since the .text sections contain raw data, they cannot <i>load</i> as a union, although they can be <i>run</i> as a union. Therefore, each requires its own load address. If you fail to provide a load allocation for an initialized section within a UNION, the linker issues a warning and allocates load space anywhere it can in configured memory.</p>
                                        <p>Uninitialized sections are not loaded and do not require load addresses.</p>
                                        <p>The UNION statement applies only to allocation of run addresses, so it is meaningless to specify a load address for the union itself. For purposes of allocation, the union is treated as an uninitialized section: any one allocation specified is considered a run address, and if both run and load addresses are specified, the linker issues a warning and ignores the load address.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750706"><a name="8.5.7.3_Nesting_UNIONs_and_GROUPs" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7.3 </span>Nesting UNIONs and GROUPs</h4>
                                        <p> The linker allows arbitrary nesting of GROUP and UNION statements with the SECTIONS directive. By nesting GROUP and UNION statements, you can express hierarchical overlays and groupings of sections. <span class="crossreference"><a href="#STDZ0751886" class="selected">Example 8-15</a></span> shows how two overlays can be grouped together.</p>
                                        <div class="example">
                                            <h4 id="STDZ0751886"><a name="Example_8-15_Nesting_GROUP_and_UNION_Statements" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-15 </span>Nesting GROUP and UNION Statements</h4><code>SECTIONS
{
 GROUP 0x1000 : run = FAST_MEM
 {
 UNION:
 {
 mysect1: load = SLOW_MEM
 mysect2: load = SLOW_MEM
 }
 UNION:
 {
 mysect3: load = SLOW_MEM
 mysect4: load = SLOW_MEM
 }
 }
}</code>
                                        </div>
                                        <p>For this example, the linker performs the following allocations:</p>
                                        <ul>
                                            <li value="1">The four sections (mysect1, mysect2, mysect3, mysect4) are assigned unique, non-overlapping load addresses. <span>The name you defined with the .label directive is used in the SLOW_MEM memory region. </span>This assignment is determined by the particular load allocations given for each section.</li>
                                            <li value="2">Sections mysect1 and mysect2 are assigned the same run address in FAST_MEM.</li>
                                            <li value="3">Sections mysect3 and mysect4 are assigned the same run address in FAST_MEM.</li>
                                            <li value="4">The run addresses of mysect1/mysect2 and mysect3/mysect4 are allocated contiguously, as directed by the GROUP statement (subject to alignment and blocking restrictions).</li>
                                        </ul>
                                        <p>To refer to groups and unions, linker diagnostic messages use the notation:</p>
                                        <p>GROUP_<i>n</i> UNION_<i>n</i></p>
                                        <p>where <i>n</i> is a sequential number (beginning at 1) that represents the lexical ordering of the group or union in the linker control file without regard to nesting. Groups and unions each have their own counter.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750707"><a name="8.5.7.4_Checking_the_Consistency_of_Allocators" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7.4 </span>Checking the Consistency of Allocators</h4>
                                        <p> The linker checks the consistency of load and run allocations specified for unions, groups, and sections. The following rules are used:</p>
                                        <ul>
                                            <li value="1">Run allocations are only allowed for top-level sections, groups, or unions (sections, groups, or unions that are not nested under any other groups or unions). The linker uses the run address of the top-level structure to compute the run addresses of the components within groups and unions.</li>
                                            <li value="2">The linker does not accept a load allocation for UNIONs.</li>
                                            <li value="3">The linker does not accept a load allocation for uninitialized sections.</li>
                                            <li value="4">In most cases, you must provide a load allocation for an initialized section. However, the linker does not accept a load allocation for an initialized section that is located within a group that already defines a load allocator.</li>
                                            <li value="5">As a shortcut, you can specify a load allocation for an entire group, to determine the load allocations for every initialized section or subgroup nested within the group. However, a load allocation is accepted for an entire group only if all of the following conditions are true: <ul><li value="1">The group is initialized (that is, it has at least one initialized member).</li><li value="2">The group is not nested inside another group that has a load allocator.</li><li value="3"> The group does not contain a union containing initialized sections.</li></ul></li>
                                            <li value="6">If the group contains a union with initialized sections, it is necessary to specify the load allocation for each initialized section nested within the group. Consider the following example:</li><code>    SECTIONS
 {
 GROUP: load = SLOW_MEM, run = SLOW_MEM
 {
 .text1:
 UNION:
 {
 .text2:
 .text3:
 }
 }
 }</code>
                                            <p>The load allocator given for the group does not uniquely specify the load allocation for the elements within the union: .text2 and .text3. In this case, the linker issues a diagnostic message to request that these load allocations be specified explicitly.</p>
                                        </ul>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0753145"><a name="8.5.7.5_Naming_UNIONs_and_GROUPs" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.7.5 </span>Naming UNIONs and GROUPs</h4>
                                        <p> You can give a name to a UNION or GROUP by entering the name in parentheses after the declaration. For example:</p><code>   GROUP(BSS_SYSMEM_STACK_GROUP)
 {
 .bss :{}
 .sysmem :{}
 .stack :{}
 } load=D_MEM, run=D_MEM</code>
                                        <p>The name you defined is used in diagnostics for easy identification of the problem LCF area. For example:</p><code>warning: LOAD placement ignored for "BSS_SYSMEM_STACK_GROUP": object is uninitialized

 UNION(TEXT_CINIT_UNION)
 {
 .const :{}load=D_MEM, table(table1)
 .pinit :{}load=D_MEM, table(table1)
 }run=P_MEM

warning:table(table1) operator ignored: table(table1) has already been applied to a section
in the "UNION(TEXT_CINIT_UNION)" in which ".pinit" is a descendant</code>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0756718"><a name="8.5.8_Special_Section_Types_(DSECT,_COPY,_NOLOAD,_NOINIT,_and_VECT_INIT)" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.8 </span>Special Section Types (DSECT, COPY, <span>NOLOAD, NOINIT, and VECT_INIT</span>)</h4>
                                    <p> You can assign the following special types to output sections: <span>DSECT, COPY, NOLOAD, NOINIT, and VECT_INIT</span>. These types affect the way that the program is treated when it is linked and loaded. You can assign a type to a section by placing the type after the section definition. For example:</p><code>SECTIONS
{
 sec1: load = 0x00002000, type = DSECT {f1.obj}
 sec2: load = 0x00004000, type = COPY {f2.obj}
 sec3: load = 0x00006000, type = NOLOAD {f3.obj}
 sec4: load = 0x00008000, type = NOINIT {f4.obj}
 TIMER0_A1 : { * ( .int53 ) } &gt; INT53 type = VECT_INIT
}</code>
                                    <ul>
                                        <li value="1"> The DSECT type creates a dummy section with the following characteristics: <ul><li value="1">It is not included in the output section memory allocation. It takes up no memory and is not included in the memory map listing.</li><li value="2"> It can overlay other output sections, other DSECTs, and unconfigured memory.</li><li value="3">Global symbols defined in a dummy section are relocated normally. They appear in the output module's symbol table with the same value they would have if the DSECT had actually been loaded. These symbols can be referenced by other input sections.</li><li value="4">Undefined external symbols found in a DSECT cause specified archive libraries to be searched.</li><li value="5">The section's contents, relocation information, and line number information are not placed in the output module.</li></ul></li>
                                        <p>In the preceding example, none of the sections from f1.obj are allocated, but all the symbols are relocated as though the sections were linked at address 0x2000. The other sections can refer to any of the global symbols in sec1.</p>
                                        <li value="2"> A COPY section is similar to a DSECT section, except that its contents and associated information are written to the output module. The .cinit section that contains initialization tables for the <span>MSP430</span> C/C++ compiler has this attribute under the run-time initialization model.</li>
                                        <li value="3"> A NOLOAD section differs from a normal output section in one respect: the section's contents, relocation information, and line number information are not placed in the output module. The linker allocates space for the section, and it appears in the memory map listing.</li>
                                        <li value="4">A NOINIT section is not C auto-initialized by the linker. It is your responsibility to initialize this section as needed.</li>
                                        <li value="5"> A VECT_INIT section type directs the linker to emit a warning if a particular device interrupt was not initialized using the vector pragma for an interrupt sub-routine (ISR) (see the <i>Optimizing C/C++ Compiler User's Guide</i> for details on the vector pragma and interrupt keyword). However, a default vector handler is now provided by the run-time support (RTS) library, so you should not see this error if you are linking with the provided RTS library. The following output section entry will generate a linker warning if the device interrupt TIMER0_A1 does not have an associated ISR and is not using the default ISR:<ul><li value="1">TIMER0_A1 : { * ( .int53 ) } &gt; INT53 type = VECT_INIT </li></ul></li>
                                    </ul>
                                </div>
                                <div class="subsection">
                                    <h4 id="lit40948978"><a name="8.5.9_Configuring_Error_Correcting_Code_(ECC)_with_the_Linker" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.9 </span>Configuring Error Correcting Code (ECC) with the Linker</h4>
                                    <p>Error Correcting Codes (ECC) can be generated and placed in separate sections through the linker command file. ECC uses extra bits to allow errors to be detected and/or corrected by a device. The ECC support provided by the linker is compatible with the ECC support in TI Flash memory on various TI devices. TI Flash memory uses a modified Hamming(72,64) code, which uses 8 parity bits for every 64 bits. Check the documentation for your Flash memory to see if ECC is supported. (ECC for read-write memory is handled completely in hardware at run time.)</p>
                                    <p>See <span class="crossreference"><a href="#lit38608224" class="selected">Section 8.4.9</a></span> for command-line options that introduce bit errors into code that has a corresponding ECC section or into the ECC parity bits themselves. You can use these options to test your ECC error handling code.</p>
                                    <p>ECC can be generated during linking. The ECC data is included in the resulting object file, alongside code and data, as a data section located at the appropriate address. No extra ECC generation step is required after compilation, and the ECC can be uploaded to the device along with everything else.</p>
                                    <p>You can control the generation of ECC data using the ECC specifier in the memory map (<span class="crossreference"><a href="#lit8384296" class="selected">Section 8.5.9.1</a></span>) and the ECC directive (<span class="crossreference"><a href="#lit2374437" class="selected">Section 8.5.9.2</a></span>). </p>
                                    <div class="subsection">
                                        <h4 id="lit8384296"><a name="8.5.9.1_Using_the_ECC_Specifier_in_the_Memory_Map" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.9.1 </span>Using the ECC Specifier in the Memory Map</h4>
                                        <p>To generate ECC, add a separate memory range to your memory map to hold ECC data and to indicate which memory range contains the Flash data that corresponds to this ECC data. If you have multiple memory ranges for Flash data, you should add a separate ECC memory range for each Flash data range.</p>
                                        <p>The definition of an ECC memory range can also provide parameters for how to generate the ECC data.</p>
                                        <p>The memory map for a device supporting Flash ECC may look something like this: </p><code>MEMORY {
 VECTORS : origin=0x00000000 length=0x000020 
 FLASH0 : origin=0x00000020 length=0x17FFE0
 FLASH1 : origin=0x00180000 length=0x180000
 STACKS : origin=0x08000000 length=0x000500
 RAM : origin=0x08000500 length=0x03FB00
   <b>ECC_VEC</b>  : origin=0xf0400000 length=0x000004 ECC={ input_range=VECTORS }
   <b>ECC_FLA0</b> : origin=0xf0400004 length=0x02FFFC ECC={ input_range=FLASH0 }
   <b>ECC_FLA1</b> : origin=0xf0430000 length=0x030000 ECC={ input_range=FLASH1 }
}</code>
                                        <p>The specification syntax for ECC memory ranges is as follows:</p><code>MEMORY { 
 &lt;memory specifier1&gt; : &lt;memory attributes&gt; [ vfill=&lt;fill value&gt; ]
 &lt;memory specifier2&gt; : &lt;memory attributes&gt; ECC = {
 input_range = &lt;memory specifier1&gt; [ algorithm = &lt;algorithm name&gt; ]
 [ fill = [ true, false ] ]
 }
}</code>
                                        <p>The "ECC" specifier attached to the ECC memory ranges indicates the data memory range that the ECC range covers. The ECC specifier supports the following parameters:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">input_range = &lt;<i>memory range</i>&gt; </td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> The data memory range covered by this ECC data range. Required. </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">algorithm = &lt;<i>ECC algorithm name</i>&gt;</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> The name of an ECC algorithm defined later in the command file using the ECC directive. Optional if only one algorithm is defined. (See <span class="crossreference"><a href="#lit2374437" class="selected">Section 8.5.9.2</a></span>.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">fill = true | false</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Whether to generate ECC data for holes in the initialized data of the input range. The default is "true". Using fill=false produces behavior similar to the nowECC tool. The input range can be filled normally or using a virtual fill (see <span class="crossreference"><a href="#lit89767313" class="selected">Section 8.5.9.3</a></span>).</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="lit2374437"><a name="8.5.9.2_Using_the_ECC_Directive" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.9.2 </span>Using the ECC Directive</h4>
                                        <p>In addition to specifying ECC memory ranges in the memory map, the linker command file must specify parameters for the algorithm that generates ECC data. You might need multiple ECC algorithm specifications if you have multiple Flash devices.</p>
                                        <p>Each TI device supporting Flash ECC has exactly one set of valid values for these parameters. The linker command files provided with Code Composer Studio include the ECC parameters necessary for ECC support on the Flash memory accessible by the device. Documentation is provided here for completeness.</p>
                                        <p>You specify algorithm parameters with the top-level ECC directive in the linker command file. The specification syntax is as follows:</p><code>ECC {
 &lt;algorithm name&gt; : parity_mask = &lt;8-bit integer&gt; mirroring = [ F021, F035 ]
 address_mask = &lt;32-bit mask&gt;}
</code>
                                        <p>For example:</p><code>MEMORY {
 FLASH0 : origin=0x00000020 length=0x17FFE0
 ECC_FLA0 : origin=0xf0400004 length=0x02FFFC ECC={ input_range=FLASH0
 algorithm=F021 }
}

ECC { F021 : parity_mask = 0xfc 
 mirroring = F021 }
</code>
                                        <p>This ECC directive accepts the following attributes:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"><i>algorithm_name</i>
                                                        </td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Specify the name you would like to use for referencing the algorithm.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">address_mask = &lt;<i>32-bit mask</i>&gt;</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">This mask determines which bits of the address of each 64-bit piece of memory are used in the calculation of the ECC byte for that memory. Default is 0xffffffff, so that all bits of the address are used. (Note that the ECC algorithm itself ignores the lowest bits, which are always zero for a correctly-aligned input block.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">parity_mask = &lt;<i>8-bit mask</i>&gt;</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">This mask determines which ECC bits encode even parity and which bits encode odd parity. Default is 0, meaning that all bits encode even parity.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">mirroring = F021 | F035</td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">This setting determines the order of the ECC bytes and their duplication pattern for redundancy. Default is F021.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="lit89767313"><a name="8.5.9.3_Using_the_VFILL_Specifier_in_the_Memory_Map" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.9.3 </span>Using the VFILL Specifier in the Memory Map</h4>
                                        <p>Normally, specifying a fill value for a MEMORY range creates initialized data sections to cover any previously uninitialized areas of memory. To generate ECC data for an entire memory range, the linker either needs to have initialized data in the entire range, or needs to know what value uninitialized memory areas will have at run time. </p>
                                        <p>In cases where you want to generate ECC for an entire memory range, but do not want to initialize the entire range by specifying a fill value, you can use the "vfill" specifier instead of a "fill" specifier to virtually fill the range: </p><code>MEMORY {
 FLASH : origin=0x0000 length=0x4000  <b>vfill=0xffffffff</b>
}</code>
                                        <p>The vfill specifier is functionally equivalent to omitting a fill specifier, except that it allows ECC data to be generated for areas of the input memory range that remain uninitialized. This has the benefit of reducing the size of the resulting object file.</p>
                                        <p>The vfill specifier has no effect other than in ECC data generation. It cannot be specified along with a fill specifier, since that would introduce ambiguity.</p>
                                        <p>If fill is specified in the ECC specifier, but vfill is not specified, vfill defaults to 0xff. </p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0758478"><a name="8.5.10_Assigning_Symbols_at_Link_Time" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10 </span>Assigning Symbols at Link Time</h4>
                                    <p> Linker assignment statements allow you to define external (global) symbols and assign values to them at link time. You can use this feature to initialize a variable or pointer to an allocation-dependent value. See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0752041"><a name="8.5.10.1_Syntax_of_Assignment_Statements" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.1 </span>Syntax of Assignment Statements</h4>
                                        <p> The syntax of assignment statements in the linker is similar to that of assignment statements in the C language:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                    <col />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>symbol</i> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <b>=</b> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>expression;</i> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">assigns the value of expression to symbol</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>symbol</i> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top">+ =</td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>expression;</i> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">adds the value of expression to symbol</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>symbol</i> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>-</i> =</td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>expression;</i> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">subtracts the value of expression from symbol</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>symbol</i> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top">* =</td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>expression;</i> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">multiplies symbol by expression</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>symbol</i> <![CDATA[ ]]></td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top">/ =</td>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top"> <i>expression;</i> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">divides symbol by expression</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The symbol should be defined externally. If it is not, the linker defines a new symbol and enters it into the symbol table. The expression must follow the rules defined in <span class="crossreference"><a href="#STDZ0751536" class="selected">Section 8.5.10.3</a></span>. Assignment statements <i>must</i> terminate with a semicolon.</p>
                                        <p>The linker processes assignment statements<i> after </i>it allocates all the output sections. Therefore, if an expression contains a symbol, the address used for that symbol reflects the symbol's address in the executable output file.</p>
                                        <p>For example, suppose a program reads data from one of two tables identified by two external symbols, Table1 and Table2. The program uses the symbol cur_tab as the address of the current table. The cur_tab symbol must point to either Table1 or Table2. You could accomplish this in the assembly code, but you would need to reassemble the program to change tables. Instead, you can use a linker assignment statement to assign cur_tab at link time:</p><code>prog.obj /* Input file */
cur_tab = Table1; /* Assign cur_tab to one of the tables */</code>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0757996"><a name="8.5.10.2_Assigning_the_SPC_to_a_Symbol" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.2 </span>Assigning the SPC to a Symbol</h4>
                                        <p> A special symbol, denoted by a dot (.), represents the current value of the section program counter (SPC) during allocation. The SPC keeps track of the current location within a section. The linker's . symbol is analogous to the assembler's $ symbol. The . symbol can be used only in assignment statements within a SECTIONS directive because . is meaningful only during allocation and SECTIONS controls the allocation process. (See <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>.)</p>
                                        <p>The . symbol refers to the current run address, not the current load address, of the section.</p>
                                        <p>For example, suppose a program needs to know the address of the beginning of the .data section. By using the .global directive (see <span class="crossreference"><a href="assembler-directives.html#IDglobaldesc">Identify Global Symbols</a></span>), you can create an external undefined variable called Dstart in the program. Then, assign the value of . to Dstart:</p><code>SECTIONS
{
 .text: {}
 .data: {Dstart = .;}
 .bss : {}
}</code>
                                        <p>This defines Dstart to be the first linked address of the .data section. (Dstart is assigned<i> before </i>.data is allocated.) The linker relocates all references to Dstart.</p>
                                        <p>A special type of assignment assigns a value to the . symbol. This adjusts the SPC within an output section and creates a hole between two input sections. Any value assigned to . to create a hole is relative to the beginning of the section, not to the address actually represented by the . symbol. Holes and assignments to . are described in <span class="crossreference"><a href="#STDZ0752589" class="selected">Section 8.5.11</a></span>.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0751536"><a name="8.5.10.3_Assignment_Expressions" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.3 </span>Assignment Expressions</h4>
                                        <p> These rules apply to linker expressions:</p>
                                        <ul>
                                            <li value="1">Expressions can contain global symbols, constants, and the C language operators listed in <span class="crossreference"><a href="#STDZ0753818" class="selected">Table 8-11</a></span>.</li>
                                            <li value="2">All numbers are treated as long (32-bit) integers.</li>
                                            <li value="3">Constants are identified by the linker in the same way as by the assembler. That is, numbers are recognized as decimal unless they have a suffix (H or h for hexadecimal and Q or q for octal). C language prefixes are also recognized (0 for octal and 0x for hex). Hexadecimal constants must begin with a digit. No binary constants are allowed.</li>
                                            <li value="4">Symbols within an expression have only the value of the symbol's <i>address</i>. No type-checking is performed.</li>
                                            <li value="5">Linker expressions can be absolute or relocatable. If an expression contains <i>any</i> relocatable symbols (and 0 or more constants or absolute symbols), it is relocatable. Otherwise, the expression is absolute. If a symbol is assigned the value of a relocatable expression, it is relocatable; if it is assigned the value of an absolute expression, it is absolute.</li>
                                        </ul>
                                        <p> The linker supports the C language operators listed in<span> <span class="crossreference"><a href="#STDZ0753818" class="selected">Table 8-11</a></span></span> in order of precedence. Operators in the same group have the same precedence. Besides the operators listed in <span class="crossreference"><a href="#STDZ0753818" class="selected">Table 8-11</a></span>, the linker also has an align operator that allows a symbol to be aligned on an n-byte boundary within an output section (n is a power of 2). For example, the following expression aligns the SPC within the current section on the next 16-byte boundary. Because the align operator is a function of the current SPC, it can be used only in the same context as . —that is, within a SECTIONS directive. </p><code>    . = align(16);</code>
                                        <div class="subsection">
                                            <p class="table" id="STDZ0753818"><span class="table-label">Table 8-11 </span>Groups of Operators Used in Expressions (Precedence) </p>
                                            <table class="gentable">
                                                <colgroup>
                                                    <col align="center" />
                                                    <col align="left" />
                                                    <col align="center" />
                                                    <col align="center" />
                                                    <col align="center" />
                                                    <col align="center" />
                                                </colgroup>
                                                <thead align="left" class="tbl_hdr_gray">
                                                    <tr valign="middle">
                                                        <th colspan="2"><b>Group 1 (Highest Precedence)</b> <![CDATA[ ]]></th>
                                                        <th colspan="4"><b>Group 6</b> <![CDATA[ ]]></th>
                                                    </tr>
                                                </thead>
                                                <tbody align="left">
                                                    <tr valign="middle">
                                                        <td>!<br /> ~<br /> -</td>
                                                        <td>Logical NOT<br /> Bitwise NOT<br /> Negation</td>
                                                        <td>&amp;</td>
                                                        <td colspan="3">Bitwise AND</td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td colspan="2"><b>Group 2</b>
                                                        </td>
                                                        <td colspan="4"><b>Group 7</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td>*<br /> /<br /> %</td>
                                                        <td>Multiplication<br /> Division<br /> Modulus</td>
                                                        <td>|</td>
                                                        <td colspan="3">Bitwise OR</td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td colspan="2"><b>Group 3</b>
                                                        </td>
                                                        <td colspan="4"><b>Group 8</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td>+<br /> -</td>
                                                        <td>Addition<br /> Subtraction</td>
                                                        <td>&amp;&amp;</td>
                                                        <td colspan="3">Logical AND</td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td colspan="2"><b>Group 4</b>
                                                        </td>
                                                        <td colspan="4"><b>Group 9</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td>&gt;&gt;<br /> &lt;&lt;</td>
                                                        <td>Arithmetic right shift<br /> Arithmetic left shift</td>
                                                        <td>||</td>
                                                        <td colspan="3">Logical OR</td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td />
                                                        <td><b>Group 5</b>
                                                        </td>
                                                        <td colspan="4"><b>Group 10 (Lowest Precedence)</b> <![CDATA[ ]]></td>
                                                    </tr>
                                                    <tr valign="middle">
                                                        <td>==<br /> ! =<br /> &gt;<br /> &lt;<br /> &lt; =<br /> &gt; =</td>
                                                        <td>Equal to<br /> Not equal to<br /> Greater than<br /> Less than<br /> Less than or equal to<br /> Greater than or equal to </td>
                                                        <td>=<br /> + =<br /> - =<br /> * =<br /> / =</td>
                                                        <td>Assignment<br /> A + = B<br /> A - = B<br /> A * = B <br /> A / = B</td>
                                                        <td>
                                                            <br /><span>&#160;</span>
                                                            <br /> is equivalent to<br /> is equivalent to <br /> is equivalent to <br /> is equivalent to </td>
                                                        <td>
                                                            <br /><span>&#160;</span>
                                                            <br /> A = A + B<br /> A = A - B<br /> A = A * B<br /> A = A / B</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0753341"><a name="8.5.10.4_Symbols_Defined_by_the_Linker" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.4 </span>Symbols Defined by the Linker</h4>
                                        <p> The linker automatically defines several symbols based on which sections are used in your assembly source. A program can use these symbols at run time to determine where a section is linked. Since these symbols are external, they appear in the linker map. Each symbol can be accessed in any assembly language module if it is declared with a .global directive (see <span class="crossreference"><a href="assembler-directives.html#IDglobaldesc">Identify Global Symbols</a></span>). You must have used the corresponding section in a source module for the symbol to be created. Values are assigned to these symbols as follows:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b>.text</b></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address of the .text output section.<br /> (It marks the<i> beginning </i>of executable code.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b>etext</b></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address following the .text output section. <br /> (It marks the<i> end </i>of executable code.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b>.data</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address of the .data output section. <br /> (It marks the<i> beginning </i>of initialized data tables.)</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b>edata</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address following the .data output section.<br /> (It marks the<i> end </i>of initialized data tables.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b><span>.bss</span></b></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address of the <span>.bss</span> output section. <br /> (It marks the <i>beginning </i>of uninitialized data.) </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"> <b>end</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the first address following the <span>.bss</span> output section. <br /> (It marks the <i>end </i>of uninitialized data.) </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The following symbols are defined only for C/C++ support when the --ram_model or --rom_model option is used.</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"><b>__TI_STACK_END</b>
                                                        </td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the end of the .stack size.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"><b>__TI_STACK_SIZE</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the size of the .stack section for.</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="center" class="noBorderRight noBorderBottom" valign="top" />
                                                        <td class="noBorderRight noBorderBottom" valign="top"><b>__TI_SYSMEM_SIZE</b>
                                                        </td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">is assigned the size of the .sysmem section.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for information about referring to linker symbols in C/C++ code.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750709"><a name="8.5.10.5_Assigning_Exact_Start,_End,_and_Size_Values_of_a_Section_to_a_Symbol" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.5 </span>Assigning Exact Start, End, and Size Values of a Section to a Symbol</h4>
                                        <p>The code generation tools currently support the ability to load program code in one area of (slow) memory and run it in another (faster) area. This is done by specifying separate load and run addresses for an output section or group in the linker command file. Then execute a sequence of instructions (the copying code in <span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span>) that moves the program code from its load area to its run area before it is needed.</p>
                                        <p>There are several responsibilities that a programmer must take on when setting up a system with this feature. One of these responsibilities is to determine the size and run-time address of the program code to be moved. The current mechanisms to do this involve use of the .label directives in the copying code. A simple example is illustrated in <span class="crossreference"><a href="#STDZ0755089" class="selected">Example 8-10</a></span>.</p>
                                        <p>This method of specifying the size and load address of the program code has limitations. While it works fine for an individual input section that is contained entirely within one source file, this method becomes more complicated if the program code is spread over several source files or if the programmer wants to copy an entire output section from load space to run space.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750710"><a name="8.5.10.6_Why_the_Dot_Operator_Does_Not_Always_Work" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.6 </span>Why the Dot Operator Does Not Always Work</h4>
                                        <p>The dot operator (.) is used to define symbols at link-time with a particular address inside of an output section. It is interpreted like a PC. Whatever the current offset within the current section is, that is the value associated with the dot. Consider an output section specification within a SECTIONS directive:</p><code>outsect:
{
 s1.obj(.text)
 end_of_s1 = .;
 start_of_s2 = .;
 s2.obj(.text)
 end_of_s2 = .;
}</code>
                                        <p>This statement creates three symbols:</p>
                                        <ul>
                                            <li value="1">end_of_s1—the end address of .text in s1.obj</li>
                                            <li value="2">start_of_s2—the start address of .text in s2.obj</li>
                                            <li value="3">end_of_s2—the end address of .text in s2.obj</li>
                                        </ul>
                                        <p>Suppose there is padding between s1.obj and s2.obj created as a result of alignment. Then start_of_s2 is not really the start address of the .text section in s2.obj, but it is the address before the padding needed to align the .text section in s2.obj. This is due to the linker's interpretation of the dot operator as the current PC. It is also true because the dot operator is evaluated independently of the input sections around it.</p>
                                        <p>Another potential problem in the above example is that end_of_s2 may not account for any padding that was required at the end of the output section. You cannot reliably use end_of_s2 as the end address of the output section. One way to get around this problem is to create a dummy section immediately after the output section in question. For example:</p><code>GROUP
{
 outsect:
 {
 start_of_outsect = .;
 ...
 }
 dummy: { size_of_outsect = . - start_of_outsect; }
}</code>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0758032"><a name="8.5.10.7_Address_and_Dimension_Operators" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.7 </span>Address and Dimension Operators</h4>
                                        <p>Six operators allow you to define symbols for load-time and run-time addresses and sizes:</p>
                                        <div class="subsection">
                                            <table class="tabbedtext">
                                                <colgroup>
                                                    <col align="left" />
                                                    <col align="left" />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>LOAD_START(</b><i>sym</i><b>)</b><br /><b>START(</b><i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the load-time start address of related allocation unit</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>LOAD_END(</b><i>sym</i><b>)</b><br /><b>END(</b><i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the load-time end address of related allocation unit</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>LOAD_SIZE(</b><i>sym</i><b>)</b><br /><b>SIZE(</b><i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the load-time size of related allocation unit</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>RUN_START(</b><i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the run-time start address of related allocation unit</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>RUN_END(</b><i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the run-time end address of related allocation unit</td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top"> <b>RUN_SIZE</b>(<i>sym</i><b>)</b> <![CDATA[ ]]></td>
                                                        <td align="left" class="noBorderRight noBorderBottom" valign="top">Defines <i>sym</i> with the run-time size of related allocation unit</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div><span class="note"><p class="note_title">NOTE</p><b>Linker Command File Operator Equivalencies --</b><p>LOAD_START() and START() are equivalent, as are LOAD_END()/END() and LOAD_SIZE()/SIZE(). The LOAD names are recommended for clarity.</p></span>
                                        <p>These address and dimension operators can be associated with several different kinds of allocation units, including input items, output sections, GROUPs, and UNIONs. The following sections provide some examples of how the operators can be used in each case.</p>
                                        <p>These symbols defined by the linker can be accessed at runtime using the _symval operator, which is essentially a cast operation. For example, suppose your linker command file contains the following:</p><code>.text: RUN_START(text_run_start), RUN_SIZE(text_run_size) { *(.text) }
</code>
                                        <p>Your C program can access these symbols as follows:</p><code>extern char text_run_start, text_run_size;

printf(".text load start is %lx\n", _symval(&amp;text_run_start));
printf(".text load size is %lx\n", _symval(&amp;text_run_size));</code>
                                        <p>See <span class="crossreference"><a href="#SLAU1318080" class="selected">Section 8.6.1</a></span> for more information about referring to linker symbols in C/C++ code.</p>
                                        <div class="subsection">
                                            <h4 id="STDZ0750711"><a name="8.5.10.7.1_Input_Items" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.7.1 </span>Input Items</h4>
                                            <p>Consider an output section specification within a SECTIONS directive:</p><code>outsect:
{
 s1.obj(.text)
 end_of_s1 = .;
 start_of_s2 = .;
 s2.obj(.text)
 end_of_s2 = .;
}</code>
                                            <p>This can be rewritten using the START and END operators as follows:</p><code>outsect:
{
 s1.obj(.text) { END(end_of_s1) }
 s2.obj(.text) { START(start_of_s2), END(end_of_s2) }
}</code>
                                            <p>The values of end_of_s1 and end_of_s2 will be the same as if you had used the dot operator in the original example, but start_of_s2 would be defined after any necessary padding that needs to be added between the two .text sections. Remember that the dot operator would cause start_of_s2 to be defined before any necessary padding is inserted between the two input sections.</p>
                                            <p>The syntax for using these operators in association with input sections calls for braces { } to enclose the operator list. The operators in the list are applied to the input item that occurs immediately before the list.</p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0750712"><a name="8.5.10.7.2_Output_Section" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.7.2 </span>Output Section</h4>
                                            <p>The START, END, and SIZE operators can also be associated with an output section. Here is an example:</p><code>outsect: START(start_of_outsect), SIZE(size_of_outsect)
{
 &lt;list of input items&gt;}</code>
                                            <p>In this case, the SIZE operator defines size_of_outsect to incorporate any padding that is required in the output section to conform to any alignment requirements that are imposed.</p>
                                            <p>The syntax for specifying the operators with an output section does not require braces to enclose the operator list. The operator list is simply included as part of the allocation specification for an output section.</p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0750713"><a name="8.5.10.7.3_GROUPs" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.7.3 </span>GROUPs</h4>
                                            <p>Here is another use of the START and SIZE operators in the context of a GROUP specification:</p><code>GROUP
{
 outsect1: { ... }
 outsect2: { ... }
} load = ROM, run = RAM, START(group_start), SIZE(group_size);</code>
                                            <p>This can be useful if the whole GROUP is to be loaded in one location and run in another. The copying code can use group_start and group_size as parameters for where to copy from and how much is to be copied.<span> This makes the use of .label in the source code unnecessary.</span></p>
                                        </div>
                                        <div class="subsection">
                                            <h4 id="STDZ0750714"><a name="8.5.10.7.4_UNIONs" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.10.7.4 </span>UNIONs</h4>
                                            <p>The RUN_SIZE and LOAD_SIZE operators provide a mechanism to distinguish between the size of a UNION's load space and the size of the space where its constituents are going to be copied before they are run. Here is an example:</p><code>UNION: run = RAM, LOAD_START(union_load_addr),
 LOAD_SIZE(union_ld_sz), RUN_SIZE(union_run_sz)
{
 .text1: load = ROM, SIZE(text1_size) { f1.obj(.text) }
 .text2: load = ROM, SIZE(text2_size) { f2.obj(.text) }
}</code>
                                            <p>Here union_ld_sz is going to be equal to the sum of the sizes of all output sections placed in the union. The union_run_sz value is equivalent to the largest output section in the union. Both of these symbols incorporate any padding due to blocking or alignment requirements.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0752589"><a name="8.5.11_Creating_and_Filling_Holes" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.11 </span>Creating and Filling Holes</h4>
                                    <p> The linker provides you with the ability to create areas<i> within output sections </i>that have nothing linked into them. These areas are called <i>holes</i>. In special cases, uninitialized sections can also be treated as holes. This section describes how the linker handles holes and how you can fill holes (and uninitialized sections) with values.</p>
                                    <div class="subsection">
                                        <h4 id="SPRU1863898"><a name="8.5.11.1_Initialized_and_Uninitialized_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.11.1 </span>Initialized and Uninitialized Sections</h4>
                                        <p> There are two rules to remember about the contents of output sections. An output section contains either:</p>
                                        <ul>
                                            <li value="1">Raw data for the <i>entire</i> section</li>
                                            <li value="2"><i>No</i> raw data</li>
                                        </ul>
                                        <p> A section that has raw data is referred to as <i>initialized</i>. This means that the object file contains the actual memory image contents of the section. When the section is loaded, this image is loaded into memory at the section's specified starting address. The .text and .data sections <i>always</i> have raw data if anything was assembled into them. Named sections defined with the .sect assembler directive also have raw data.</p>
                                        <p>By default, the <span>.bss</span> section <span>(see <span class="crossreference"><a href="assembler-directives.html#IDbssdesc">Reserve Space in the .bss Section</a></span>) </span>and sections defined with the .usect directive (see <span class="crossreference"><a href="assembler-directives.html#IDusectdesc">Reserve Uninitialized Space</a></span>) have no raw data (they are <i>uninitialized</i>). They occupy space in the memory map but have no actual contents. Uninitialized sections typically reserve space in fast external memory for variables. In the object file, an uninitialized section has a normal section header and can have symbols defined in it; no memory image, however, is stored in the section.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="SPRU1864363"><a name="8.5.11.2_Creating_Holes" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.11.2 </span>Creating Holes</h4>
                                        <p> You can create a hole in an initialized output section. A hole is created when you force the linker to leave extra space between input sections within an output section. When such a hole is created,<i> the linker must supply raw data for the hole.</i></p>
                                        <p> Holes can be created only <i>within </i>output sections. Space can exist<i> between </i>output sections, but such space is not a hole. To fill the space between output sections, see <span class="crossreference"><a href="#STDZ0754145" class="selected">Section 8.5.4.2</a></span>.</p>
                                        <p> To create a hole in an output section, you must use a special type of linker assignment statement within an output section definition. The assignment statement modifies the SPC (denoted by .) by adding to it, assigning a greater value to it, or aligning it on an address boundary. The operators, expressions, and syntaxes of assignment statements are described in <span class="crossreference"><a href="#STDZ0758478" class="selected">Section 8.5.10</a></span>.</p>
                                        <p>The following example uses assignment statements to create holes in output sections:</p><code>SECTIONS
{
 outsect:
 {
 file1.obj(.text)
 . += 0x0100 /* Create a hole with size 0x0100 */
 file2.obj(.text)
 . = align(16); /* Create a hole to align the SPC */
 file3.obj(.text)
 }
}</code>
                                        <p>The output section outsect is built as follows:</p>
                                        <ol>
                                            <li value="1"> The .text section from file1.obj is linked in.</li>
                                            <li value="2"> The linker creates a 256-byte hole.</li>
                                            <li value="3"> The .text section from file2.obj is linked in after the hole.</li>
                                            <li value="4"> The linker creates another hole by aligning the SPC on a 16-byte boundary.</li>
                                            <li value="5"> Finally, the .text section from file3.obj is linked in.</li>
                                        </ol>
                                        <p>All values assigned to the . symbol within a section refer to the<i> relative address within the section.</i> The linker handles assignments to the . symbol as if the section started at address 0 (even if you have specified a binding address). Consider the statement . = align(16) in the example. This statement effectively aligns the file3.obj .text section to start on a 16-byte boundary within outsect. If outsect is ultimately allocated to start on an address that is not aligned, the file3.obj .text section will not be aligned either.</p>
                                        <p>The . symbol refers to the current run address, not the current load address, of the section.</p>
                                        <p>Expressions that decrement the . symbol are illegal. For example, it is invalid to use the -= operator in an assignment to the . symbol. The most common operators used in assignments to the . symbol are += and align.</p>
                                        <p>If an output section contains all input sections of a certain type (such as .text), you can use the following statements to create a hole at the beginning or end of the output section.</p><code>    .text: { .+= 0x0100; } /* Hole at the beginning */
 .data: { *(.data)
 . += 0x0100; } /* Hole at the end */</code>
                                        <p> Another way to create a hole in an output section is to combine an uninitialized section with an initialized section to form a single output section. <i>In this case, the linker treats the uninitialized section as a hole and supplies data for it.</i> The following example illustrates this method:</p><code>SECTIONS
{
 outsect:
 {
 file1.obj(.text)
 file1.obj(.bss) /* This becomes a hole */
 }
}</code>
                                        <p>Because the .text section has raw data, all of outsect must also contain raw data. Therefore, the uninitialized <span>.bss</span> section becomes a hole.</p>
                                        <p>Uninitialized sections become holes only when they are combined with initialized sections. If several uninitialized sections are linked together, the resulting output section is also uninitialized.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="SPRU186272"><a name="8.5.11.3_Filling_Holes" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.11.3 </span>Filling Holes</h4>
                                        <p> When a hole exists in an initialized output section, the linker must supply raw data to fill it. The linker fills holes with a 32-bit fill value that is replicated through memory until it fills the hole. The linker determines the fill value as follows:</p>
                                        <ol>
                                            <li value="1"> If the hole is formed by combining an uninitialized section with an initialized section, you can specify a fill value for the uninitialized section. Follow the section name with an = sign and a 32-bit constant. For example:</li><code>   SECTIONS
 { outsect:
 { 
 file1.obj(.text)
 file2.obj(.bss)= 0xFF00FF00 /* Fill this hole with 0xFF00FF00 */
 }
 }</code>
                                            <li value="2"> You can also specify a fill value for all the holes in an output section by supplying the fill value after the section definition:</li><code>   SECTIONS
 { outsect:fill = 0xFF00FF00 /* Fills holes with 0xFF00FF00 */
 {
 . += 0x0010; /* This creates a hole */
 file1.obj(.text)
 file1.obj(.bss) /* This creates another hole */
 }
 }</code>
                                            <li value="3"> If you do not specify an initialization value for a hole, the linker fills the hole with the value specified with the --fill_value option (see <span class="crossreference"><a href="#STDZ075142" class="selected">Section 8.4.11</a></span>). For example, suppose the command file link.cmd contains the following SECTIONS directive:</li><code><b>SECTIONS { .text: { .= 0x0100; } /* Create a 100 word hole */ }</b></code>
                                            <p>Now invoke the linker with the --fill_value option:</p><code><b>cl430 --run_linker --fill_value=0xFFFFFFFF link.cmd</b></code>
                                            <p>This fills the hole with <span>0xFFFFFFFF</span>.</p>
                                            <li value="4"> If you do not invoke the linker with the --fill_value option or otherwise specify a fill value, the linker fills holes with 0s.</li>
                                        </ol>
                                        <p>Whenever a hole is created and filled in an initialized output section, the hole is identified in the link map along with the value the linker uses to fill it.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="SPRU1868312"><a name="8.5.11.4_Explicit_Initialization_of_Uninitialized_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.5.11.4 </span>Explicit Initialization of Uninitialized Sections</h4>
                                        <p> You can force the linker to initialize an uninitialized section by specifying an explicit fill value for it in the SECTIONS directive. This causes the entire section to have raw data (the fill value). For example:</p><code>SECTIONS
{
 .bss: fill = 0x12341234 /* Fills .bss with 0x12341234 */
}</code><span class="note"><p class="note_title">NOTE</p><b>Filling Sections</b><p>Because filling a section (even with 0s) causes raw data to be generated for the entire section in the output file, your output file will be very large if you specify fill values for large sections or holes.</p></span>
                                    </div>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="SLAU1311714"><a name="8.6_Linker_Symbols" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.6 </span>Linker Symbols</h3>
                                <p>This section provides information about using and resolving linker symbols.</p>
                                <div class="subsection">
                                    <h4 id="SLAU1318080"><a name="8.6.1_Using_Linker_Symbols_in_C_C++_Applications" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.6.1 </span>Using Linker Symbols in C/C++ Applications</h4>
                                    <p>Linker symbols have a name and a value. The value is a 32-bit unsigned integer, even if it represents a pointer value on a target that has pointers smaller than 32 bits. </p>
                                    <p>The most common kind of symbol is generated by the compiler for each function and variable. The value represents the target address where that function or variable is located. When you refer to the symbol by name in the linker command file or in an assembly file, you get that 32-bit integer value.</p>
                                    <p>However, in C and C++ names mean something different. If you have a variable named x that contains the value Y, and you use the name "x" in your C program, you are actually referring to the contents of variable x. If "x" is used on the right-hand side of an expression, the compiler fetches the value Y. To realize this variable, the compiler generates a linker symbol named x with the value &amp;x. Even though the C/C++ variable and the linker symbol have the same name, they don't represent the same thing. In C, x is a variable name with the address &amp;x and content Y. For linker symbols, x is an address, and that address contains the value Y. </p>
                                    <p>Because of this difference, there are some tricks to referring to linker symbols in C code. The basic technique is to cause the compiler to creating a "fake" C variable or function and take its address. The details differ depending on the type of linker symbol.</p>
                                    <p><b>Linker symbols that represent a function address:</b> In C code, declare the function as an extern function. Then, refer to the value of the linker symbol using the same name. This works because function pointers "decay" to their address value when used without adornment. For example:</p><code>extern void _c_int00(void);

printf("_c_int00 %lx\n", (unsigned long)&amp;_c_int00);</code>
                                    <p>Suppose your linker command file defines the following linker symbol:</p><code>func_sym=printf+100;</code>
                                    <p>Your C application can refer to this symbol as follows:</p><code>  
extern void func_sym(void);

printf("func_sym %lx\n", _symval(&amp;func_sym)); /* these two are equivalent */
printf("func_sym %lx\n", (unsigned long)&amp;func_sym);</code>
                                    <p><b>Linker symbols that represent a data address:</b> In C code, declare the variable as an extern variable. Then, refer to the value of the linker symbol using the &amp; operator. Because the variable is at a valid data address, we know that a data pointer can represent the value.</p>
                                    <p>Suppose your linker command file defines the following linker symbols:</p><code>data_sym=.data+100;
xyz=12345</code>
                                    <p>Your C application can refer to these symbols as follows:</p><code>extern char data_sym;
extern int xyz; 

printf("data_sym %lx\n", _symval(&amp;data_sym)); /* these two are equivalent */
printf("data_sym %p\n", &amp;data_sym);

myvar = &amp;xyz;</code>
                                    <p><b>Linker symbols for an arbitrary address:</b> In C code, declare this as an extern symbol. The type does not matter. If you are using GCC extensions, declare it as "extern void". If you are not using GCC extensions, declare it as "extern char". Then, refer to the value of the linker symbol mySymbol as <span class="code">_symval(&amp;mySymbol)</span>. You must use the _symval operator, which is equivalent to a cast, because the 32-bit value of the linker symbol could be wider than a data pointer. The compiler treats <span class="code">_symval(&amp;mySymbol)</span> in a special way that can represent all 32 bits, even when pointers are 16 bits. Targets that have 32-bit pointers can usually use &amp;mySymbol instead of the _symval operator. However, the portable way to access such linker symbols across TI targets is to use <span class="code">_symval(&amp;mySymbol)</span>.</p>
                                    <p>Suppose your linker command file defines the following linker symbol:</p><code>abs_sym=0x12345678;</code>
                                    <p>Your C application can refer to this symbol as follows:</p><code>  
extern char abs_sym;

printf("abs_sym %lx\n", _symval(&amp;abs_sym));</code>
                                </div>
                                <div class="subsection">
                                    <h4 id="SPRUI023504"><a name="8.6.2_Declaring_Weak_Symbols" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.6.2 </span>Declaring Weak Symbols</h4>
                                    <p>In a linker command file, an assignment expression outside a MEMORY or SECTIONS directive can be used to define a linker-defined symbol. To define a weak symbol in a linker command file, use the "weak" operator in an assignment expression to designate that the symbol as eligible for removal from the output file's symbol table if it is not referenced. For example, you can define "ext_addr_sym" as follows: </p><code>weak(ext_addr_sym) = 0x12345678;</code>
                                    <p>When the linker command file is used to perform the final link, then "ext_addr_sym" is presented to the linker as a weak absolute symbol; it will not be included in the resulting output file if the symbol is not referenced. </p>
                                    <p>See <span class="crossreference"><a href="introduction-to-object-modules.html#SPRUI029023">Section 2.6.2</a></span> for details about how weak symbols are handled by the linker.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0755540"><a name="8.6.3_Resolving_Symbols_with_Object_Libraries" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.6.3 </span>Resolving Symbols with Object Libraries</h4>
                                    <p> An object library is a partitioned archive file that contains object files as members. Usually, a group of related modules are grouped together into a library. When you specify an object library as linker input, the linker includes any members of the library that define existing unresolved symbol references. You can use the archiver to build and maintain libraries. <span class="crossreference"><a href="archiver-description.html#STDZ0740696">Section 7.1</a></span> contains more information about the archiver.</p>
                                    <p>Using object libraries can reduce link time and the size of the executable module. Normally, if an object file that contains a function is specified at link time, the file is linked whether the function is used or not; however, if that same function is placed in an archive library, the file is included only if the function is referenced.</p>
                                    <p>The order in which libraries are specified is important, because the linker includes only those members that resolve symbols that are undefined at the time the library is searched. The same library can be specified as often as necessary; it is searched each time it is included. Alternatively, you can use the --reread_libs option to reread libraries until no more references can be resolved (see <span class="crossreference"><a href="#STDZ0753475" class="selected">Section 8.4.14.3</a></span>). A library has a table that lists all external symbols defined in the library; the linker searches through the table until it determines that it cannot use the library to resolve any more references.</p>
                                    <p>The following examples link several files and libraries, using these assumptions:</p>
                                    <ul>
                                        <li value="1">Input files f1.obj and f2.obj both reference an external function named <i>clrscr</i>.</li>
                                        <li value="2">Input file f1.obj references the symbol <i>origin</i>.</li>
                                        <li value="3">Input file f2.obj references the symbol <i>fillclr</i>.</li>
                                        <li value="4">Member 0 of library libc.lib contains a definition of <i>origin</i>.</li>
                                        <li value="5">Member 3 of library liba.lib contains a definition of <i>fillclr</i>.</li>
                                        <li value="6">Member 1 of both libraries defines <i>clrscr</i>.</li>
                                    </ul>
                                    <p>If you enter:</p><code><b>cl430 --run_linker f1.obj f2.obj liba.lib libc.lib</b></code>
                                    <p>then:</p>
                                    <ul>
                                        <li value="1">Member 1 of liba.lib satisfies the f1.obj and f2.obj references to <i>clrscr</i> because the library is searched and the definition of <i>clrscr</i> is found.</li>
                                        <li value="2">Member 0 of libc.lib satisfies the reference to <i>origin</i>.</li>
                                        <li value="3">Member 3 of liba.lib satisfies the reference to <i>fillclr</i>.</li>
                                    </ul>
                                    <p>If, however, you enter:</p><code><b>cl430 --run_linker f1.obj f2.obj libc.lib liba.lib</b></code>
                                    <p>then the references to <i>clrscr</i> are satisfied by member 1 of libc.lib.</p>
                                    <p>If none of the linked files reference symbols defined in a library, you can use the --undef_sym option to force the linker to include a library member. (See <span class="crossreference"><a href="#STDZ0757427" class="selected">Section 8.4.30</a></span>.) The next example creates an undefined symbol rout1 in the linker's global symbol table:</p><code><b>cl430 --run_linker --undef_sym=rout1 libc.lib</b></code>
                                    <p>If any member of libc.lib defines rout1, the linker includes that member.</p>
                                    <p>Library members are allocated according to the SECTIONS directive default allocation algorithm; see <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span>.</p>
                                    <p><span class="crossreference"><a href="#STDZ0758477" class="selected">Section 8.4.14</a></span> describes methods for specifying directories that contain object libraries.</p>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0752588"><a name="8.7_Default_Placement_Algorithm" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.7 </span>Default Placement Algorithm</h3>
                                <p> The MEMORY and SECTIONS directives provide flexible methods for building, combining, and allocating sections. However, any memory locations or sections you choose <i>not </i>to specify must still be handled by the linker. The linker uses algorithms to build and allocate sections in coordination with any specifications you do supply.</p>
                                <p>If you do not use the MEMORY and SECTIONS directives, the linker allocates output sections as though the memory map and section definitions were as shown in <span class="crossreference"><a href="#STDZ0755410" class="selected">Example 8-16</a></span> were specified.</p>
                                <div class="example">
                                    <h4 id="STDZ0755410"><a name="Example_8-16_Default_Allocation_for_MSP430_Devices" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-16 </span>Default Allocation for <span>MSP430</span> Devices</h4><code>MEMORY 
{ 
 MEM : origin = 0x0200, length = 0xFDFD 
 RESET : origin = 0xFFFE, length = 0x0002 
} 
 
SECTIONS 
{ 
 .text : {} &gt; MEM 
 .const : {} &gt; MEM 
 .data : {} &gt; MEM 
 .bss : {} &gt; MEM 
 
 .reset : &gt; RESET 
 
 .cinit : {} &gt; MEM ;cflag option only 
 .pinit : {} &gt; MEM ;cflag option only 
}</code>
                                </div>
                                <p>Also see <span class="crossreference"><a href="introduction-to-object-modules.html#STDZ0693403">Section 2.5.1</a></span> for information about default memory allocation.</p>
                                <p>All .text input sections are concatenated to form a .text output section in the executable output file, and all .data input sections are combined to form a .data output section.</p>
                                <p>If you use a SECTIONS directive, the linker performs <i>no part</i> of this default allocation. Instead, allocation is performed according to the rules specified by the SECTIONS directive and the general algorithm described next in <span class="crossreference"><a href="#STDZ0752072" class="selected">Section 8.7.1</a></span>.</p>
                                <div class="subsection">
                                    <h4 id="STDZ0752072"><a name="8.7.1_How_the_Allocation_Algorithm_Creates_Output_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.7.1 </span>How the Allocation Algorithm Creates Output Sections</h4>
                                    <p> An output section can be formed in one of two ways:</p>
                                    <div class="subsection">
                                        <table class="tabbedtext">
                                            <colgroup>
                                                <col align="left" />
                                                <col align="left" />
                                            </colgroup>
                                            <tbody>
                                                <tr class="noBorderBottom">
                                                    <td valign="top"> <b>Method 1</b> <![CDATA[ ]]></td>
                                                    <td valign="top">As the result of a SECTIONS directive definition</td>
                                                </tr>
                                                <tr>
                                                    <td valign="top"> <b>Method 2</b> <![CDATA[ ]]></td>
                                                    <td valign="top">By combining input sections with the same name into an output section that is not defined in a SECTIONS directive</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>If an output section is formed as a result of a SECTIONS directive, this definition completely determines the section's contents. (See <span class="crossreference"><a href="#STDZ0759595" class="selected">Section 8.5.5</a></span> for examples of how to define an output section's content.)</p>
                                    <p>If an output section is formed by combining input sections not specified by a SECTIONS directive, the linker combines all such input sections that have the same name into an output section with that name. For example, suppose the files f1.obj and f2.obj both contain named sections called Vectors and that the SECTIONS directive does not define an output section for them. The linker combines the two Vectors sections from the input files into a single output section named Vectors, allocates it into memory, and includes it in the output file.</p>
                                    <p>By default, the linker does not display a message when it creates an output section that is not defined in the SECTIONS directive. You can use the --warn_sections linker option (see <span class="crossreference"><a href="#STDZ0753414" class="selected">Section 8.4.32</a></span>) to cause the linker to display a message when it creates a new output section.</p>
                                    <p> After the linker determines the composition of all output sections, it must allocate them into configured memory. The MEMORY directive specifies which portions of memory are configured. If there is no MEMORY directive, the linker uses the default configuration as shown in <span class="crossreference"><a href="#STDZ0755410" class="selected">Example 8-16</a></span>. (See <span class="crossreference"><a href="#STDZ075888" class="selected">Section 8.5.4</a></span> for more information on configuring memory.)</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750708"><a name="8.7.2_Reducing_Memory_Fragmentation" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.7.2 </span>Reducing Memory Fragmentation</h4>
                                    <p> The linker's allocation algorithm attempts to minimize memory fragmentation. This allows memory to be used more efficiently and increases the probability that your program will fit into memory. The algorithm comprises these steps:</p>
                                    <ol>
                                        <li value="1"> Each output section for which you supply a specific binding address is placed in memory at that address.</li>
                                        <li value="2"> Each output section that is included in a specific, named memory range or that has memory attribute restrictions is allocated. Each output section is placed into the first available space within the named area, considering alignment where necessary.</li>
                                        <li value="3"> Any remaining sections are allocated in the order in which they are defined. Sections not defined in a SECTIONS directive are allocated in the order in which they are encountered. Each output section is placed into the first available memory space, considering alignment where necessary.</li>
                                    </ol>
                                    <p>If you want to control the order in which code and data are placed in memory, see the <a href="http://processors.wiki.ti.com/index.php/Code_Generation_Tools_FAQ#Q:_How_can_I_get_the_linker_to_place_a_piece_of_code_or_data_so_that_it_comes_before_all_the_rest.3F" target="_blank">FAQ topic on section placement</a>.</p>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0754560"><a name="8.8_Linker-Generated_Copy_Tables" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8 </span>Linker-Generated Copy Tables</h3>
                                <p>The linker supports extensions to the linker command file syntax that enable the following:</p>
                                <ul>
                                    <li value="1">Make it easier for you to copy objects from load-space to run-space at boot time</li>
                                    <li value="2">Make it easier for you to manage memory overlays at run time</li>
                                    <li value="3">Allow you to split GROUPs and output sections that have separate load and run addresses</li>
                                </ul>
                                <div class="subsection">
                                    <h4 id="STDZ0751533"><a name="8.8.1_Using_Copy_Tables_for_Boot_Loading" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.1 </span>Using Copy Tables for Boot Loading</h4>
                                    <p> In some embedded applications, there is a need to copy or download code and/or data from one location to another at boot time before the application actually begins its main execution thread. For example, an application may have its code and/or data in FLASH memory and need to copy it into on-chip memory before the application begins execution.</p>
                                    <p>One way to develop such an application is to create a copy table in assembly code that contains three elements for each block of code or data that needs to be moved from FLASH to on-chip memory at boot time:</p>
                                    <ul>
                                        <li value="1">The load <span>address</span></li>
                                        <li value="2">The run <span>address</span></li>
                                        <li value="3">The size</li>
                                    </ul>
                                    <p>The process you follow to develop such an application might look like this:</p>
                                    <ol>
                                        <li value="1"> Build the application to produce a .map file that contains the load and run addresses of each section that has a separate load and run placement.</li>
                                        <li value="2"> Edit the copy table (used by the boot loader) to correct the load and run addresses as well as the size of each block of code or data that needs to be moved at boot time.</li>
                                        <li value="3"> Build the application again, incorporating the updated copy table.</li>
                                        <li value="4"> Run the application.</li>
                                    </ol>
                                    <p>This process puts a heavy burden on you to maintain the copy table (by hand, no less). Each time a piece of code or data is added or removed from the application, you must repeat the process in order to keep the contents of the copy table up to date.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0757585"><a name="8.8.2_Using_Built-in_Link_Operators_in_Copy_Tables" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.2 </span>Using Built-in Link Operators in Copy Tables</h4>
                                    <p> You can avoid some of this maintenance burden by using the LOAD_START(), RUN_START(), and SIZE() operators that are already part of the linker command file syntax . For example, instead of building the application to generate a .map file, the linker command file can be annotated:</p><code>SECTIONS
{
 .flashcode: { app_tasks.obj(.text) } 
 load = FLASH, run = PMEM, 
 LOAD_START(_flash_code_ld_start),
 RUN_START(_flash_code_rn_start),
 SIZE(_flash_code_size)
 ...
}</code>
                                    <p>In this example, the LOAD_START(), RUN_START(), and SIZE() operators instruct the linker to create three symbols:</p>
                                    <div class="subsection">
                                        <table class="gentable">
                                            <colgroup>
                                                <col />
                                                <col />
                                            </colgroup>
                                            <thead class="tbl_hdr_gray">
                                                <tr>
                                                    <th align="left" class="noBorderRight" valign="bottom">Symbol</th>
                                                    <th align="left" class="noBorderRight" valign="bottom">Description</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_flash_code_ld_start </td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Load address of .flashcode section</td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_flash_code_rn_start</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Run address of .flashcode section </td>
                                                </tr>
                                                <tr>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">_flash_code_size</td>
                                                    <td align="left" class="noBorderRight noBorderBottom" valign="top">Size of .flashcode section</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p>These symbols can then be referenced from the copy table. The actual data in the copy table will be updated automatically each time the application is linked. This approach removes step 1 of the process described in <span class="crossreference"><a href="#STDZ0751533" class="selected">Section 8.8.1</a></span>.</p>
                                    <p>While maintenance of the copy table is reduced markedly, you must still carry the burden of keeping the copy table contents in sync with the symbols that are defined in the linker command file. Ideally, the linker would generate the boot copy table automatically. This would avoid having to build the application twice <i>and</i> free you from having to explicitly manage the contents of the boot copy table.</p>
                                    <p>For more information on the LOAD_START(), RUN_START(), and SIZE() operators, see <span class="crossreference"><a href="#STDZ0758032" class="selected">Section 8.5.10.7</a></span>.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750715"><a name="8.8.3_Overlay_Management_Example" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.3 </span>Overlay Management Example</h4>
                                    <p> Consider an application that contains a memory overlay that must be managed at run time. The memory overlay is defined using a UNION in the linker command file as illustrated in <span class="crossreference"><a href="#STDZ0754095" class="selected">Example 8-17</a></span>:</p>
                                    <div class="example">
                                        <h4 id="STDZ0754095"><a name="Example_8-17_Using_a_UNION_for_Memory_Overlay" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-17 </span>Using a UNION for Memory Overlay</h4><code>SECTIONS
{
 ...
 UNION
 {
 GROUP
 {
 .task1: { task1.obj(.text) }
 .task2: { task2.obj(.text) }

 } load = ROM, LOAD_START(_task12_load_start), SIZE(_task12_size)

 GROUP
 {
 .task3: { task3.obj(.text) }
 .task4: { task4.obj(.text) }

 } load = ROM, LOAD_START(_task34_load_start), SIZE(_task_34_size)
 } run = RAM, RUN_START(_task_run_start)
 ...
}</code>
                                    </div>
                                    <p>The application must manage the contents of the memory overlay at run time. That is, whenever any services from .task1 or .task2 are needed, the application must first ensure that .task1 and .task2 are resident in the memory overlay. Similarly for .task3 and .task4.</p>
                                    <p>To affect a copy of .task1 and .task2 from ROM to RAM at run time, the application must first gain access to the load address of the tasks (_task12_load_start), the run address (_task_run_start), and the size (_task12_size). Then this information is used to perform the actual code copy.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750716"><a name="8.8.4_Generating_Copy_Tables_With_the_table()_Operator" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4 </span>Generating Copy Tables With the table() Operator</h4>
                                    <p>The linker supports extensions to the linker command file syntax that enable you to do the following:</p>
                                    <ul>
                                        <li value="1">Identify any object components that may need to be copied from load space to run space at some point during the run of an application</li>
                                        <li value="2">Instruct the linker to automatically generate a copy table that contains (at least) the load address, run address, and size of the component that needs to be copied</li>
                                        <li value="3">Instruct the linker to generate a symbol specified by you that provides the address of a linker-generated copy table. For instance, <span class="crossreference"><a href="#STDZ0754095" class="selected">Example 8-17</a></span> can be written as shown in <span class="crossreference"><a href="#STDZ0752611" class="selected">Example 8-18</a></span>:</li>
                                    </ul>
                                    <div class="example">
                                        <h4 id="STDZ0752611"><a name="Example_8-18_Produce_Address_for_Linker_Generated_Copy_Table" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-18 </span>Produce Address for Linker Generated Copy Table</h4><code>SECTIONS
{
 ...

 UNION
 {
 GROUP
 {
 .task1: { task1.obj(.text) }
 .task2: { task2.obj(.text) }

 } load = ROM, table(_task12_copy_table)

 GROUP
 {
 .task3: { task3.obj(.text) }
 .task4: { task4.obj(.text) }

 } load = ROM, table(_task34_copy_table)
 
 } run = RAM
 ...
}</code>
                                    </div>
                                    <p>Using the SECTIONS directive from <span class="crossreference"><a href="#STDZ0752611" class="selected">Example 8-18</a></span> in the linker command file, the linker generates two copy tables named: _task12_copy_table and _task34_copy_table. Each copy table provides the load address, run address, and size of the GROUP that is associated with the copy table. This information is accessible from application source code using the linker-generated symbols, _task12_copy_table and _task34_copy_table, which provide the addresses of the two copy tables, respectively.</p>
                                    <p>Using this method, you need not worry about the creation or maintenance of a copy table. You can reference the address of any copy table generated by the linker in C/C++ or assembly source code, passing that value to a general purpose copy routine, which will process the copy table and affect the actual copy.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0750717"><a name="8.8.4.1_The_table()_Operator" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4.1 </span>The table() Operator</h4>
                                        <p> You can use the table() operator to instruct the linker to produce a copy table. A table() operator can be applied to an output section, a GROUP, or a UNION member. The copy table generated for a particular table() specification can be accessed through a symbol specified by you that is provided as an argument to the table() operator. The linker creates a symbol with this name and assigns it the address of the copy table as the value of the symbol. The copy table can then be accessed from the application using the linker-generated symbol.</p>
                                        <p>Each table() specification you apply to members of a given UNION must contain a unique name. If a table() operator is applied to a GROUP, then none of that GROUP's members may be marked with a table() specification. The linker detects violations of these rules and reports them as warnings, ignoring each offending use of the table() specification. The linker does not generate a copy table for erroneous table() operator specifications.</p>
                                        <p>Copy tables can be generated automatically; see <span class="crossreference"><a href="#STDZ0750716" class="selected">Section 8.8.4</a></span>. <span>The table operator can be used with compression; see <span class="crossreference"><a href="#STDZ0754720" class="selected">Section 8.8.5</a></span>. </span></p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0754157"><a name="8.8.4.2_Boot-Time_Copy_Tables" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4.2 </span>Boot-Time Copy Tables</h4>
                                        <p> The linker supports a special copy table name, BINIT (or binit), that you can use to create a boot-time copy table. This table is handled before the .cinit section is used to initialize variables at startup. For example, the linker command file for the boot-loaded application described in <span class="crossreference"><a href="#STDZ0757585" class="selected">Section 8.8.2</a></span> can be rewritten as follows:</p><code>SECTIONS
{
 .flashcode: { app_tasks.obj(.text) } 
 load = FLASH, run = PMEM, 
 table(BINIT)
 ...
}</code>
                                        <p>For this example, the linker creates a copy table that can be accessed through a special linker-generated symbol, __binit__, which contains the list of all object components that need to be copied from their load location to their run location at boot-time. If a linker command file does not contain any uses of table(BINIT), then the __binit__ symbol is given a value of -1 to indicate that a boot-time copy table does not exist for a particular application.</p>
                                        <p>You can apply the table(BINIT) specification to an output section, GROUP, or UNION member. If used in the context of a UNION, only one member of the UNION can be designated with table(BINIT). If applied to a GROUP, then none of that GROUP's members may be marked with table(BINIT).The linker detects violations of these rules and reports them as warnings, ignoring each offending use of the table(BINIT) specification.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750718"><a name="8.8.4.3_Using_the_table()_Operator_to_Manage_Object_Components" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4.3 </span>Using the table() Operator to Manage Object Components</h4>
                                        <p> If you have several pieces of code that need to be managed together, then you can apply the same table() operator to several different object components. In addition, if you want to manage a particular object component in multiple ways, you can apply more than one table() operator to it. Consider the linker command file excerpt in <span class="crossreference"><a href="#STDZ0751147" class="selected">Example 8-19</a></span>:</p>
                                        <div class="example">
                                            <h4 id="STDZ0751147"><a name="Example_8-19_Linker_Command_File_to_Manage_Object_Components" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-19 </span>Linker Command File to Manage Object Components</h4><code>SECTIONS
{
 UNION
 {
 .first: { a1.obj(.text), b1.obj(.text), c1.obj(.text) }
 load = EMEM, run = PMEM, table(BINIT), table(_first_ctbl)

 .second: { a2.obj(.text), b2.obj(.text) }
 load = EMEM, run = PMEM, table(_second_ctbl)
 }

 .extra: load = EMEM, run = PMEM, table(BINIT)
 ...
}</code>
                                        </div>
                                        <p>In this example, the output sections .first and .extra are copied from external memory (EMEM) into program memory (PMEM) at boot time while processing the BINIT copy table. After the application has started executing its main thread, it can then manage the contents of the overlay using the two overlay copy tables named: _first_ctbl and _second_ctbl.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750721"><a name="8.8.4.4_Linker-Generated_Copy_Table_Sections_and_Symbols" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4.4 </span>Linker-Generated Copy Table Sections and Symbols</h4>
                                        <p> The linker creates and allocates a separate input section for each copy table that it generates. Each copy table symbol is defined with the address value of the input section that contains the corresponding copy table.</p>
                                        <p>The linker generates a unique name for each overlay copy table input section. For example, table(_first_ctbl) would place the copy table for the .first section into an input section called .ovly:_first_ctbl. <span>The linker creates a single input section, .binit, to contain the entire boot-time copy table.</span></p>
                                        <p><span class="crossreference"><a href="#STDZ0757676" class="selected">Example 8-20</a></span> illustrates how you can control the placement of the linker-generated copy table sections using the input section names in the linker command file.</p>
                                        <div class="example">
                                            <h4 id="STDZ0757676"><a name="Example_8-20_Controlling_the_Placement_of_the_Linker-Generated_Copy_Table_Sec..." data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-20 </span>Controlling the Placement of the Linker-Generated Copy Table Sections</h4><code>SECTIONS
{
 UNION
 {
 .first: { a1.obj(.text), b1.obj(.text), c1.obj(.text) }
 load = EMEM, run = PMEM, table(BINIT), table(_first_ctbl)

 .second: { a2.obj(.text), b2.obj(.text) }
 load = EMEM, run = PMEM, table(_second_ctbl)
 }

 .extra: load = EMEM, run = PMEM, table(BINIT)
 ...
 .ovly: { } &gt; BMEM
 .binit: { } &gt; BMEM
}</code>
                                        </div>
                                        <p>For the linker command file in <span class="crossreference"><a href="#STDZ0757676" class="selected">Example 8-20</a></span>, the boot-time copy table is generated into a .binit input section, which is collected into the .binit output section, which is mapped to an address in the BMEM memory area. The _first_ctbl is generated into the .ovly:_first_ctbl input section and the _second_ctbl is generated into the .ovly:_second_ctbl input section. Since the base names of these input sections match the name of the .ovly output section, the input sections are collected into the .ovly output section, which is then mapped to an address in the BMEM memory area.</p>
                                        <p>If you do not provide explicit placement instructions for the linker-generated copy table sections, they are allocated according to the linker's default placement algorithm.</p>
                                        <p>The linker does not allow other types of input sections to be combined with a copy table input section in the same output section. The linker does not allow a copy table section that was created from a partial link session to be used as input to a succeeding link session.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0750722"><a name="8.8.4.5_Splitting_Object_Components_and_Overlay_Management" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.4.5 </span>Splitting Object Components and Overlay Management</h4>
                                        <p> It is possible to split sections that have separate load and run placement instructions. The linker can access both the load address and run address of every piece of a split object component. Using the table() operator, you can tell the linker to generate this information into a copy table. The linker gives each piece of the split object component a COPY_RECORD entry in the copy table object.</p>
                                        <p>For example, consider an application which has seven tasks. Tasks 1 through 3 are overlaid with tasks 4 through 7 (using a UNION directive). The load placement of all of the tasks is split among four different memory areas (LMEM1, LMEM2, LMEM3, and LMEM4). The overlay is defined as part of memory area PMEM. You must move each set of tasks into the overlay at run time before any services from the set are used.</p>
                                        <p>You can use table() operators in combination with splitting operators, &gt;&gt;, to create copy tables that have all the information needed to move either group of tasks into the memory overlay as shown in <span class="crossreference"><a href="#STDZ0757970" class="selected">Example 8-21</a></span>.</p>
                                        <div class="example">
                                            <h4 id="STDZ0757970"><a name="Example_8-21_Creating_a_Copy_Table_to_Access_a_Split_Object_Component" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-21 </span>Creating a Copy Table to Access a Split Object Component</h4><code>SECTIONS
{
 UNION
 {
 .task1to3: { *(.task1), *(.task2), *(.task3) } 
 load &gt;&gt; LMEM1 | LMEM2 | LMEM4, table(_task13_ctbl)

 GROUP
 {
 .task4: { *(.task4) }
 .task5: { *(.task5) }
 .task6: { *(.task6) }
 .task7: { *(.task7) }

 } load &gt;&gt; LMEM1 | LMEM3 | LMEM4, table(_task47_ctbl)

 } run = PMEM
 ...
 .ovly: &gt; LMEM4
}</code>
                                        </div>
                                        <p><span class="crossreference"><a href="#STDZ0754335" class="selected">Example 8-22</a></span> illustrates a possible driver for such an application.</p>
                                        <div class="example">
                                            <h4 id="STDZ0754335"><a name="Example_8-22_Split_Object_Component_Driver" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-22 </span>Split Object Component Driver</h4><code>#include &lt;cpy_tbl.h&gt;extern far COPY_TABLE task13_ctbl;
extern far COPY_TABLE task47_ctbl;

extern void task1(void);
...
extern void task7(void);

main()
{
 ...
 copy_in(&amp;task13_ctbl);
 task1();
 task2();
 task3();
 ...

 copy_in(&amp;task47_ctbl);
 task4();
 task5();
 task6();
 task7();
 ...
}</code>
                                        </div>
                                        <p>You must declare a COPY_TABLE object as <i>far</i> to allow the overlay copy table section placement to be independent from the other sections containing data objects (such as .bss).</p>
                                        <p>The contents of the .task1to3 section are split in the section's load space and contiguous in its run space. The linker-generated copy table, _task13_ctbl, contains a separate COPY_RECORD for each piece of the split section .task1to3. When the address of _task13_ctbl is passed to copy_in(), each piece of .task1to3 is copied from its load location into the run location.</p>
                                        <p>The contents of the GROUP containing tasks 4 through 7 are also split in load space. The linker performs the GROUP split by applying the split operator to each member of the GROUP in order. The copy table for the GROUP then contains a COPY_RECORD entry for every piece of every member of the GROUP. These pieces are copied into the memory overlay when the _task47_ctbl is processed by copy_in().</p>
                                        <p>The split operator can be applied to an output section, GROUP, or the load placement of a UNION or UNION member. The linker does not permit a split operator to be applied to the run placement of either a UNION or of a UNION member. The linker detects such violations, emits a warning, and ignores the offending split operator usage.</p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0754720"><a name="8.8.5_Compression" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5 </span>Compression</h4>
                                    <p>When automatically generating copy tables, the linker provides a way to compress the load-space data. This can reduce the read-only memory foot print. This compressed data can be decompressed while copying the data from load space to run space.</p>
                                    <p>You can specify compression with the table() operator. The table() operator accepts an optional compression parameter. The syntax is:</p>
                                    <p><span>&#160;&#160;&#160;&#160;&#160;&#160;</span><b>table(</b><i>name</i><b>, compression=</b><i>compression_kind</i><b>)</b>
                                    </p>
                                    <p>The <i>compression_kind</i> can be one of the following types: </p>
                                    <ul>
                                        <li value="1"><b>off</b>. Don't compress the data.</li>
                                        <li value="2"><b>rle</b>. Compress data using Run Length Encoding.</li>
                                        <li value="3"><b>lzss</b>. Compress data using Lempel-Ziv-Storer-Szymanski compression.</li>
                                    </ul>
                                    <p>When you choose compression, it is not guaranteed that the linker will compress the load data. The linker compresses load data only when such compression reduces the overall size of the load space. In some cases even if the compression results in smaller load section size the linker does not compress the data if the decompression routine offsets for the savings. </p>
                                    <p>For example, assume RLE compression reduces the size of section1 by 30 bytes. Also assume the RLE decompression routine takes up 40 bytes in load space. By choosing to compress section1 the load space is increased by 10 bytes. Therefore, the linker will not compress section1. On the other hand, if there is another section (say section2) that can benefit by more than 10 bytes from applying the same compression then both sections can be compressed and the overall load space is reduced. In such cases the linker compresses both the sections. </p>
                                    <p>You cannot force the linker to compress the data when doing so does not result in savings.</p>
                                    <p>You cannot compress the decompression routines or any member of a GROUP containing .cinit.</p>
                                    <div class="subsection">
                                        <h4 id="STDZ0757054"><a name="8.8.5.1_Compressed_Copy_Table_Format" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5.1 </span>Compressed Copy Table Format</h4>
                                        <p>The copy table format is the same irrespective of the <i>compression_kind</i>. The size field of the copy record is overloaded to support compression. <span class="crossreference"><a href="#STDZ0755631" class="selected">Figure 8-5</a></span> illustrates the compressed copy table layout.</p>
                                        <div class="figure"><span class="caption" id="STDZ0755631"><span class="figure-label">Figure 8-5 </span>Compressed Copy Table</span> <img alt="comp_cp_tdz075.gif" itemprop="image" src="ods/images/SLAU131R/comp_cp_tdz075.gif" title="Compressed Copy&#xA;    Table" /> </div>
                                        <p>In <span class="crossreference"><a href="#STDZ0755631" class="selected">Figure 8-5</a></span>, if the size in the copy record is non-zero it represents the size of the data to be copied, and also means that the size of the load data is the same as the run data. When the size is 0, it means that the load data is compressed.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0755838"><a name="8.8.5.2_Compressed_Section_Representation_in_the_Object_File" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5.2 </span>Compressed Section Representation in the Object File</h4>
                                        <p>The linker creates a separate input section to hold the compressed data. Consider the following table() operation in the linker command file. </p><code>SECTIONS
{
 .task1: load = ROM, run = RAM, table(_task1_table)
}</code>
                                        <p>The output object file has one output section named .task1 which has different load and run addresses. This is possible because the load space and run space have identical data when the section is not compressed. </p>
                                        <p>Alternatively, consider the following:</p><code>SECTIONS
{
 .task1: load = ROM, run = RAM, table(_task1_table, compression=rle)
}</code>
                                        <p>If the linker compresses the .task1 section then the load space data and the run space data are different. The linker creates the following two sections:</p>
                                        <ul>
                                            <li value="1"><b>.task1</b> : This section is uninitialized. This output section represents the run space image of section task1.</li>
                                            <li value="2"><b>.task1.load</b> : This section is initialized. This output section represents the load space image of the section task1. This section usually is considerably smaller in size than .task1 output section.</li>
                                        </ul>
                                        <p>The linker allocates load space for the .task1.load input section in the memory area that was specified for load placement for the .task1 section. There is only a single load section to represent the load placement of .task1 - .task1.load. If the .task1 data had not been compressed, there would be two allocations for the .task1 input section: one for its load placement and another for its run placement.</p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ075423"><a name="8.8.5.3_Compressed_Data_Layout" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5.3 </span>Compressed Data Layout</h4>
                                        <p>The compressed load data has the following layout:</p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td><span>8</span>-bit index</td>
                                                        <td>Compressed data</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The first <span>8</span> bits of the load data are the handler index. This handler index is used to index into a handler table to get the address of a handler function that knows how to decode the data that follows. The handler table is a list of 32-bit function pointers as shown in <span class="crossreference"><a href="#STDZ0755034" class="selected">Figure 8-6</a></span>.</p>
                                        <div class="figure"><span class="caption" id="STDZ0755034"><span class="figure-label">Figure 8-6 </span>Handler Table</span> <img alt="handler_32_tdz075.gif" itemprop="image" src="ods/images/SLAU131R/handler_32_tdz075.gif" title="Handler Table" /> </div>
                                        <p>The linker creates a separate output section for the load and run space. For example, if .task1.load is compressed using RLE, the handler index points to an entry in the handler table that has the address of the run-time-support routine __TI_decompress_rle(). </p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0759054"><a name="8.8.5.4_Run-Time_Decompression" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5.4 </span>Run-Time Decompression</h4>
                                        <p>During run time you call the run-time-support routine copy_in() to copy the data from load space to run space. The address of the copy table is passed to this routine. First the routine reads the record count. Then it repeats the following steps for each record:</p>
                                        <ol>
                                            <li value="1">Read load address, run address and size from record.</li>
                                            <li value="2">If size is zero go to step 5.</li>
                                            <li value="3">Call memcpy passing the run address, load address and size.</li>
                                            <li value="4">Go to step 1 if there are more records to read.</li>
                                            <li value="5">Read the first <span>byte</span> from the load address. <span>Call this index.</span></li>
                                            <li value="6">Read the handler address from (&amp;__TI_Handler_Base)[index].</li>
                                            <li value="7">Call the handler and pass load address + 1 and run address.</li>
                                            <li value="8">Go to step 1 if there are more records to read.</li>
                                        </ol>
                                        <p>The routines to handle the decompression of load data are provided in the run-time-support library. </p>
                                    </div>
                                    <div class="subsection">
                                        <h4 id="STDZ0755950"><a name="8.8.5.5_Compression_Algorithms" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.5.5 </span>Compression Algorithms</h4>
                                        <p>The following subsections provide information about decompression algorithms for the RLE and LZSS formats. To see example decompression algorithms, refer to the following functions in the Run-Time Support library:</p>
                                        <ul>
                                            <li id="t365184-2" value="1"><b>RLE:</b> The __TI_decompress_rle() function in the copy_decompress_rle.c file.</li>
                                            <li id="t365184-3" value="2"><b>LZSS:</b> The __TI_decompress_lzss() function in the copy_decompress_lzss.c file.</li>
                                        </ul>
                                        <p> Additional information about compression algorithms can be found in the <span><i>MSP430 Embedded Application Binary Interface Application Report</i> (<a href="http://www.ti.com/lit/pdf/SLAA534" target="_blank">SLAA534</a>) </span>EABI specification.</p>
                                        <p><b>Run Length Encoding (RLE):</b>
                                        </p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td><span>8</span>-bit index</td>
                                                        <td>Initialization data compressed using run length encoding</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The data following the <span>8</span>-bit index is compressed using run length encoded (RLE) format. <span>MSP430</span> uses a simple run length encoding that can be decompressed using the following algorithm:</p>
                                        <ol>
                                            <li value="1">Read the first <span>byte</span>, Delimiter (D).</li>
                                            <li value="2">Read the next <span>byte</span> (B).</li>
                                            <li value="3">If B != D, copy B to the output buffer and go to step 2.</li>
                                            <li value="4">Read the next <span>byte</span> (L).<ol style="list-style-type: lower-alpha;"><li value="1">If L == 0, then length is either a <span>16-bit or 24-bit </span> value, or we’ve reached the end of the data, read next <span>byte</span> (L).<ol><li value="1">If L == 0, length is a 24-bit value or the end of the data is reached, read next byte (L).<ol style="list-style-type: lower-alpha;"><li value="1">If L == 0, the end of the data is reached, go to step 7.</li><li value="2">Else L &lt;&lt;= 16, read next two bytes into lower 16 bits of L to complete 24-bit value for L.</li></ol></li><li value="2">Else L &lt;&lt;= 8, read next byte into lower 8 bits of L to complete 16-bit value for L.</li></ol></li><li value="2">Else if L &gt; 0 and L &lt; 4, copy D to the output buffer L times. Go to step 2.</li><li value="3">Else, length is <span>8</span>-bit value (L).</li></ol></li>
                                            <li value="5">Read the next <span>byte</span> (C); C is the repeat character.</li>
                                            <li value="6">Write C to the output buffer L times; go to step 2.</li>
                                            <li value="7">End of processing.</li>
                                        </ol>
                                        <p>The <span>MSP430</span> run-time support library has a routine __TI_decompress_rle<span>24</span>() to decompress data compressed using RLE. The first argument to this function is the address pointing to the <span>byte</span> after the <span>8</span>-bit index. The second argument is the run address from the C auto initialization record.</p><span class="note"><p class="note_title">NOTE</p><b>RLE Decompression Routine</b><p>The previous decompression routine, __TI_decompress_rle(), is included in the run-time-support library for decompressing RLE encodings that are generated by older versions of the linker. </p></span>
                                        <p><b>Lempel-Ziv-Storer-Szymanski Compression (LZSS):</b>
                                        </p>
                                        <div class="subsection">
                                            <table class="gentable">
                                                <colgroup>
                                                    <col />
                                                    <col />
                                                </colgroup>
                                                <tbody>
                                                    <tr>
                                                        <td><span>8</span>-bit index</td>
                                                        <td>Data compressed using LZSS</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p>The data following the 8-bit index is compressed using LZSS compression. The <span>MSP430</span> run-time-support library has the routine __TI_decompress_lzss() to decompress the data compressed using LZSS. The first argument to this function is the address pointing to the <span>byte</span> after the <span>8</span>-bit Index, and the second argument is the run address from the C auto initialization record.</p>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750719"><a name="8.8.6_Copy_Table_Contents" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.6 </span>Copy Table Contents</h4>
                                    <p>To use a copy table generated by the linker, you must know the contents of the copy table. This information is included in a run-time-support library header file, cpy_tbl.h, which contains a C source representation of the copy table data structure that is generated by the linker. <span><span class="crossreference"><a href="#STDZ0757771" class="selected">Example 8-23</a></span> shows the copy table header file.</span></p>
                                    <div class="example">
                                        <h4 id="STDZ0757771"><a name="Example_8-23_MSP430_cpy_tbl.h_File" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-23 </span><span>MSP430</span> cpy_tbl.h File</h4><code>/*****************************************************************************/
/* cpy_tbl.h v##### */
/* Copyright (c) 2003-2011 Texas Instruments Incorporated */
/* */
/* Specification of copy table data structures which can be automatically */
/* generated by the linker (using the table() operator in the LCF). */
/* */
/*****************************************************************************/

#ifndef _CPY_TBL
#define _CPY_TBL

#ifdef __cplusplus
extern "C" namespace std {
#endif /* __cplusplus */

/*****************************************************************************/
/* Copy Record Data Structure */
/*****************************************************************************/
typedef struct copy_record
{
 unsigned long load_addr;
 unsigned long run_addr;
 unsigned long size;
} COPY_RECORD;

/*****************************************************************************/
/* Copy Table Data Structure */
/*****************************************************************************/
typedef struct copy_table
{
 unsigned short rec_size;
 unsigned short num_recs;
 COPY_RECORD recs[1];
} COPY_TABLE;

/*****************************************************************************/
/* Prototype for general purpose copy routine. */
/*****************************************************************************/
extern void copy_in(COPY_TABLE *tp);

#ifdef __cplusplus
} /* extern "C" namespace std */

#ifndef _CPP_STYLE_HEADER
using std::COPY_RECORD;
using std::COPY_TABLE;
using std::copy_in;
#endif /* _CPP_STYLE_HEADER */
#endif /* __cplusplus */
#endif /* !_CPY_TBL */</code>
                                    </div>
                                    <p>For each object component that is marked for a copy, the linker creates a COPY_RECORD object for it. Each COPY_RECORD contains at least the following information for the object component:</p>
                                    <ul>
                                        <li value="1">The load address</li>
                                        <li value="2">The run address</li>
                                        <li value="3">The size</li>
                                    </ul>
                                    <p>The linker collects all COPY_RECORDs that are associated with the same copy table into a COPY_TABLE object. The COPY_TABLE object contains the size of a given COPY_RECORD, the number of COPY_RECORDs in the table, and the array of COPY_RECORDs in the table. <span>For instance, in the BINIT example in <span class="crossreference"><a href="#STDZ0754157" class="selected">Section 8.8.4.2</a></span>, the .first and .extra output sections will each have their own COPY_RECORD entries in the BINIT copy table. The BINIT copy table will then look like this:</span></p><code>COPY_TABLE __binit__ = { 12, 2,
 { &lt;load address of .first&gt;,
 &lt;run address of .first&gt;,
 &lt;size of .first&gt; },
 { &lt;load address of .extra&gt;,
 &lt;run address of .extra&gt;,
 &lt;size of .extra&gt; } };</code>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0750720"><a name="8.8.7_General_Purpose_Copy_Routine" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.8.7 </span>General Purpose Copy Routine</h4>
                                    <p> The cpy_tbl.h file <span>in <span class="crossreference"><a href="#STDZ0757771" class="selected">Example 8-23</a></span> <![CDATA[ ]]></span>also contains a prototype for a general-purpose copy routine, copy_in(), which is provided as part of the run-time-support library. The copy_in() routine takes a single argument: the address of a linker-generated copy table. The routine then processes the copy table data object and performs the copy of each object component specified in the copy table.</p>
                                    <p>The copy_in() function definition is provided in the cpy_tbl.c run-time-support source file shown in <span class="crossreference"><a href="#STDZ075141" class="selected">Example 8-24</a></span>.</p>
                                    <div class="example">
                                        <h4 id="STDZ075141"><a name="Example_8-24_Run-Time-Support_cpy_tbl.c_File" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-24 </span>Run-Time-Support cpy_tbl.c File</h4><code>/*****************************************************************************/
/* cpy_tbl.c v##### */
/* */
/* General purpose copy routine. Given the address of a linker-generated */
/* COPY_TABLE data structure, copy all object components designated for copy */
/* via the corresponding LCF table() operator. */
/*****************************************************************************/
#include &lt;cpy_tbl.h&gt;#include &lt;string.h&gt;#ifdef __TI_EABI__
 /*************************************************************************/
 /* MSP copy tables can handle moving functions even in small data model */
 /* + large code model, where data pointers are not big enough to */
 /* represent function pointers. This requires the EABI decompression */
 /* functions (SHARED/copy_*.c) to be changed to accept "far" pointers. */
 /* For this memory model combination, the decompression functions are */
 /* changed to use "unsigned long" to represent function pointers, so */
 /* function pointers through which we call these functions also needs to */
 /* have a prototype accepting "unsigned long" instead of pointer types. */
 /* All other memory model combinations use the same prototype that all */
 /* the other targets use: two data pointer arguments. Ultimately we use */
 /* MSP peek/poke intrinsics to read/write the "far" memory. */
 /*************************************************************************/
#if __LARGE_CODE_MODEL__ &amp;&amp; !__LARGE_DATA_MODEL__
 typedef void (*handler_fptr)(unsigned long in, unsigned long out);
#else
 typedef void (*handler_fptr)(const unsigned char *in, unsigned char *out);
#endif
#define HANDLER_TABLE __TI_Handler_Table_Base
#pragma WEAK(HANDLER_TABLE)
 extern unsigned int HANDLER_TABLE;
#endif

#if __LARGE_CODE_MODEL__ &amp;&amp; !__LARGE_DATA_MODEL__ void __memcpy_far(unsigned long dst, 
 unsigned long src, unsigned long sz); 
#endif

void copy_in(COPY_TABLE *tp)
{
 unsigned short i;

 for (i = 0; i &lt; tp-&gt;num_recs; i++)
 {
 COPY_RECORD crp = tp-&gt;recs[i];

#if __LARGE_CODE_MODEL__ &amp; __LARGE_DATA_MODEL__
 unsigned long ld_addr = crp.load_addr;
 unsigned long rn_addr = crp.run_addr; 
#else
 unsigned char *ld_addr = crp.load_addr;
 unsigned char *rn_addr = crp.run_addr; 
#endif
 if (crp.size) {
 /*------------------------------------------------------------------*/
 /* Copy record has non-zero size so data is not compressed. */
 /*------------------------------------------------------------------*/
#if __LARGE_CODE_MODEL__ &amp;&amp; !__LARGE_DATA_MODEL__
 if (ld_addr &gt;&gt; 16 || rn_addr &gt;&gt; 16)
 __memcpy_far(rn_addr, ld_addr, crp.size);
 else
 memcpy((void*)(unsigned int)rn_addr, 
 (void*)(unsigned int)ld_addr, crp.size); 
#else
 memcpy(rn_addr, ld_addr, crp.size); 
#endif
 }
#ifdef __TI_EABI__
 else if (HANDLER_TABLE)
 {
 /*------------------------------------------------------------------*/
 /* Copy record has size zero so the data is compressed. The first */
 /* byte of the load data has the handler index. Use this index with */
 /* the handler table to get the handler for this data. Then call */
 /* the handler by passing the load and run address. */
 /*------------------------------------------------------------------*/
#if __LARGE_CODE_MODEL__ &amp;&amp; !__LARGE_DATA_MODEL__
 unsigned char index = __data20_read_char(ld_addr++);
#else
 unsigned char index = *((unsigned char *)ld_addr++);
#endif
 handler_fptr hndl = (handler_fptr)(&amp;HANDLER_TABLE)[index];
 
#if __LARGE_CODE_MODEL__ &amp;&amp; !__LARGE_DATA_MODEL__
 (*hndl)(ld_addr, rn_addr); 
#else
 (*hndl)((const unsigned char *)ld_addr, (unsigned char *)rn_addr);
#endif
 }
#endif
 } 
}</code>
                                    </div>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0752992"><a name="8.9_Linker-Generated_CRC_Tables" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9 </span>Linker-Generated CRC Tables</h3>
                                <p>The linker supports an extension to the linker command file syntax that enables the verification of code or data by means of Cyclic Redundancy Code (CRC). The linker computes a CRC value for the specified region at link time, and stores that value in target memory such that it is accessible at boot or run time. The application code can then compute the CRC for that region and ensure that the value matches the linker-computed value. </p>
                                <p>The run-time-support library does not supply a routine to calculate CRC values at boot or run time<span>, however a limited reference implementation in C is provided in </span>.</p>
                                <p>Examples that perform cyclic redundancy checking using linker-generated CRC tables are provided in <a href="https://e2e.ti.com/blogs_/b/toolsinsider/archive/2017/02/27/from-the-experts-perform-cyclic-redundancy-checking-using-linker-generated-crc-tables" target="_blank">the Tools Insider blog in TI's E2E community</a>.</p>
                                <div class="subsection">
                                    <h4 id="STDZ0756966"><a name="8.9.1_The_crc_table()_Operator" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9.1 </span>The crc_table() Operator</h4>
                                    <p>For any section that should be verified with a CRC, the linker command file must be modified to include the crc_table() operator. The specification of a CRC algorithm is optional. The syntax is:</p>
                                    <p><b>crc_table(</b><i>user_specified_table_name</i>[<b>, algorithm=</b><i>xxx</i>]<b>)</b></p>
                                    <p>The linker uses the CRC algorithm from any specification given in a crc_table() operator. If that specification is omitted, the <span>CRC16 CRC-CCITT 11021 (also known as "1021")</span> algorithm is used. The linker includes CRC table information in the map file. This includes the CRC value as well as the algorithm used for the calculation.</p>
                                    <p>The CRC table generated for a particular crc_table() instance can be accessed through the table name provided as an argument to the crc_table() operator. The linker creates a symbol with this name and assigns the address of the CRC table as the value of the symbol. The CRC table can then be accessed from the application using the linker-generated symbol.</p>
                                    <p>The crc_table() operator can be applied to an output section, a GROUP, a GROUP member, a UNION, or a UNION member. If applied to a GROUP or UNION, the operator is applied to each member of the GROUP or UNION.</p>
                                    <p>You can include calls in your application to a routine that will verify CRC values for relevant sections. You must provide this routine. See below for more details on the data structures and suggested interface.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ075800"><a name="8.9.2_Restrictions" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9.2 </span>Restrictions</h4>
                                    <p>It is important to note that the CRC generator used by the linker is parameterized as described in the crc_tbl.h header file (see <span class="crossreference"><a href="#STDZ0751026" class="selected">Example 8-29</a></span>). Any CRC calculation routine employed outside of the linker must function in the same way to ensure matching CRC values. The linker cannot detect a mismatch in the parameters. To understand these parameters, see <i>A Painless Guide to CRC Error Detection Algorithms</i> by Ross Williams, which is likely located at <a href="http://www.ross.net/crc/download/crc_v3.txt" target="_blank">http://www.ross.net/crc/download/crc_v3.txt</a>. </p>
                                    <p>Only the CRC algorithm names and identifiers specified in crc_tbl.h are supported. All other names and ID values are reserved for future use. Your system may not include built-in hardware that computes all these CRC algorithms. Consult the documentation for your hardware for more detail. The following CRC algorithms are supported:</p>
                                    <ul>
                                        <li value="1">CRC8_PRIME </li>
                                        <li value="2">CRC16_ALT</li>
                                        <li value="3">CRC16_802_15_4</li>
                                        <li value="4">CRC_CCITT </li>
                                        <li value="5">CRC24_FLEXRAY </li>
                                        <li value="6">CRC32_PRIME</li>
                                        <li value="7">CRC32_C</li>
                                        <li value="8">CRC64_ISO </li>
                                    </ul>
                                    <p>Some MSP430 devices have a built-in hardware CRC calculator. The supported algorithms are described in the <i>CRC Implementation With MSP430</i> application report (<a href="http://www.ti.com/lit/pdf/slaa221" target="_blank">SLAA221</a>). The hardware-based CRC support provides efficient instructions for CRC calculation using these algorithms.</p>
                                    <p>There are also restrictions which will be enforced by the linker:</p>
                                    <ul>
                                        <li value="1">CRC can only be requested at final link time.</li>
                                        <li value="2">CRC can only be applied to initialized sections. </li>
                                        <li value="3">CRC can be requested for load addresses only.</li>
                                        <li value="4">Certain restrictions also apply to CRC table names.</li>
                                    </ul>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0754515"><a name="8.9.3_Examples" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9.3 </span>Examples</h4>
                                    <p>The crc_table() operator is similar in syntax to the table() operator used for copy tables. A few simple examples of linker command files follow.</p>
                                    <div class="example">
                                        <h4 id="STDZ0755678"><a name="Example_8-25_Using_crc_table()_Operator_to_Compute_the_CRC_Value_for_.text_Data" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-25 </span>Using crc_table() Operator to Compute the CRC Value for .text Data</h4><code>...
SECTIONS
{
 ...
 .section_to_be_verified: {a1.obj(.text)} crc_table(_my_crc_table_for_a1)
}
</code>
                                    </div>
                                    <p><span class="crossreference"><a href="#STDZ0755678" class="selected">Example 8-25</a></span> defines a section named “.section_to_be_verified”, which contains the .text data from the a1.obj file. The crc_table() operator requests that the linker compute the CRC value for the .text data and store that value in a table named “my_crc_table_for_a1”. This table will contain all the information needed to invoke a user-supplied CRC calculation routine, and verify that the CRC calculated at run time matches the linker-generated CRC. The table can be accessed from application code using the symbol my_crc_table_for_a1, which should be declared of type “extern CRC_TABLE”. This symbol will be defined by the linker. The application code might resemble the following.</p><code>#include "crc_tbl.h"extern CRC_TABLE my_crc_table_for_a1;

verify_a1_text_contents()
{
 ...
 /* Verify CRC value for .text sections of a1.obj. */
 if (my_check_CRC(&amp;my_crc_table_for_a1)) puts("OK");
}
</code>
                                    <p>The my_check_CRC() routine is discussed in detail in <span class="crossreference"><a href="#STDZ0752409" class="selected">Section 8.9.4</a></span>, <span class="crossreference"><a href="#STDZ0757089" class="selected">Example 8-30</a></span>.</p>
                                    <div class="example">
                                        <h4 id="STDZ0752930"><a name="Example_8-26_Specifying_an_Algorithm_in_the_crc_table()_Operator" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-26 </span>Specifying an Algorithm in the crc_table() Operator</h4><code>...
SECTIONS
{
 ...
 .section_to_be_verified_2: {b1.obj(.text)} load=SLOW_MEM, run=FAST_MEM, 
 crc_table(_my_crc_table_for_b1, algorithm=CRC_CCITT)

.TI.crctab: &gt; CRCMEM
}
...</code>
                                    </div>
                                    <p>In <span class="crossreference"><a href="#STDZ0752930" class="selected">Example 8-26</a></span>, the CRC algorithm is specified in the crc_table() operator. The specified algorithm is used to compute the CRC of the text data from b1.obj. The CRC tables generated by the linker are created in the special section .TI.crctab, which can be placed in the same manner as other sections. In this case, the CRC table _my_crc_table_for_b1 is created in section .TI.crctab:_my_crc_table_for_b1, and that section is placed in the CRCMEM memory region. </p>
                                    <div class="example">
                                        <h4 id="STDZ0755423"><a name="Example_8-27_Using_a_Single_Table_for_Multiple_Sections" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-27 </span>Using a Single Table for Multiple Sections</h4><code>...
SECTIONS
{
 .section_to_be_verified_1: {a1.obj(.text)} 
 crc_table(_my_crc_table_for_a1_and_c1)

 .section_to_be_verified_3: {c1.obj(.text)} 
 crc_table(_my_crc_table_for_a1_and_c1, algorithm=CRC_CCITT)
}
...</code>
                                    </div>
                                    <p>In <span class="crossreference"><a href="#STDZ0755423" class="selected">Example 8-27</a></span> the same identifier, _my_crc_table_for_a1_and_c1, is specified for both a1.obj and c1.obj. The linker creates a single table that contains entries for both text sections. <span>Multiple CRC algorithms can occur in a single table. In this case, _my_crc_table_for_a1_and_c1 contains an entry for the text data from a1.obj using the default CRC algorithm, and an entry for the text data from c1.obj using the CRC_CCITT algorithm. The order of the entries is unspecified.</span></p>
                                    <div class="example">
                                        <h4 id="STDZ0755898"><a name="Example_8-28_Applying_the_crc_table()_Operator_to_a_GROUP_or_UNION" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-28 </span>Applying the crc_table() Operator to a GROUP or UNION</h4><code>...
SECTIONS
{
 UNION
 {
 section1: {} crc_table(table1, algorithm=CRC_CCITT)
 section2:
 } crc_table(table2, algorithm=CRC32_ISO3309)
}</code>
                                    </div>
                                    <p>When the crc_table() operator is applied to a GROUP or a UNION, the linker applies the table specification to the members of the GROUP or UNION.</p>
                                    <p>In <span class="crossreference"><a href="#STDZ0755898" class="selected">Example 8-28</a></span> the linker creates two CRC tables, table1 and table2. table1 contains one entry for section1<span>, using algorithm CRC_CCITT</span>. Because both sections are members of the UNION, table2 contains entries for section1 and section2<span>, using algorithm CRC32_ISO3309</span>. The order of the entries in table2 is unspecified.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0752409"><a name="8.9.4_Interface" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9.4 </span>Interface</h4>
                                    <p>The CRC generation function uses a mechanism similar to the copy table functionality. Using the syntax shown above in the linker command file allows specification of code/data sections that have CRC values computed and stored in the run time image. This section describes the table data structures created by the linker, and how to access this information from application code. </p>
                                    <p>The CRC tables contain entries as detailed in the run-time-support header file crc_tbl.h, as illustrated in <span class="crossreference"><a href="#STDZ0759967" class="selected">Figure 8-7</a></span>. </p>
                                    <div class="figure"><span class="caption" id="STDZ0759967"><span class="figure-label">Figure 8-7 </span>CRC_TABLE Conceptual Model</span> <img alt="CRC_table_spru513.gif" itemprop="image" src="ods/images/SLAU131R/CRC_table_spru513.gif" title="CRC_TABLE Conceptual Model" /> </div>
                                    <p>The crc_tbl.h header file is included in <span class="crossreference"><a href="#STDZ0751026" class="selected">Example 8-29</a></span>. This file specifies the C structures created by the linker to manage CRC information. It also includes the specifications of the supported CRC algorithms. A full discussion of CRC algorithms is beyond the scope of this document, and the interested reader should consult the referenced document for a description of the fields shown in the table. The following fields are relevant to this document. </p>
                                    <ul>
                                        <li value="1">Name – text identifier of the algorithm, used by the programmer in the linker command file.</li>
                                        <li value="2">ID – the numeric identifier of the algorithm, stored by the linker in the crc_alg_ID member of each table entry.</li>
                                        <li value="3">Order – the number of bits used by the CRC calculation.</li>
                                        <li value="4">Polynomial – used by the CRC computation engine.</li>
                                        <li value="5">Initial Value – the initial value given to the CRC computation engine.</li>
                                    </ul>
                                    <div class="example">
                                        <h4 id="STDZ0751026"><a name="Example_8-29_The_CRC_Table_Header,_crc_tbl.h" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-29 </span>The CRC Table Header, crc_tbl.h </h4><code>/*****************************************************************************/
/* crc_tbl.h v##### */
/* Copyright (c) 2010@%%%% Texas Instruments Incorporated */
/* */
/* Specification of CRC table data structures which can be automatically */
/* generated by the linker (using the crc_table() operator in the linker */
/* command file). */
/*****************************************************************************/
/*****************************************************************************/
/* */
/* The CRC generator used by the linker is based on concepts from the */
/* document: */
/* "A Painless Guide to CRC Error Detection Algorithms" */
/* */
/* Author : Ross Williams (ross@guest.adelaide.edu.au.). */
/* Date : 3 June 1993. */
/* Status : Public domain (C code). */
/* */
/* Description : For more information on the Rocksoft^tm Model CRC */
/* Algorithm, see the document titled "A Painless Guide to CRC Error */
/* Detection Algorithms" by Ross Williams (ross@guest.adelaide.edu.au.). */
/* This document is likely to be in "ftp.adelaide.edu.au/pub/rocksoft" or */
/* at http:www.ross.net/crc/download/crc_v3.txt. */
/* */
/* Note: Rocksoft is a trademark of Rocksoft Pty Ltd, Adelaide, Australia. */
/*****************************************************************************/

#include &lt;stdint.h&gt; /* For uintXX_t */

/*****************************************************************************/
/* CRC Algorithm Specifiers */
/* */
/* The following specifications, based on the above cited document, are used */
/* by the linker to generate CRC values. */
/* */
/* */
/* ID Name Order Polynomial Initial Ref Ref CRC XOR Zero */
/* Value In Out Value Pad */
/*-------------------------------------------------------------------------- */
/* 0, "CRC32_PRIME", 32, 0x04c11db7, 0x00000000, 0, 0, 0x00000000, 1 */
/* 1, "CRC16_802_15_4", 16, 0x00001021, 0x00000000, 0, 0, 0x00000000, 1 */
/* 2, "CRC16_ALT", 16, 0x00008005, 0x00000000, 0, 0, 0x00000000, 1 */
/* 3, "CRC8_PRIME", 8, 0x00000007, 0x00000000, 0, 0, 0x00000000, 1 */
/* 11,"CRC32", 32, 0x1edc6f41, 0x00000000, 0, 0, 0x00000000, 1 */
/* */
/* Users should specify the name, such as CRC32_PRIME, in the linker command */
/* file. The resulting CRC_RECORD structure will contain the corresponding */
/* ID value in the crc_alg_ID field. The ID needs to match the enum value */
/* CRC_CONFIG_TYPE in crc.h, which is the index into the crc_configs_m table.*/
/*****************************************************************************/
#define CRC32_PRIME	 0	/* Poly = 0x04c11db7 */
#define CRC16_802_15_4	 1	/* Poly = 0x00001021 */ /* DEFAULT ALGORITHM */
#define CRC16_ALT	 2	/* Poly = 0x00008005 */
#define CRC8_PRIME	 3	/* Poly = 0x00000007 */
#define CRC32_C 11 /* Poly = 0x1edc6f41 */
#define CRC_CCITT CRC16_802_15_4
#define CRC32_ISO3309 CRC32_PRIME

/****************************************************************************/
/* CRC Record Data Structure */
/* NOTE: The list of fields and the size of each field varies by target */
/* and memory model. */
/****************************************************************************/
typedef struct crc_record
{
 uint32_t crc_value;
 uint16_t crc_alg_ID; /* CRC algorithm ID */
 uintptr_t addr; /* Starting address */
#if defined(__LARGE_CODE_MODEL__) || defined(__LARGE_DATA_MODEL__)
 uint32_t size; /* size of data in 8-bit addressable units */
#else
 uint16_t size; /* size of data in 8-bit addressable units */
#endif
} CRC_RECORD;

 
/**********************************************************/
/* CRC Table Data Structure */
/**********************************************************/
typedef struct crc_table
{
 uint16_t rec_size; /* 8-bit addressable units */
 uint16_t num_recs;
 CRC_RECORD recs[1];
} CRC_TABLE;
</code>
                                    </div>
                                    <p>In the CRC_TABLE struct, the array recs[1] is dynamically sized by the linker to accommodate the number of records contained in the table (num_recs). A user-supplied routine to verify CRC values should take a table name and check the CRC values for all entries in the table. An outline of such a routine is shown in <span class="crossreference"><a href="#STDZ0757089" class="selected">Example 8-30</a></span>.</p>
                                    <div class="example">
                                        <h4 id="STDZ0757089"><a name="Example_8-30_General_Purpose_CRC_Check_Routine" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-30 </span>General Purpose CRC Check Routine</h4><code>/**************************************************************/
/* General purpose CRC check routine. Given the address of a */
/* linker-generated CRC_TABLE data structure, verify the CRC */
/* of all object components that are designated with the */
/* corresponding LCF crc_table() operator. */
/**************************************************************/
#include &lt;crc_tbl.h&gt;/*********************************************************/
/* MY_CHECK_CRC() - returns 1 if CRCs match, 0 otherwise */
/*********************************************************/
unsigned int my_check_CRC(CRC_TABLE *tp)
{
 int i;

 for (i = 0; i &lt; tp-&gt; num_recs; i++)
 {
 CRC_RECORD crc_rec = tp-&gt;recs[i];
 
 /**************************************************/
 /* COMPUTE CRC OF DATA STARTING AT crc_rec.addr */
 /* FOR crc_rec.size UNITS. USE */
 /* crc_rec.crc_alg_ID to select algorithm. */
 /* COMPARE COMPUTED VALUE TO crc_rec.crc_value. */
 /**************************************************/
 }
 if all CRCs match, return 1;
 else return 0;
}
</code>
                                    </div>
                                </div>
                                <div class="subsection">
                                    <h4 id="SLAU1317135"><a name="8.9.5_Verification_of_Linker_Computed_CRC_on_MSP430" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.9.5 </span>Verification of Linker Computed CRC on MSP430</h4>
                                    <p>The software CRC implementation is described in the <i>CRC Implementation With MSP430</i> application report (<a href="http://www.ti.com/lit/pdf/slaa221" target="_blank">SLAA221</a>). It presents two algorithms, a bitwise method and a table method. These can be used to calculate the CRC for code or data memory for verification with the linker-generated CRC value. </p>
                                    <p>Some MSP430 devices have hardware modules for CRC. See the <i>Family User’s Guide</i> for your device family for a description of how to use such hardware CRC modules. Code examples are provided in MSP430Ware that use the hardware CRC module to verify data. Be sure to use the same bit order in the CRC calculations as the linker-generated CRC. The CRC16 module provides a bit-reversed register pair for CRC16 operations to support both conventions. See <span class="crossreference"><a href="crc-reference-implementation.html#SPRU5134721">Section A</a></span> for an example.</p>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0756731"><a name="8.10_Partial_(Incremental)_Linking" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.10 </span>Partial (Incremental) Linking</h3>
                                <p> An output file that has been linked can be linked again with additional modules. This is known as <i>partial linking</i> or <i>incremental linking</i>. Partial linking allows you to partition large applications, link each part separately, and then link all the parts together to create the final executable program.</p>
                                <p>Follow these guidelines for producing a file that you will relink:</p>
                                <ul>
                                    <li value="1">The intermediate files produced by the linker <i>must</i> have relocation information. Use the --relocatable option when you link the file the first time. (See <span class="crossreference"><a href="#STDZ0756429" class="selected">Section 8.4.3.2</a></span>.)</li>
                                    <li value="2">Intermediate files <i>must</i> have symbolic information. By default, the linker retains symbolic information in its output. Do not use the --no_sym_table option if you plan to relink a file, because --no_sym_table strips symbolic information from the output module. (See <span class="crossreference"><a href="#STDZ0757873" class="selected">Section 8.4.20</a></span>.)</li>
                                    <li value="3">Intermediate link operations should be concerned only with the formation of output sections and not with allocation. All allocation, binding, and MEMORY directives should be performed in the final link.</li>
                                    <li value="4">If the intermediate files have global symbols that have the same name as global symbols in other files and you want them to be treated as static (visible only within the intermediate file), you must link the files with the --make_static option (see <span class="crossreference"><a href="#STDZ0753045" class="selected">Section 8.4.15.1</a></span>).</li>
                                    <li value="5">If you are linking C code, do not use --ram_model or --rom_model until the final linker. Every time you invoke the linker with the --ram_model or --rom_model option, the linker attempts to create an entry point. (See <span class="crossreference"><a href="#STDZ0759821" class="selected">Section 8.4.23</a></span><span>, <span class="crossreference"><a href="program-loading-and-running.html#STDZ0756527">Section 3.3.2.1</a></span>, and <span class="crossreference"><a href="program-loading-and-running.html#STDZ0754023">Section 3.3.2.2</a></span></span>.)</li>
                                </ul>
                                <p>The following example shows how you can use partial linking:</p>
                                <div class="subsection">
                                    <table class="tabbedtext">
                                        <colgroup>
                                            <col />
                                            <col />
                                        </colgroup>
                                        <tbody>
                                            <tr valign="top">
                                                <td class="noBorderRight noBorderBottom" valign="top"> <b>Step 1:</b> <![CDATA[ ]]></td>
                                                <td class="noBorderRight noBorderBottom" valign="top">Link the file file1.com; use the --relocatable option to retain relocation information in the output file tempout1.out. <code><b>cl430 --run_linker --relocatable --output_file=tempout1 file1.com</b></code> file1.com contains: <code>SECTIONS<br />{<br />
   ss1: {<br />          f1.obj<br />          f2.obj<br />           .<br />           .<br />           .<br />          fn.obj<br />          }<br />}</code> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr valign="top">
                                                <td class="noBorderRight noBorderBottom" valign="top"> <b>Step 2:</b> <![CDATA[ ]]></td>
                                                <td class="noBorderRight noBorderBottom" valign="top">Link the file file2.com; use the --relocatable option to retain relocation information in the output file tempout2.out. <code><b>cl430 --run_linker --relocatable --output_file=tempout2 file2.com</b></code> file2.com contains: <code>SECTIONS<br />{<br />   ss2: {<br />          g1.obj<br />          g2.obj<br />           .<br />           .<br />           .<br />          gn.obj<br />          }<br />}</code> <![CDATA[ ]]></td>
                                            </tr>
                                            <tr valign="top">
                                                <td class="noBorderRight noBorderBottom" valign="top"> <b>Step 3:</b> <![CDATA[ ]]></td>
                                                <td class="noBorderRight noBorderBottom" valign="top">Link tempout1.out and tempout2.out. <code><b>cl430 --run_linker --map_file=final.map --output_file=final.out tempout1.out tempout2.out</b></code> <![CDATA[ ]]></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0755660"><a name="8.11_Linking_C_C++_Code" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11 </span>Linking C/C++ Code</h3>
                                <p> The C/C++ compiler produces assembly language source code that can be assembled and linked. For example, a C program consisting of modules prog1, prog2, etc., can be assembled and then linked to produce an executable file called prog.out:</p><code>cl430 --run_linker <b>--rom_model</b> --output_file prog.out prog1.obj prog2.obj ... rts430.lib</code>
                                <p>The --rom_model option tells the linker to use special conventions that are defined by the C/C++ environment.</p>
                                <p>The archive libraries shipped by TI contain C/C++ run-time-support functions.</p>
                                <p>C, C++, and mixed C and C++ programs can use the same run-time-support library. Run-time-support functions and variables that can be called and referenced from both C and C++ will have the same linkage.</p>
                                <p>For more information about the <span>MSP430</span> C/C++ language, including the run-time environment and run-time-support functions, see the <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i>.</p>
                                <div class="subsection">
                                    <h4 id="STDZ0752677"><a name="8.11.1_Run-Time_Initialization" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11.1 </span>Run-Time Initialization</h4>
                                    <p> All C/C++ programs must be linked with code to initialize and execute the program, called a <i>bootstrap</i> routine, also known as the <i>boot.obj</i> object module. The symbol _c_int00 is defined as the program entry point and is the start of the C boot routine in boot.obj; referencing _c_int00 ensures that boot.obj is automatically linked in from the run-time-support library. When a program begins running, it executes boot.obj first. The boot.obj symbol contains code and data for initializing the run-time environment and performs the following tasks:</p>
                                    <ul>
                                        <li value="1">Changes from system mode to user mode</li>
                                        <li value="2">Sets up the user mode stack</li>
                                        <li value="3">Processes the run-time <i>.cinit</i> initialization table and autoinitializes global variables (when the linker is invoked with the --rom_model option)</li>
                                        <li value="4">Calls main</li>
                                    </ul>
                                    <p>The run-time-support object libraries contain boot.obj. You can:</p>
                                    <ul>
                                        <li value="1">Use the archiver to extract boot.obj from the library and then link the module in directly.</li>
                                        <li value="2">Include the appropriate run-time-support library as an input file (the linker automatically extracts boot.obj when you use the --ram_model or --rom_model option).</li>
                                    </ul>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0756665"><a name="8.11.2_Object_Libraries_and_Run-Time_Support" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11.2 </span>Object Libraries and Run-Time Support</h4>
                                    <p> The <i><span>MSP430 Optimizing C/C++ Compiler User's Guide</span></i> describes additional run-time-support functions that are included in rts.src. If your program uses any of these functions, you must link the appropriate run-time-support library with your object files.</p>
                                    <p>You can also create your own object libraries and link them. The linker includes and links only those library members that resolve undefined references.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0752518"><a name="8.11.3_Setting_the_Size_of_the_Stack_and_Heap_Sections" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11.3 </span>Setting the Size of the Stack and Heap Sections</h4>
                                    <p> The C/C++ language uses <span>two</span> uninitialized sections called <span>.sysmem</span><span> and .stack</span> for the memory pool used by the malloc( ) functions and the run-time stacks, respectively. You can set the size of these by using the --heap_size<span> or --stack_size</span> option and specifying the size of the section as a 4-byte constant immediately after the option. If the options are not used, the default size of the heap is <span>128 bytes</span> and the default size of the stack is <span>128 bytes</span>.</p>
                                    <p>See <span class="crossreference"><a href="#STDZ0752477" class="selected">Section 8.4.12</a></span> for setting heap sizes<span> and</span><span class="crossreference"><a href="#STDZ0759685" class="selected">Section 8.4.27</a></span> for setting stack sizes.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="STDZ0756527B"><a name="8.11.4_Initializing_and_AutoInitialzing_Variables_at_Run_Time" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11.4 </span>Initializing and AutoInitialzing Variables at Run Time</h4>
                                    <p> Autoinitializing variables at run time is the default method of autoinitialization. To use this method, invoke the linker with the --rom_model option. See <span class="crossreference"><a href="program-loading-and-running.html#STDZ0756527">Section 3.3.2.1</a></span> for details.</p>
                                    <p> Initialization of variables at load time enhances performance by reducing boot time and by saving the memory used by the initialization tables. To use this method, invoke the linker with the --ram_model option. See <span class="crossreference"><a href="program-loading-and-running.html#STDZ0754023">Section 3.3.2.2</a></span> for details.</p>
                                    <p>See <span class="crossreference"><a href="program-loading-and-running.html#STDZ0751018">Section 3.3.2.3</a></span> for information about the steps that are performed when you invoke the linker with the --ram_model or --rom_model option.</p>
                                </div>
                                <div class="subsection">
                                    <h4 id="lit21672058"><a name="8.11.5_Initialization_of_Cinit_and_Watchdog_Timer_Hold" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.11.5 </span>Initialization of Cinit and Watchdog Timer Hold</h4>
                                    <p>You can use the --cinit_hold_wdt option to specify whether the watchdog timer should be held (on) or not held (off) during cinit auto-initialization. Setting this option causes an RTS auto-initialization routine to be linked in with the program to handle the desired watchdog timer behavior.</p>
                                </div>
                            </div>
                            <div class="subsection">
                                <h3 id="STDZ0759199"><a name="8.12_Linker_Example" data-mc-generated-bookmark="TOC"></a><span class="section-label">8.12 </span>Linker Example</h3>
                                <p> This example links three object files named <span>demo.obj, ctrl.obj, and tables.obj</span> and creates a program called demo.out.<span> The symbol SETUP is the program entry point.</span></p>
                                <p>Assume that target memory has the following program memory configuration:</p>
                                <div class="subsection">
                                    <table class="tabbedtext">
                                        <colgroup>
                                            <col />
                                            <col align="left" />
                                            <col align="left" />
                                            <col />
                                        </colgroup>
                                        <thead align="left">
                                            <tr>
                                                <th />
                                                <th>Address Range</th>
                                                <th>Contents</th>
                                                <th />
                                            </tr>
                                        </thead>
                                        <tbody align="left">
                                            <tr>
                                                <td />
                                                <td>0x0200 to 0x0A00</td>
                                                <td>RAM</td>
                                                <td />
                                            </tr>
                                            <tr>
                                                <td />
                                                <td>0x1100 to 0xFFF0</td>
                                                <td>FLASH</td>
                                                <td />
                                            </tr>
                                            <tr>
                                                <td />
                                                <td>0xFFE0 to 0xFFFF</td>
                                                <td>VECTORS</td>
                                                <td />
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="subsection">
                                </div>
                                <p>The output sections are constructed in the following manner:</p>
                                <ul>
                                    <li value="1">Executable code, contained in the .text sections of demo.obj, <span>fft.obj, and tables.obj, is</span> linked into program memory <span>ROM</span>. </li>
                                    <li value="2">Variables, contained in the var_defs section of demo.obj, are linked into data memory in block FAST_MEM_2.</li>
                                    <li value="3">Tables of coefficients in the .data sections of demo.obj, tables.obj, and fft.obj are linked into FAST_MEM_1. A hole is created with a length of 100 and a fill value of 0x07A1C.</li>
                                    <li value="4">The xy section form demo.obj, which contains buffers and variables, is linked by default into page 1 of the block STACK, since it is not explicitly linked.</li>
                                </ul>
                                <ul>
                                    <li value="1">Executable code, contained in the .text sections of demo.obj, ctrl.obj, and tables.obj, must be linked into FLASH.</li>
                                    <li value="2">A set of interrupt vectors, contained in the .intvecs section of tables.obj, must be linked at address 0xFFE0.</li>
                                    <li value="3">A table of coefficients, contained in the .data section of tables.obj, must be linked into FLASH. The remainder of block FLASH must be initialized to the value 0xFF00.</li>
                                    <li value="4">A set of variables, contained in the .bss section of ctrl.obj, must be linked into RAM and preinitialized to 0x0100.</li>
                                    <li value="5">Another .bss section in ctrl.obj must be linked into RAM.</li>
                                </ul>
                                <p><span class="crossreference"><a href="#STDZ0757354" class="selected">Example 8-31</a></span> shows the linker command file for this example. <span class="crossreference"><a href="#STDZ0753137" class="selected">Example 8-32</a></span> shows the map file. </p>
                                <div class="example">
                                    <h4 id="STDZ0757354"><a name="Example_8-31_Linker_Command_File,_demo.cmd" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-31 </span>Linker Command File, <span>demo.cmd</span></h4><code>/****************************************************************************/
/* Specify Linker Options */
/****************************************************************************/
--entry_point=SETUP /* Define the program entry point */
--output_file=demo.out /* Name the output file */
--map_file=demo.map /* Create an output map file */

/****************************************************************************/
/* Specify Input Files */
/****************************************************************************/
demo.obj
ctrl.obj
tables.obj

/****************************************************************************/
/* Specify System Memory Map */
/****************************************************************************/

MEMORY
{
 SFR(R) : origin = 0x0000, length = 0x0010
 PERIPHERALS_8BIT : origin = 0x0010, length = 0x00F0
 PERIPHERALS_16BIT: origin = 0x0100, length = 0x0100
 RAM(RW) : origin = 0x0200, length = 0x0800
 INFOA : origin = 0x1080, length = 0x0080
 INFOB : origin = 0x1000, length = 0x0080
 FLASH : origin = 0x1100, length = 0xEEE0
 VECTORS(R) : origin = 0xFFE0, length = 0x001E
 RESET : origin = 0xFFFE, length = 0x0002
}

/****************************************************************************/
/* Specify Output Sections */
/****************************************************************************/
SECTIONS
{
 .text : {} &gt; FLASH /* Link all .text section into flash */
 .intvecs : {} &gt; 0xFFE0 /* Link interrupt vectors. at 0xFFE0 */
 .data : /* Link .data sections */
 {
 tables.obj(.data)
 . = 0x400; /* Create hole at end of block */
 } &gt; FLASH, fill = 0xFF00 /* Fill and link into FLASH */

 ctrl_vars : /* Create new sections for ctrl variables */
 {
 ctrl.obj(.bss)

 } &gt; RAM, fill = 0x0100 /* Fill with 0x0100 and link into RAM */

 .bss : {} &gt; RAM /* Link remaining .bss sections into RAM */
}

/****************************************************************************/
/* End of Command File */
/****************************************************************************/</code>
                                </div>
                                <p>Invoke the linker by entering the following command:</p><code><b>cl430 --run_linker demo.cmd</b></code>
                                <p>This creates the map file shown in <span class="crossreference"><a href="#STDZ0753137" class="selected">Example 8-32</a></span> and an output file called demo.out that can be run on <span>an MSP430</span>. </p>
                                <div class="example">
                                    <h4 id="STDZ0753137"><a name="Example_8-32_Output_Map_File,_demo.map" data-mc-generated-bookmark="TOC"></a><span class="example-label">Example 8-32 </span>Output Map File, demo.map</h4><code>OUTPUT FILE NAME: &lt;demo.out&gt;ENTRY POINT SYMBOL: "SETUP" address: 000000d4

MEMORY CONFIGURATION

 name origin length attributes fill
 -------- -------- --------- ---------- --------
 P_MEM 00000000 000001000 RWIX
 D_MEM 00001000 000001000 RWIX
 EEPROM 08000000 000000400 RWIX

SECTION ALLOCATION MAP

 output attributes/
section page origin length input sections
-------- ---- ---------- ---------- ----------------
.text 0 00000020 00000138
 00000020 000000a0 ctrl.obj (.text)
 000000c0 00000000 tables.obj (.text)
 000000c0 00000098 demo.obj (.text)

.intvecs 0 00000000 00000020
 00000000 00000020 tables.obj (.intvecs)

.data 0 08000000 00000400
 08000000 00000168 tables.obj (.data)
 08000168 00000298 --HOLE-- [fill = ff00ff00]
 08000400 00000000 ctrl.obj (.data)
 08000400 00000000 demo.obj (.data)

ctrl_var 0 00001000 00000500
 00001000 00000500 ctrl.obj (.bss) [fill = 00000100]

.bss 0 00001500 00000100 UNINITIALIZED
 00001500 00000100 demo.obj (.bss)
 00001600 00000000 tables.obj (.bss)

GLOBAL SYMBOLS
address name address name
-------- ---- -------- ----
00001500 .bss 00000020 clear
08000000 .data 00000020 .text
00000020 .text 000000b8 set
000000d4 SETUP 000000c0 x42
00000020 clear 000000d4 SETUP
08000400 edata 00000158 etext
00001600 end 00001500 .bss
00000158 etext 00001600 end
000000b8 set 08000000 .data
000000c0 x42 08000400 edata

[10 symbols]  </code>
                                </div>
                            </div>
                        </div>
                    </div><a href="abstract.html">Back to Top</a>
                    <p /><a href="http://www.go-dsp.com/forms/techdoc/doc_feedback.htm?litnum=SLAU131R&amp;partnum=MSP430">Submit Documentation Feedback</a>
                    <p>Copyright© 2018, Texas Instruments Incorporated. An <a href="includes/important_notice.html">IMPORTANT NOTICE</a> for this document addresses availability, warranty, changes, use in safety-critical applications, intellectual property matters and other important disclaimers.</p>
                </div>
            </div>
        </div>
    </body>
</html>