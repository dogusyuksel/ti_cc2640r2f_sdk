<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:13.5pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
p.msochpdefault, li.msochpdefault, div.msochpdefault
	{mso-style-name:msochpdefault;
	margin-right:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<p><span style='font-family:"Calibri","sans-serif"'><img width=792 height=174
src="EnergyTrace%20User's%20Guide_files/energytrace_logo_slau157_default.png"
alt="Images/energytrace_logo_slau157_default.png"></span></p>

<h4><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>Introduction</span><span style='font-size:14.0pt;font-family:
"Calibri","sans-serif"'> </span></h4>

<p><span style='font-family:"Calibri","sans-serif"'>The <b>EnergyTrace™</b></span><span
style='font-family:"Calibri","sans-serif"'> <b>Technology</b> is an
energy-based code analysis tool set that is useful for measuring and viewing
the application’s energy profile and optimizing it for ultra-low power
consumption. </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>MSP430
devices with built-in <b>EnergyTrace+[CPU State]+[Peripheral States]</b> (or in
short <b>EnergyTrace++™</b>) support allow real-time monitoring of many
internal device states while normally executing user program code. </span><span
style='font-family:"Calibri","sans-serif"'>EnergyTrace++™ is supported on
selected MSP430 devices and debuggers.</span></p>

<p><span style='font-family:"Calibri","sans-serif"'>The <b>EnergyTrace</b> mode
(baring the “++”) is the base of <b>EnergyTrace™ Technology</b> and enables
analog energy measurement to determine the energy consumption of an
application, without the possibility to correlate it to internal device
information. The EnergyTrace mode is available for all MSP430 devices with
selected debuggers.</span></p>

<p><span style='font-family:"Calibri","sans-serif"'>Please refer to the <b>CCS
for MSP430 User‘s Guide</b> (</span><a
href="http://www.ti.com/general/docs/lit/getliterature.tsp?baseLiteratureNumber=slau157&amp;track=no"><span
style='font-family:"Calibri","sans-serif"'>SLAU157</span></a>)<span
style='font-family:"Calibri","sans-serif"'> for details.</span></p>

<h4><span style='font-family:"Calibri","sans-serif";background:white'>The
Energy Measurement</span><span style='font-family:"Calibri","sans-serif"'> </span></h4>

<p><span style='font-family:"Calibri","sans-serif";background:white'>Debuggers
with </span><span style='font-family:"Calibri","sans-serif"'>EnergyTrace™
Technology support include <span style='background:white'>a new and unique way
of continuously measuring the energy supplied to a target microcontroller which
differs considerably from the well-known method of amplifying and sampling the
voltage drop over a shunt resistor at discrete times. A software-controlled
dc-dc converter is used to generate the target power supply. The time density
of the dc-dc converter charge pulses equals the energy consumption of the
target microcontroller. A built-in on-the-fly calibration circuit defines the
energy equivalent of a single dc-dc charge pulse.</span> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
following figure shows the energy measurement principle. Periods with a small
number of charge pulses per time unit indicate low energy consumption and thus
low current flow, while periods with a high number of charge pulses per time
unit indicate high energy consumption and also a high current consumption. Each
charge pulse leads to a rise of the output voltage V<sub>OUT</sub>, which
results in an unavoidable voltage ripple common to all dc-dc converters. </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=775 height=128
src="EnergyTrace%20User's%20Guide_files/pulse_density_and_current_flow_slau157_default.png"
alt="Images/pulse_density_and_current_flow_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Pulse Density and Current Flow</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
benefit of sampling continuously is evident: even the shortest device activity
that consumes energy contributes to the overall recorded energy. No shunt-based
measurement system can achieve this. </span></p>

<h4><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>Code Composer Studio Integration</span><span
style='font-size:14.0pt;font-family:"Calibri","sans-serif"'> </span></h4>

<p><span style='font-family:"Calibri","sans-serif";background:white'>EnergyTrace™
Technology is available as part of Texas Instrument's Code Composer Studio for
MSP430 microcontrollers. During debugging of an application, additional windows
are available if the hardware supports EnergyTrace™ Technology.</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<h5><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>Enabling EnergyTrace™ Technology and Selecting the Default
Mode</span><span style='font-size:14.0pt;font-family:"Calibri","sans-serif"'> </span></h5>

<p><span style='font-family:"Calibri","sans-serif";background:white'>By
default, EnergyTrace™ Technology is disabled in the Code Composer Studio
Preferences.</span><span style='font-family:"Calibri","sans-serif"'> In order
to change it, go to Window </span><span style='font-family:Wingdings'>à</span><span
style='font-family:"Calibri","sans-serif"'> Preferences </span><span
style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
Code Composer Studio </span><span style='font-family:Wingdings'>à</span><span
style='font-family:"Calibri","sans-serif"'> Advanced Tools </span><span
style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
EnergyTrace™ Technology.</span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=478 height=387
src="EnergyTrace%20User's%20Guide_files/energytrace_preferences_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>EnergyTrace™ Technology Preferences</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>Two
capture modes are supported</span></p>

<p style='margin-left:.5in;text-indent:-.25in'><span style='font-family:Symbol'>·</span><span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:"Calibri","sans-serif";background:white'>the full-featured <b>EnergyTrace+[CPU
State]+[Peripheral States]</b> mode that delivers real-time device state
information together with energy measurement data </span></p>

<p style='margin-left:.5in;text-indent:-.25in'><span style='font-family:Symbol'>·</span><span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:"Calibri","sans-serif";background:white'>and the <b>EnergyTrace
</b>mode that only delivers<b> </b>energy measurement data</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>Use the
radio button to select the mode that will be enabled after a debug session has
been launched. If an MSP430 device does not support device state<b> </b>capturing,
the selection is ignored and Code Composer Studio will start in <b>EnergyTrace </b>mode.</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>While a
debug session is active, click the </span><span style='font-family:"Calibri","sans-serif";
background:white'><img border=0 width=16 height=16
src="EnergyTrace%20User's%20Guide_files/icon_switch_energy_states_slau157_default.png"
alt="Images/icon_switch_energy_states_slau157_default.png"></span><span
style='font-family:"Calibri","sans-serif";background:white'>&nbsp;icon in the <b>Profile</b>
window to switch between the modes.</span><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>To use the
<b>EnergyTrace+[CPU State]+[Peripheral States]</b> mode to capture real-time
device state information while an application is executing, the default Debug
Properties of the project need to be modified as well. Right click on the
active project in the Project Explorer and click on Properties. In the Debug
section, enable the &quot;<b>Enable Ultra Low Power debug / Debug LPMx.5</b>&quot;
option in the Low Power Mode Settings. If this option is not enabled, the <b>EnergyTrace+[CPU
State]+[Peripheral States]</b> mode will not be able to capture data from the
device.</span><span style='font-family:"Calibri","sans-serif"'> </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=288 height=628
src="EnergyTrace%20User's%20Guide_files/project_properties_slau157_default.png"
alt="Images/project_properties_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Project Properties</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=672 height=488
src="EnergyTrace%20User's%20Guide_files/debug_properties_slau157_default.png"
alt="Images/debug_properties_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Debug Properties</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p class=MsoNormal><b><span style='font-family:"Calibri","sans-serif"'>NOTE: </span></b></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>If the
EnergyTrace™ Technology windows are not opened on a debug start, check the
following items: </span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Does the hardware (debugger and device) support
     EnergyTrace™ Technology? You will find corresponding information in the
     device datasheet, the MSP430 Hardware Tools User’s Guide or the user guide
     that came with the evaluation board.</span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Is EnergyTrace™ Technology globally enabled in </span><span
     style='font-family:"Calibri","sans-serif"'>Window </span><span
     style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
     Preferences </span><span style='font-family:Wingdings'>à</span><span
     style='font-family:"Calibri","sans-serif"'> Code Composer Studio </span><span
     style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
     Advanced Tools </span><span style='font-family:Wingdings'>à</span><span
     style='font-family:"Calibri","sans-serif"'> EnergyTrace™ Technology<span
     style='background:white'>? </span></span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Is the &quot;Enable Ultra Low Power debug / Debug
     LPMx.5&quot; option enabled in Project </span><span style='font-family:
     Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'> <span
     style='background:white'>Properties </span></span><span style='font-family:
     Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'> <span
     style='background:white'>Debug </span></span><span style='font-family:
     Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'> <span
     style='background:white'>Low Power Mode Settings (required only when
     selecting EnergyTrace+[CPU State]+[Peripheral States] mode)? </span></span></li>
</ul>

<h5><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>Controlling EnergyTrace™</span><span style='font-size:14.0pt;
font-family:"Calibri","sans-serif"'> Technology</span></h5>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
EnergyTrace™ Technology can be controlled using the control bar icons in the <b>Profile</b>
window.</span><span style='font-family:"Calibri","sans-serif"'> </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=628 height=22
src="EnergyTrace%20User's%20Guide_files/energytrace_control_bar_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>EnergyTrace™ Technology Control Bar</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<table class=MsoNormalTable border=1 cellpadding=0 width="100%"
 style='width:100.0%'>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_enable_disable_slau157_default.png"
  alt="Images/icon_enable_disable_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Enable or disable EnergyTrace™ Technology. When disabled,
  icon turns gray.</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_capture_period_slau157_default.png"
  alt="Images/icon_capture_period_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Set capture period: 5 sec, 10 sec, 30 sec, 1 min or 5 min.
  Data collection stops after time has elapsed. However, the program continues to
  execute until the Pause button in the debug control window is clicked.</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_save_profile_slau157_default.png"
  alt="Images/icon_save_profile_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Save profile to project directory. When saving an
  EnergyTrace++ profile, the default filename will start with &quot;MSP430_D&quot;
  followed by a timestamp. When saving an EnergyTrace profile, the default
  filename will start with &quot;MSP430&quot; followed by a timestamp.</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_load_profile_slau157_default.png"
  alt="Images/icon_load_profile_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Load previously saved profile for comparison. </span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_restore_graphs_slau157_default.png"
  alt="Images/icon_restore_graphs_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Restore graphs or open Preferences window.</span></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif";
  background:white'><img border=0 width=16 height=16
  src="EnergyTrace%20User's%20Guide_files/icon_switch_energy_states_slau157_default.png"
  alt="Images/icon_switch_energy_states_slau157_default.png"></span></p>
  </td>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><span style='font-family:"Calibri","sans-serif";
  background:white'>Switch between <b>EnergyTrace</b> mode and <b>EnergyTrace++
  </b>mode</span></p>
  </td>
 </tr>
</table>

<h5><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>EnergyTrace++</span><span style='font-size:11.0pt;font-family:
"Calibri","sans-serif";background:white'> </span><span style='font-size:14.0pt;
font-family:"Calibri","sans-serif";background:white'>Mode</span><span
style='font-size:14.0pt;font-family:"Calibri","sans-serif"'> </span></h5>

<p><span style='font-family:"Calibri","sans-serif";background:white'>When
debugging devices with built-in EnergyTrace++ support, the <b>EnergyTrace++</b>
mode gives information about both energy consumption and the internal state of
the target microcontroller. The following windows are opened during the startup
of a debug session:</span><span style='font-family:"Calibri","sans-serif"'> </span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Profile </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>States </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Power </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Energy </span></li>
</ul>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=952 height=576
src="EnergyTrace%20User's%20Guide_files/debug_session_energytracepp_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Debug Session with EnergyTrace++ Graphs</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Profile</b>
window is the control interface for EnergyTrace++™. It can be used to set the
capturing time or to save the captured data for later reference. The <b>Profile</b>
window also displays a compressed view of the captured data and allows
comparison with previous data. </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=344 height=490
src="EnergyTrace%20User's%20Guide_files/energytracepp_profile_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Profile Window</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Profile</b>
window enables a quick overview of the resource usage of the profiled
application. The resources are split into three categories</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>CPU: Shows information about program execution</span></li>
 <ul style='margin-top:0in' type=circle>
  <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
      background:white'>Low Power Mode: Shows summary of low-power mode usage.
      Valid low power modes are LPM0, LPM1, LPM2, LPM3, LPM4, LPM3.5 and
      LPM4.5. If the low power mode cannot be properly determined, an
      &lt;Undetermined&gt; line will appear, indicating the time spent in that
      mode. </span></li>
  <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
      background:white'>Active Mode: Shows which functions have been executed
      during active mode. Functions in the run-time library are listed
      separately under the _RTS_ subcategory. If the device supports IP
      Encapsulation, a &lt;Protected&gt; line will appear, indicating the time
      executing out of IP encapsulated memory. </span></li>
 </ul>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Peripherals: Shows relative on time of the device
     peripherals </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>System Clocks: Shows relative on time of the system
     clocks </span></li>
</ul>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>States
</b>window shows the real-time trace of the target microcontroller's internal
states during the captured session. State information includes the Power Modes,
on and off state of peripheral modules and the state of the system clocks.</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
screenshot below shows a device wakeup from low power mode LPM2 to Active Mode,
with ADC and eUSCI_A0 being enabled during the active period. It can be clearly
seen that the device high-speed clocks MCLK and SMCLK, as well as the MODOSC
are only active during while the device is in active mode. The <b>States </b>window
allows a direct verification whether the application exhibits the expected
behavior, for example, that a peripheral is disabled after a certain activity.</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=336 height=603
src="EnergyTrace%20User's%20Guide_files/states_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>States Window</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Power
</b>window shows the dynamic power consumption of the target over time. The
current profile is plotted in light blue color, while a previously recorded
profile that has been reloaded for comparison is plotted in yellow color. </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=211
src="EnergyTrace%20User's%20Guide_files/power_window_slau157_default.png"
alt="Images/power_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Power Window</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Energy</b>
window shows the accumulated energy consumption of the target over time. The
current profile is plotted in light blue color, while a previously recorded
profile that has been reloaded for comparison is plotted in yellow color.</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=196
src="EnergyTrace%20User's%20Guide_files/energy_window_slau157_default.png"
alt="Images/energy_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Energy Window</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p class=MsoNormal><b><span style='font-family:"Calibri","sans-serif"'>NOTE: </span></b></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>During the
capture of the internal states, the target microcontroller is constantly
accessed via JTAG or Spy-bi-Wire debug logic. These debug accesses consume
energy; therefore, no absolute power numbers are shown on the Power and Energy
graph vertical axis. To see absolute power numbers of the application, it is
recommended to use the <b>EnergyTrace</b> mode in combination with the <b>Free
Run</b> option. In this mode, the debug logic of the target microcontroller is
not accessed while measuring energy consumption. </span></p>

<h5><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>EnergyTrace Mode</span><span style='font-size:14.0pt;
font-family:"Calibri","sans-serif"'> </span></h5>

<p><span style='font-family:"Calibri","sans-serif";background:white'>This mode
allows a standalone usage of the energy measurement feature with MSP430
microcontrollers that have no built-in EnergyTrace++ support. It can also be
used to verify the energy consumption of the application without debugger
activity. If the <b>EnergyTrace </b>mode is selected in the Preferences window,
the following windows open when a debug session starts:</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Profile </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Power </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Energy </span></li>
</ul>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=952 height=577
src="EnergyTrace%20User's%20Guide_files/debug_session_energytrace_slau157_default.png"
alt="debug_session_energytrace_slau157_default"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Debug Session with EnergyTrace Graphs</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>In the <b>EnergyTrace</b>
mode, the <b>Profile</b> window shows statistical data about the application
that has been profiled. The following parameters are shown:</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Captured time </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Total energy consumed by the application (in mJ) </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Minimum, mean, and maximum power (in mW) </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Mean voltage (in V) </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Minimum, mean, and maximum current (in mA) </span></li>
 <li class=MsoNormal><span style='font-family:"Calibri","sans-serif";
     background:white'>Estimated life time of a CR2032 battery (in days) for
     the captured energy profile </span></li>
</ul>

<p class=MsoNormal><b><span style='font-family:"Calibri","sans-serif"'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span style='font-family:"Calibri","sans-serif"'>NOTE: </span></b></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
formula to calculate the battery life time assumes an ideal 3V battery and does
not account for temperature, aging, peak current and other factors that could
negatively impact battery capacity. It should also be noted that when changing
the target voltage (for example, from 3.6 V to 3 V) analog circuitry might
behave differently and operate in a more or less efficient state, hence
reducing or increasing energy consumption. The displayed value shown in the
Profile window cannot substitute measurements on real hardware. </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=288 height=336
src="EnergyTrace%20User's%20Guide_files/energytrace_profile_slau157_default.png"
alt="energytrace_profile_slau157_default"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>EnergyTrace Profile Window</span></b><span style='font-family:
"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Power</b>
window shows the dynamic power consumption of the target over time. The current
profile is plotted in light blue color, while a previously recorded profile
that has been reloaded for comparison is plotted in yellow color. </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=225
src="EnergyTrace%20User's%20Guide_files/zoom_into_power_window_slau157_default.png"
alt="Images/zoom_into_power_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Zoom Into Power Window</span></b><span style='font-family:
"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The <b>Energy</b>
window shows the accumulated energy consumption of the target over time. The
current profile is plotted in light blue color, while a previously recorded profile
that has been reloaded for comparison is plotted in yellow color.</span><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=239
src="EnergyTrace%20User's%20Guide_files/zoom_into_energy_window_slau157_default.png"
alt="Images/zoom_into_energy_window_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Zoom Into Energy Window</span></b><span style='font-family:
"Calibri","sans-serif"'> </span></p>

<p class=MsoNormal><b><span style='font-family:"Calibri","sans-serif"'>NOTE: </span></b></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>During
program execution through the debugger's view <b>Resume</b> button, the target
microcontroller is constantly accessed via JTAG or Spy-bi-Wire protocol to
detect when a breakpoint has been hit. Inevitably these debug accesses consume
energy in the target domain and distort the result shown in both Energy and
Power graphs. To see the absolute power consumption of an application, it is
recommended to use the <b>Free Run</b> mode. In <b>Free Run</b> mode, the debug
logic of the target microcontroller is not accessed. Please refer to the
following figure to see the effect of energy consumption coming from debug
accesses. The yellow profile has been recorded in <b>Resume</b> mode, while the
green profile has been recorded in <b>Free Run</b> mode.</span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=314
src="EnergyTrace%20User's%20Guide_files/energy_profile_resume_free_run_slau157_default.png"
alt="Images/energy_profile_resume_free_run_slau157_default.png"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Energy Profile of the Same Program in Resume (Yellow Line)
and Free Run (Green Line)</span></b><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<h5><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>Comparing Captured Data with Reference Data</span><span
style='font-size:14.0pt;font-family:"Calibri","sans-serif"'> </span></h5>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The
EnergyTrace™ Technology can be used in various ways. One is to check the
device's internal states over time against the expected behavior and correct
any misbehavior; for example, due to a peripheral not being disabled after
periodic usage. Another way is to compare the captured data against previously
captured data. The previously captured data is called the <i>reference data</i>
in the following discussion.</span><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>After the
reference data has been loaded, a yellow reference graph is plotted in the
Power window. The Power window shows the power profiles of both data sets over
time and is useful to determine any changes in static power consumption; for
example, due to use of a deeper low power mode or disabling of unused
peripherals. It also shows how the dynamic power consumption has changed from
one measurement to the other; for example, due to ULP advisor hints being
implemented.</span><span style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>In the <b>EnergyTrace++
</b>mode, the condensed view of both captured and reference data is displayed
in the Profile window. Users can quickly see how the overall energy consumption
and use of power modes, peripherals, and clocks changed between both capture
sessions. In general, parameters that have become better are shown with a green
bar, and parameters that have become worse are shown with a red bar. For
example, time spent in active mode is generally seen as negative. Hence, if a
code change makes the application spend less time in active mode, the negative
delta is shown as a green bar, and the additional time spent in a low-power
mode is shown as a green bar.</span><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=768 height=492
src="EnergyTrace%20User's%20Guide_files/comparing_profiles_energytracepp_slau157_default.png"
alt="comparing_profiles_energytracepp_slau157_default"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Comparing Profiles in EnergyTrace++ Mode</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>In the <b>EnergyTrace</b>
mode, no States information is available to generate an exhaustive report.
However, the overall energy consumed during the measurement is compared, and
with it Min, Mean, and Max values of power and current. Parameters that have
become better are shown with a green bar, and parameters that have become worse
are shown with a red bar.</span><span style='font-family:"Calibri","sans-serif"'>
</span></p>

<p align=center style='text-align:center'><span style='font-family:"Calibri","sans-serif"'><img
border=0 width=576 height=312
src="EnergyTrace%20User's%20Guide_files/comparing_profiles_energytrace_slau157_default.png"
alt="comparing_profiles_energytrace_slau157_default"></span></p>

<p align=center style='text-align:center'><b><span style='font-family:"Calibri","sans-serif";
background:white'>Comparing Profiles in EnergyTrace Mode</span></b><span
style='font-family:"Calibri","sans-serif"'> </span></p>

<p><span style='font-family:"Calibri","sans-serif";background:white'>The delta
bars are drawn linearly, from 0% to 50%. Deltas larger than 50% do not result
in a larger delta bar.</span><span style='font-family:"Calibri","sans-serif"'> </span></p>

<h4><span style='font-size:14.0pt;font-family:"Calibri","sans-serif";
background:white'>EnergyTrace™ Technology FAQs</span><span style='font-size:
14.0pt;font-family:"Calibri","sans-serif"'> </span></h4>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: What
is the sampling frequency of EnergyTrace++?</span></i><span style='font-family:
"Calibri","sans-serif";background:white'> <br>
A: The sampling frequency depends on the debugger, the selected debug protocol
and its speed setting. It typically ranges from 1 kHz, e.g. when selecting
Spy-bi-Wire interface set to SLOW up to 5 kHz, e.g. when selecting JTAG
interface set to FAST. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: My
Power graph seems to include noise. Is my board defect?</span></i><span
style='font-family:"Calibri","sans-serif";background:white'> <br>
A: The power values shown in the Power graph are derived (i.e. calculated) from
the accumulated energy counted by the measurement system. When the target is
consuming little energy, there is a small number of energy packets over time
supplied to the target, and the software needs to accumulate the DCDC charge
pulses over time before a new current value can be calculated. For sub 1uA
currents this can take up to 1 second, while for currents in the mA range a
current can be calculated every millisecond. Additional filtering is not
applied in order to not lose detail information. Other factors that affect the
energy (and with it the current) consumed by the target is periodic background
debug access during normal code execution, either through capturing of States
information, or through breakpoint polling. Try recording in Free Run mode, and
you will see a much smoother Power graph. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: I
have a code that repeatedly calls functions that have the same size. I would
expect the function profile to show an equal distribution of the run time. In
reality, I see some functions having slightly more run time than expected, and
some functions slightly less.</span></i><span style='font-family:"Calibri","sans-serif";
background:white'> <br>
A: During program counter trace, various factors affect the number of times a
function is detected by the profiler over time. The microcontroller code could
benefit from the internal cache, thus executing some functions faster than
others. Another influencing factor is memory wait states and CPU pipeline
stalls, which add time variance into code execution. An outside factor is the
sampling frequency of the debugger itself, which normally runs asynchronous to
the microcontrollers code execution speed, but in some cases shows overlapping
behavior, also resulting in an unequal function run time distribution. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: My
power mode profile sometimes shows short periods of power modes that I haven't
used anywhere in my code, for example, I'm expecting a transition from active
mode to LPM3, but I see a LPM2 during the transition.</span></i><span
style='font-family:"Calibri","sans-serif";background:white'> <br>
A: When capturing in EnergyTrace++ mode, digital information is continuously
collected from the target device. One piece of this information is the power
mode control signals. Activation of low power modes requires stepping through a
number of intermediate states. Usually this happens too quick to be captured by
the trace function, but sometimes intermediate states can be captured and are
displayed for a short period of time as valid low power modes. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: My
profile sometimes includes an &lt;Undetermined&gt; low power mode, and there
are gaps in the States graph Power Mode section. Where does the
&lt;Undetermined&gt; low power mode originate from?</span></i><span
style='font-family:"Calibri","sans-serif";background:white'> <br>
A: During active mode to low power mode transition device-internal clocks will
be switched off, and occasionally the state information is not updated
completely. This state will be displayed as &lt;Undetermined&gt; in the Profile
window and the States graph will show a gap during the time the
&lt;Undetermined&gt; low power mode persists. The &lt;Undetermined&gt; state is
an indication that your application has entered a low power mode, which level
cannot be accurately determined. If your application is frequently entering low
power modes, the &lt;Undetermined&gt; state will probably be shown more often
than if your application only rarely uses low power modes. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: When
capturing in EnergyTrace mode the power and current min / max values shows
deviation, even though my program is the same. I would expect absolutely same
values.</span></i><span style='font-family:"Calibri","sans-serif";background:
white'> <br>
A: The energy measurement method used on the hardware counts dc-dc charge
pulses over time. Energy and power are calculated from the energy over time.
Due to statistical sampling effects and charge and discharge effects of the
output voltage buffer capacitors, it is possible that minimum and maximum
values of currents vary by some percent, even though the program is identical.
The captured energy however should be almost equal (in the given accuracy
range).</span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: What
are the influencing factors for the accuracy of the energy measurement?</span></i><span
style='font-family:"Calibri","sans-serif";background:white'> <br>
A: The energy measurement circuit is directly supplied from the USB bus
voltage, and thus sensitive to USB bus voltage variations. During calibration
the energy equivalent of a single dc-dc charge pulse is defined, and this
energy equivalent depends on the USB voltage level. In order to ensure a good
repeatability and accuracy, please power the debugger directly from an active
USB port, and avoid using bus-powered hubs and long USB cables that can lead to
voltage drops, especially when other consumers are connected to the USB hub.
Furthermore the LDO and resistors used for reference voltage generation and
those in the calibration circuit come with a certain tolerance and ppm rate
over temperature, which also influences accuracy of the energy measurement. </span></p>

<p><i><span style='font-family:"Calibri","sans-serif";background:white'>Q: I am
trying to capture in EnergyTrace++ or EnergyTrace mode with a MSP430 device
that is externally powered, but there is no data shown in the Profile, Energy,
Power and States window.<br>
</span></i><span style='font-family:"Calibri","sans-serif";background:white'>A:
Both EnergyTrace++ and EnergyTrace modes require the target to be supplied from
the debugger. No data will be captured when the target microcontroller is
externally powered.</span></p>

<p><i><span style='font-family:"Calibri","sans-serif"'>Q: I cannot measure LPM
currents when I am capturing in EnergyTrace++ mode. I am expecting a few uA,
but measure more than 150uA.<br>
</span></i><span style='font-family:"Calibri","sans-serif"'>A: Reading digital
data from the target microcontroller consumes energy in the JTAG domain of the
microcontroller. Hence, an average current of around 150uA will be measured
when connecting an ampere meter to the device power supply pins. If you want to
eliminate energy consumption through debug communication, switch to EnergyTrace
mode, and let the target microcontroller execute in Free Run mode.</span></p>

<p><i><span style='font-family:"Calibri","sans-serif"'>Q: My LPM currents seem
to be wrong. I am expecting a few uA, but measure more, even in Free Run mode,
or when letting the device execute without debug control from an independent
power supply.</span></i><span style='font-family:"Calibri","sans-serif"'><br>
A: Most likely this extra current will be caused by improper GPIO termination,
as floating pins can lead to extra current flow. Please also double-check the
JTAG pins, especially when having the debugger still connected (but idle), as
the debugger output signal levels in idle state might mismatch how the JTAG
pins have been configured by the application code. This could also lead to
extra current flow.</span></p>

<p><i><span style='font-family:"Calibri","sans-serif"'>Q: When I start the
EnergyTrace++ windows through View </span></i><i><span style='font-family:Wingdings'>à</span></i><i><span
style='font-family:"Calibri","sans-serif"'> Other </span></i><i><span
style='font-family:Wingdings'>à</span></i><i><span style='font-family:"Calibri","sans-serif"'>
MSP430-EnergyTrace before launching the debug session, data capture will
sometimes not start.</span></i><span style='font-family:"Calibri","sans-serif"'><br>
A: Please enable EnergyTrace++ through Window </span><span style='font-family:
Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
Preferences </span><span style='font-family:Wingdings'>à</span><span
style='font-family:"Calibri","sans-serif"'> Code Composer Studio </span><span
style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
Advanced Tools </span><span style='font-family:Wingdings'>à</span><span
style='font-family:"Calibri","sans-serif"'> EnergyTrace™ Technology. When
launching a debug session, the EnergyTrace++ windows will automatically open,
and data capture will start when letting the device execute. If you
accidentally close all EnergyTrace++ windows during a debug session, you can
reopen them through View </span><span style='font-family:Wingdings'>à</span><span
style='font-family:"Calibri","sans-serif"'> Other </span><span
style='font-family:Wingdings'>à</span><span style='font-family:"Calibri","sans-serif"'>
MSP430-EnergyTrace.</span></p>

</div>

</body>

</html>
