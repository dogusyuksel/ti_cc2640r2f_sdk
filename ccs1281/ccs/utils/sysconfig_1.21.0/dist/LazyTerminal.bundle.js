"use strict";(self.webpackChunksysconfig=self.webpackChunksysconfig||[]).push([[918],{97973:function(t,e,s){var n=this&&this.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]])}return s};const r=s(67294),o=s(12320),i=s(12617);s(77502);const a=s(99506);class c extends r.Component{constructor(t){super(t),this.setStatus=t=>this.setState({terminalProcessStatus:t}),this.state={terminalProcessStatus:!0}}render(){const t=this.props,{title:e,confirmAction:s,confirmText:o,process:i}=t,c=n(t,["title","confirmAction","confirmText","process"]);return r.createElement(a.ConfirmModal,Object.assign({},c,{title:e,confirmAction:s,disableConfirmButton:this.state.terminalProcessStatus,confirmText:o,type:"Terminal"}),r.createElement(l,{setStatus:this.setStatus,process:i}))}}class l extends r.Component{constructor(t){super(t),this.terminalStyle={height:"100%",width:"100%",padding:"1px"},this.parentContainerStyle={height:"40vh",width:"75vh"},this.fitAddon=new i.FitAddon}render(){return r.createElement("div",{style:this.parentContainerStyle},r.createElement("div",{id:"xterm",style:this.terminalStyle}))}componentDidMount(){const t=new o.Terminal({convertEol:!0});t.options.cursorBlink=!0,t.loadAddon(this.fitAddon),t.open(document.getElementById("xterm")),this.fitAddon.fit(),t.element.style.padding="5px",t.focus(),this.attachEventListeners(t),this.enableTerminalTyping(t)}componentWillUnmount(){this.fitAddon.dispose()}enableTerminalTyping(t){const e=this.props.process;t.onKey((t=>{e.stdin.write(t.key)}))}attachEventListeners(t){const e=this.props.process;e.stdout.on("data",(e=>{t.write(e)})),e.stdout.on("error",(e=>{t.write(e.message)})),e.stderr.on("data",(e=>{t.write(e)})),e.stderr.on("error",(e=>{t.write(e.message)})),e.on("exit",(()=>{t.write("\r\nPress Close to continue..."),this.props.setStatus(!1)}))}}t.exports=c}}]);
//# sourceMappingURL=LazyTerminal.bundle.js.map