"use strict";(this.webpackChunkti=this.webpackChunkti||[]).push([[918],{97973:function(t,e,n){var s=this&&this.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]])}return n};const r=n(67294),i=n(12320),o=n(12617);n(77502);const a=n(99506);class c extends r.Component{constructor(t){super(t),this.setStatus=t=>this.setState({terminalProcessStatus:t}),this.state={terminalProcessStatus:!0}}render(){const t=this.props,{title:e,confirmAction:n,confirmText:i,process:o}=t,c=s(t,["title","confirmAction","confirmText","process"]);return r.createElement(a.ConfirmModal,Object.assign({},c,{title:e,confirmAction:n,disableConfirmButton:this.state.terminalProcessStatus,confirmText:i,type:"Terminal"}),r.createElement(l,{setStatus:this.setStatus,process:o}))}}class l extends r.Component{constructor(t){super(t),this.terminalStyle={height:"100%",width:"100%",padding:"1px"},this.parentContainerStyle={height:"40vh",width:"75vh"},this.fitAddon=new o.FitAddon}render(){return r.createElement("div",{style:this.parentContainerStyle},r.createElement("div",{id:"xterm",style:this.terminalStyle}))}componentDidMount(){const t=new i.Terminal({convertEol:!0});t.options.cursorBlink=!0,t.loadAddon(this.fitAddon),t.open(document.getElementById("xterm")),this.fitAddon.fit(),t.element.style.padding="5px",t.focus(),this.attachEventListeners(t),this.enableTerminalTyping(t)}componentWillUnmount(){this.fitAddon.dispose()}enableTerminalTyping(t){const e=this.props.process;t.onKey((t=>{e.stdin.write(t.key)}))}attachEventListeners(t){const e=this.props.process;e.stdout.on("data",(e=>{t.write(e)})),e.stdout.on("error",(e=>{t.write(e.message)})),e.stderr.on("data",(e=>{t.write(e)})),e.stderr.on("error",(e=>{t.write(e.message)})),e.on("exit",(()=>{t.write("\r\nPress Close to continue..."),this.props.setStatus(!1)}))}}t.exports=c}}]);
//# sourceMappingURL=918.embed.js.map