(self.webpackChunkti_rex_core=self.webpackChunkti_rex_core||[]).push([[336],{74366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TestingHelpers:()=>Rt});var r={};n.r(r),n.d(r,{getFullRexCloudAgentModuleSpies:()=>de,getRexCloudAgentModuleSpies:()=>pe,installCloudAgent:()=>le,mockInstallWizard:()=>ce,uninstallCloudAgent:()=>fe});var o={};n.r(o),n.d(o,{createAppProps:()=>Ee});var i={};n.r(i),n.d(i,{PromiseReplacementTracker:()=>xe,getPromiseReplacement:()=>Le,restorePromise:()=>_e});var a={};n.r(a),n.d(a,{cleanupPromiseSyncronization:()=>Ge,getActivePromiseIndicies:()=>ze,setupPromiseSyncronization:()=>Ve,waitForPromisesToResolve:()=>Me,waitForPromisesToResolvePromise:()=>$e});var c={};n.r(c),n.d(c,{cleanupFakeServer:()=>Lt,getFakeServerRequests:()=>_t,setupFakeServer:()=>At});var s={};n.r(s),n.d(s,{updateUrlForTesting:()=>xt});var u={};n.r(u),n.d(u,{clearCaches:()=>Ut});var l=n(15270),f=n(96486),p=n(46234),d=n(34155);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===d?"undefined":h(d))&&d.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===h(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var b=[{name:"CC1310 Launchpad",id:"1"},{name:"MSP430F5969"},{},{name:"MSP-EXP432P401R LaunchPad rev 2.0",id:"2"}],g=b.length-1,m=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.detectedCount=g,this.listeners={attach:[],detach:[],progress:[]},Promise.resolve().then((function(){return new Promise((function(e,t){return n.options.attach&&setTimeout((function(){n.detectedCount++,n.fireEvent("attach")}),n.options.attach),n.options.detach&&setTimeout((function(){n.detectedCount--,n.fireEvent("detach")}),n.options.detach),e()}))})).catch((function(e){return console.error(e)}))}var t,n;return t=e,n=[{key:"filesNeeded",value:function(){return new Promise(function(e,t){return this.options.errorFilesNeeded?t(new Error("host communication error")):e(!!this.options.filesNeeded)}.$asyncbind(this))}},{key:"addListener",value:function(e,t){this.listeners[e]&&this.listeners[e].push(t)}},{key:"removeListener",value:function(e,t){this.listeners[e]&&f.pull(this.listeners[e],t)}},{key:"detectDebugProbes",value:function(){return new Promise(function(e,t){var n;if(this.options.errorDetectDebugProbes)return t(new Error("host communication error"));if(this.options.filesNeeded){function o(){return++n,i}function i(){return n<5?(this.fireEvent("progress",{name:"Additional files are needed",subActivity:"path/file".concat(n),percent:20*n}),(0,p.g)(this.options.filesNeeded).then(function(e){return o}.$asyncbind(this,t),t)):[1]}return n=0,Function.$asyncbind.trampoline(this,a,o,t,!0)(i);function a(){return this.fireEvent("progress",{name:"Additional files are needed",subActivity:"done",isComplete:!0,percent:100}),r.call(this)}}function r(){return e({probes:[{connectionXml:"probe0",id:0},{connectionXml:"probe1",id:1},{connectionXml:"probe2",id:2},{connectionXml:"probe3",id:3}].slice(0,this.detectedCount)})}return r.call(this)}.$asyncbind(this))}},{key:"detectDeviceWithProbe",value:function(e){return new Promise(function(t,n){return this.options.errorDetectDeviceWithProbe?n(new Error("host communication error")):t(b[e.id])}.$asyncbind(this))}},{key:"fireEvent",value:function(e,t){if(this.listeners[e]){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(this.listeners[e]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}}}}],n&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),w=n(81566),P=n(85672),T=n(86767),I=n(34155);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===I?"undefined":k(I))&&I.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===k(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.triggerEvent=t,this.logger=n,this.tasks={},this.progressIdCounter=new T.A,this.promises={},this.closed=!1}var t,n;return t=e,n=[{key:"close",value:function(){this.closed=!0}},{key:"getProgress",value:function(){return D({},this.tasks)}},{key:"clearTaskProgress",value:function(e){if(!this.tasks[e])throw new Error("Trying to update a non-existent progress");if(!this.tasks[e].isComplete)throw new Error("Trying to clear incomplete progress");delete this.tasks[e],delete this.promises[e],this.triggerEvent("OnProgressUpdated",this.getProgress())}},{key:"createProgressTask",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.progressIdCounter.setValue();var o=this.progressIdCounter.getValue().toString();this.tasks[o]=D(D({subActivity:""},e),{},{isFirstUpdate:!0,isComplete:!1,error:null,name:e.name?"".concat(t," - ").concat(e.name):t}),this.triggerEvent("OnProgressUpdated",this.getProgress()),this.logger.info("Registered task with progressId ".concat(o," and initialProgress ").concat(JSON.stringify(e)));var i=!1,a=function(e){if(i)throw new Error("Task already registered");return i=!0,n.promises[o]=e.then((function(){n.tasks[o]={progressType:"Indefinite",name:"".concat(t," - Success"),subActivity:"",isFirstUpdate:!1,isComplete:!0,error:null},n.triggerEvent("OnProgressUpdated",n.getProgress()),r||n.clearTaskProgress(o),n.logger.info("Successfully finished task with progressId ".concat(o))})).catch((function(e){n.tasks[o]={progressType:"Indefinite",name:"".concat(t," - Failure"),subActivity:"",isFirstUpdate:!1,isComplete:!0,error:"string"==typeof e?e:e.message},n.triggerEvent("OnProgressUpdated",n.getProgress()),n.logger.error("Error finishing task with progressId ".concat(o," and error ").concat(JSON.stringify(e)))})),o},c=function(e){if(n.closed)throw new Error("Task was cancelled");if(!n.tasks[o])throw new Error("Trying to update a non-existent progress");n.tasks[o].isComplete?n.logger.warning("Trying to update a complete progress, skipping..."):(n.logger.info("Got update ".concat(JSON.stringify(e))),n.tasks[o]=D(D({subActivity:""},e),{},{name:e.name?"".concat(t," - ").concat(e.name):t,isFirstUpdate:!1,isComplete:!1,error:null}),n.triggerEvent("OnProgressUpdated",n.getProgress()))};return{registerTask:a,onProgressUpdate:c}}},{key:"waitForTasks",value:function(){return new Promise(function(e,t){return e(Promise.all(f.values(this.promises)))}.$asyncbind(this))}}],n&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F=n(28455),C=n(42830);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var V=["emergency","alert","critical","error","warning","notice","info","debug","fine","finer","finest"],G=function(e){A(n,e);var t=_(n);function n(e,r){var o;return R(this,n),(o=t.call(this))._isOpen=!0,o._name=e,o._dinfraLogger=r,o._isOpen=!0,o.once("close",(function(){o._isOpen=!1})),V.map((function(e){o._createLogFunction(e)})),o}return M(n,[{key:"getName",value:function(){return this._name}},{key:"close",value:function(){this.push(null),this.emit("close")}},{key:"_read",value:function(){}},{key:"_createLogFunction",value:function(e){var t=this;this[e]=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t._isOpen&&(n+="\n",t._dinfraLogger[e]({name:t._name,message:n,tags:r}),n&&t.push(JSON.stringify({data:n,type:e,tags:r})))}}}]),n}(function(e){A(n,e);var t=_(n);function n(){var e;return R(this,n),(e=t.apply(this,arguments)).emergency=function(e){},e.alert=function(e){},e.critical=function(e){},e.error=function(e){},e.warning=function(e){},e.notice=function(e){},e.info=function(e){},e.debug=function(e){},e.fine=function(e){},e.finer=function(e){},e.finest=function(e){},e}return M(n)}(C.Readable)),z=n(64508);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=n(34155);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===X?"undefined":W(X))&&X.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===W(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var Q=function(){function e(t){var n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.emitter=new P.Z,this.progressManager=new S((function(e,t){r.emitter.emit(e,t)}),(n=J(J({},(0,w.Q8)(z.v,(function(){return function(){return{stamp:Date.now()}}}))),{},{setPriority:function(){return{stamp:Date.now()}}}),new G("MockLogger",n))),this.installedPackages=this.options.localPackages||[],this.installInfo=this.options.installInfo||[],this.emitter.on("OnInstallInfoUpdated",(function(e){r.installInfo=e})),this.emitter.on("OnInstalledPackagesUpdated",(function(t){r.installedPackages=e.sortInstalledPackages(t).map((function(e){return K(K({},e),{},{isInstallable:!0})}))}))}var t,n,r;return t=e,n=[{key:"init",value:function(){return new Promise((function(e,t){return e()}))}},{key:"getCCSEclipseInitValues",value:function(){return new Promise((function(e,t){return e({ccsPort:0,httpProxy:"",httpsProxy:""})}))}},{key:"addListener",value:function(e,t){this.emitter.on(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.off(e,t)}},{key:"getPackageInstallInfo",value:function(){return new Promise(function(e,t){return this.handleEvent("OnInstallInfoUpdated"),e(this.installInfo)}.$asyncbind(this))}},{key:"getInstalledPackages",value:function(){return new Promise(function(t,n){return this.handleEvent("OnInstalledPackagesUpdated"),t(e.sortInstalledPackages(this.installedPackages).map((function(e){return K(K({},e),{},{isInstallable:!0})})))}.$asyncbind(this))}},{key:"getAgentMode",value:function(){return new Promise(function(e,t){return e(this.options.agentMode||"desktop")}.$asyncbind(this))}},{key:"getProgress",value:function(){return new Promise(function(e,t){return e(this.progressManager.getProgress())}.$asyncbind(this))}},{key:"getVersion",value:function(){return new Promise((function(e,t){return e("4.8.0")}))}},{key:"clearTaskProgress",value:function(e){return new Promise(function(t,n){return t(this.progressManager.clearTaskProgress(e))}.$asyncbind(this))}},{key:"installPackage",value:function(t,n){return new Promise(function(r,o){var i=this;return r((0,this.progressManager.createProgressTask({progressType:"Indefinite"},"Installing ".concat(t.packagePublicUid)).registerTask)((0,p.g)(e.DELAY).then((function(){var e=i.installedPackages.concat((0,F.Fr)(t,n));i.emitter.emit("OnInstalledPackagesUpdated",e)}))))}.$asyncbind(this))}},{key:"uninstallPackage",value:function(t){return new Promise(function(n,r){var o=this;return n((0,this.progressManager.createProgressTask({progressType:"Indefinite"},"Removing ".concat(t.packagePublicUid)).registerTask)((0,p.g)(e.DELAY).then((function(){var e=o.installedPackages.filter((function(e){return e.packagePublicId===t.packagePublicUid}));o.emitter.emit("OnInstalledPackagesUpdated",e)}))))}.$asyncbind(this))}},{key:"importProject",value:function(t,n){return new Promise((function(t,n){return(0,p.g)(e.DELAY).then(function(e){return t()}.$asyncbind(this,n),n)}))}},{key:"openExternally",value:function(t){return new Promise((function(t,n){return(0,p.g)(e.DELAY).then(function(e){return t()}.$asyncbind(this,n),n)}))}},{key:"onProductsChanged",value:function(){return new Promise((function(e,t){return e()}))}},{key:"getBoardAndDeviceInfo",value:function(){return new Promise((function(e,t){return e({devices:[],boards:[]})}))}},{key:"getInstallInfoForPackageDependencies",value:function(e,t){return new Promise((function(e,t){return e([])}))}},{key:"getInstallInfoForPackages",value:function(e){return new Promise((function(e,t){return e([])}))}},{key:"_addProgressTask",value:function(){return new Promise(function(e,t){return e(this.progressManager.createProgressTask({progressType:"Indefinite"},"Test progress").registerTask)}.$asyncbind(this))}},{key:"handleEvent",value:function(e){var t=this,n=this.options.tirexTriggerEvents&&this.options.tirexTriggerEvents[e];if(n){var r=n.data,o=n.delay;setTimeout((function(){t.emitter.emit(e,r)}),o)}}}],r=[{key:"sortInstalledPackages",value:function(e){return(0,w.FT)(e,"packagePublicId","packageVersion")}}],n&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Q.DELAY=2e3;var ee,te=n(59945),ne=n(34155);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===ne?"undefined":re(ne))&&ne.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===re(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var ce={title:"TI Cloud Agent Setup",detailsLink:{text:"What's this?",url:"http://processors.wiki.ti.com/index.php/TI_Cloud_Agent#What_is_it.3F"},helpLink:{text:"Help. I already did this",url:"http://processors.wiki.ti.com/index.php/TI_Cloud_Agent#Troubleshooting"},finishStep:{description:"Refresh the current browser page",action:{text:"$Refresh$ Page",handler:function(){}}},initialMessage:{description:"Install TI Cloud Agent to enable flashing.",action:{text:"Install TI Cloud Agent to enable flashing."}},description:"Hardware interaction requires additional one time set up. Please perform the actions listed below and try your operation again.",steps:[{description:"Install the TI Cloud Agent browser extension.",action:{text:"$Install$ browser extension",handler:function(){}}},{description:"Download and install the TI Cloud Agent host application.",action:{text:"$Download$ and install the TI Cloud Agent Application",handler:function(){}}}]},se=function(){function e(t){oe(this,e),this.options=t,this.subModules={}}return ae(e,[{key:"getSubModule",value:function(e){return new Promise(function(t,n){if(this.options.errorGetSubModule)return n(new Error("host communication error"));var r,o;if("DeviceDetector"===e)r=this.subModules[e]||new m(this.options);else{if("Tirex"!==e)return n(new Error("Unknown Module"));r=this.subModules[e]||new Q(this.options)}return!this.subModules[e]&&r instanceof Q&&(o=r,ee={init:l.rV(o,"init"),getCCSEclipseInitValues:l.rV(o,"getCCSEclipseInitValues"),addListener:l.rV(o,"addListener"),removeListener:l.rV(o,"removeListener"),getPackageInstallInfo:l.rV(o,"getPackageInstallInfo"),getInstalledPackages:l.rV(o,"getInstalledPackages"),getAgentMode:l.rV(o,"getAgentMode"),getProgress:l.rV(o,"getProgress"),getVersion:l.rV(o,"getVersion"),clearTaskProgress:l.rV(o,"clearTaskProgress"),installPackage:l.rV(o,"installPackage"),uninstallPackage:l.rV(o,"uninstallPackage"),importProject:l.rV(o,"importProject"),openExternally:l.rV(o,"openExternally"),onProductsChanged:l.rV(o,"onProductsChanged"),getBoardAndDeviceInfo:l.rV(o,"getBoardAndDeviceInfo"),getInstallInfoForPackageDependencies:l.rV(o,"getInstallInfoForPackageDependencies"),getInstallInfoForPackages:l.rV(o,"getInstallInfoForPackages"),_addProgressTask:l.rV(o,"_addProgressTask")}),this.subModules[e]=this.subModules[e]||r,t(r)}.$asyncbind(this))}}]),e}(),ue=function(){function e(t){oe(this,e),this.options=t,this.Install={getInstallWizard:function(){return new Promise((function(e,t){return e(ce)}))}},this.agent=null}return ae(e,[{key:"Init",value:function(){return new Promise(function(e,t){return this.options.agentNotInstalled?t(new Error("agent not installed")):(this.agent=this.agent||new se(this.options),this.agent?e(this.agent):t(new Error("Agent is null")))}.$asyncbind(this))}}]),e}();function le(e){var t=new ue(e);return(0,te.L6)()?window.TICloudAgent=t:n.g.TICloudAgent=t,t}function fe(){(0,te.L6)()?delete window.TICloudAgent:delete n.g.TICloudAgent,(0,te.Nf)()}function pe(){if(!ee)throw new Error("Tried to call getRexCloudAgentModuleSpies before submodule was created");return(0,w.cL)((0,w.Zt)(ee).map((function(e){var t=ee[e];return{key:e,value:{callCount:t.callCount,args:t.args}}})))}function de(){if(!ee)throw new Error("Tried to call getRexCloudAgentModuleSpies before submodule was created");return ee}var he=n(67294),ye=n(47591),ve=n(1677),be=n(68911),ge=n(74757),me=n(54855),we=n(63635),Pe=n(68827),Te=n(34155);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===Te?"undefined":Ie(Te))&&Te.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===Ie(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var Oe={length:0,action:"PUSH",location:{pathname:"",search:"",state:"",hash:""},push:function(){},replace:function(){},go:function(){},goBack:function(){},goForward:function(){},block:function(){return function(){}},listen:function(){return function(){}},createHref:function(){return""}};function Ee(e){return new Promise((function(t,n){var r,o,i,a,c;return r=e.page,o=e.urlQuery,i=new ye.M,a={apis:i,autoDetect:new ge.X,history:je({},Oe),localApis:new we.d({current:null}),mountComponentTemporarily:new Pe.W,nodesState:new be.J,page:r,tourState:new me.V,urlQuery:o,errorCallback:he.useRef(null)},(0,ve.W5)(a).then(function(e){return(c=e)?t((0,ve.zs)(a,c)):n(new Error("state expected"))}.$asyncbind(this,n),n)}))}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ne=Promise,Ae=Promise.name;function Le(e){if(Promise.name!==Ae)throw new Error("global Promise was not restored, got ".concat(Promise.name," as the name but wanted ").concat(Ae));return Ne=Promise,function(){function t(n){Se(this,t);var r=e.getPromiseIndex(),o=!1,i=function(){o||(e.deregisterPromise(r),o=!0)};this.promise=new Ne((function(t,o){e.registerPromise(r);try{return n((function(e){i(),t(e)}),(function(e){i(),o(e)}))}catch(e){throw i(),e}}))}return Ce(t,[{key:"then",value:function(e,t){return this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise.catch(e)}}],[{key:"resolve",value:function(e){return Ne.resolve(e)}},{key:"reject",value:function(e){return Ne.reject(e)}},{key:"all",value:function(e){return Ne.all(e)}},{key:"race",value:function(e){return Ne.race(e)}}]),t}()}function _e(){Ue(),Promise=Ne}var xe=function(){function e(){Se(this,e),this.activePromises={},this.emitter=new P.Z,this.pendingCount=0,this.promiseIndex=new T.A}return Ce(e,[{key:"getActivePromises",value:function(){return this.activePromises}},{key:"getPromiseIndex",value:function(){var e=this.promiseIndex.getValue();return this.promiseIndex.setValue(),e}},{key:"registerPromise",value:function(e){this.activePromises[e]=function(){var e;try{throw new Error("")}catch(t){e=t.stack||""}var t=e.split("\n").map((function(e){return e.trim()}));return t.slice("Error"===t[0]?1:0)}(),this.pendingCount++}},{key:"deregisterPromise",value:function(e){delete this.activePromises[e],this.pendingCount--,0===this.pendingCount&&this.emitter.emit("onClear")}},{key:"onClear",value:function(){var e=this;return Ue(),0===this.pendingCount?Ne.resolve():new Ne((function(t){e.emitter.once("onClear",(function(){t()}))}))}}]),e}();function Ue(){if(Ne.name!==Ae)throw new Error("OriginalPromise is not the native Promise got ".concat(Ne.name," as the name but wanted ").concat(Ae))}var Re=null;function $e(e){return new Promise((function(t,n){Me(e,(function(e){e?n(e):t()}))}))}function Me(e,t){try{if(!Re)throw new Error("No tracker");!function(){if(!Re)throw new Error("No tracker");if((0,te.L6)()){var e=Re.getActivePromises(),t=Object.keys(e),n=t.length;if(0!==n){for(var r="".concat(n," active ").concat(n>1?"promises":"promise",":\n"),o=0,i=t;o<i.length;o++){var a=i[o],c=e[a].map((function(e){return"\t".concat(e)})).join("\n");r+="Promise ".concat(a,":\n").concat(c,"\n")}console.log(r)}else console.log("No active promises.")}}();var n=setInterval((function(){if(Re){if(f.isEmpty(f.intersection(Object.keys(Re.getActivePromises()),e)))clearInterval(n),t();else if((0,te.L6)()){var r=f.intersection(Object.keys(Re.getActivePromises()),e);console.log("active ",r)}}else t(new Error("No tracker"))}),100)}catch(e){setImmediate(t,e)}}function Ve(){if(Re)throw new Error("Tracker not cleared before calling setup");Re=new xe,Promise=Le(Re)}function Ge(){Re=null,_e()}function ze(){if(!Re)throw new Error("No tracker");return Object.keys(Re.getActivePromises())}var He,Je=n(14779),Be=n(17563),Xe=n(21743),We=n(64195),qe=n(6687),Ke=["icon"],Ye=["icon"];function Ze(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ot(e){var t,n,r,o,i,a=e.inputType===He.InputType.FILTER_DATA_ONLY?{}:e.hierarchy,c=e.inputType===He.InputType.TABLE_ITEM_DATA?e.tableItemHierarchy:{},s=e.inputType===He.InputType.FILTER_DATA_ONLY?"0":e.rootNode,u=e.inputType===He.InputType.FILTER_DATA_ONLY?s:e.softwareNodePublicId||s;if(e.inputType===He.InputType.NODE_DATA||e.inputType===He.InputType.TABLE_ITEM_DATA){var l=function(e){var t=e.nodeData,n=e.rootNode,r=e.hierarchy,o=Object.keys(t).map((function(o){var i=t[o],a=i.name,c=i.nodePublicId,s=i.descriptor,u=s.icon,l=rt(s,Ke),f=i.contentType,p=i.packagePublicUid,d=i.packageGroupPublicUid,h=i.filterData,y=it(o,r,n);if(!y)throw new Error("Cannot get path for node id ".concat(o));y.shift();var v,b={nodeDbId:o,nodePublicId:c,name:a,descriptor:tt(tt({},l),{},{icon:u||"Folder",hasChildren:!!e.hierarchy[o]&&e.hierarchy[o].length>0}),contentType:f,packagePublicUid:p,packageGroupPublicUid:d},g={nodeDbId:o,nodeDbIdPath:y},m={nodeDbId:o,filterData:h};if(i.nodeType===qe.U.NodeType.FOLDER_NODE){var w=i.overview,P=qe.U.NodeType.FOLDER_NODE;v={node:tt(tt({},b),{},{nodeType:P}),nodeDataExtended:tt(tt({},g),{},{nodeType:P,overview:w}),nodeFilterData:tt(tt({},m),{},{nodeType:i.nodeType})}}else if(i.nodeType===qe.U.NodeType.FOLDER_WITH_HIDDEN_RESOURCE_NODE){var T=i.overview,I=qe.U.NodeType.FOLDER_WITH_HIDDEN_RESOURCE_NODE;v={node:tt(tt({},b),{},{nodeType:I}),nodeDataExtended:tt(tt({},g),{},{nodeType:I,overview:T}),nodeFilterData:tt(tt({},m),{},{nodeType:I})}}else if(i.nodeType===qe.U.NodeType.LEAF_NODE){var k=i.description,j=i.link,D=qe.U.NodeType.LEAF_NODE;u||(b.descriptor.icon="File"),v={node:tt(tt({},b),{},{nodeType:D}),nodeDataExtended:tt(tt({},g),{},{nodeType:D,description:k,link:j,linkType:"Internal"}),nodeFilterData:tt(tt({},m),{},{nodeType:D})}}else{if(i.nodeType!==qe.U.NodeType.PACKAGE_FOLDER_NODE)throw new Error("Unknown node type for node ".concat(i));var O=i.packagePublicUid,E=i.overview,S=qe.U.NodeType.PACKAGE_FOLDER_NODE;u||(b.descriptor.icon="Package"),v={node:tt(tt({},b),{},{nodeType:S,packagePublicUid:O}),nodeDataExtended:tt(tt({},g),{},{nodeType:S,overview:E}),nodeFilterData:tt(tt({},m),{},{nodeType:S})}}return v})).reduce((function(e,t){var n=t.node,r=t.nodeDataExtended,o=t.nodeFilterData;return e.nodeData[n.nodeDbId]=n,e.nodeDataExtended[n.nodeDbId]=r,e.nodeFilterData[n.nodeDbId]=o,e}),{nodeData:{},nodeDataExtended:{},nodeFilterData:{}});return o.nodeData[n]={nodeDbId:n,nodePublicId:"public"+n,descriptor:{hasChildren:!!e.hierarchy[n]&&e.hierarchy[n].length>0,icon:"Folder",isDownloadable:!1},nodeType:qe.U.NodeType.FOLDER_NODE,name:"root",contentType:"Other",packagePublicUid:null,packageGroupPublicUid:null},o.nodeDataExtended[n]={nodeDbId:n,nodeDbIdPath:[n],nodeType:qe.U.NodeType.FOLDER_NODE},o.nodeFilterData[n]={nodeDbId:n,nodeType:qe.U.NodeType.FOLDER_NODE,filterData:{filterPackageGroup:[]}},o}(e);t=l.nodeData,n=l.nodeDataExtended,r=l.nodeFilterData}else t={},n={},r={};if(e.inputType===He.InputType.TABLE_ITEM_DATA){var p=function(e){var t=e.tableItemData,n=Object.keys(t).map((function(n){var r=t[n],o=r.name,i=r.tableItemNodeDbId,a=r.descriptor,c=a.icon,s=rt(a,Ye),u=r.filterData,l=r.variants,f=r.resourceSubClass,p=void 0===f?"example.general":f,d=r.packageName,h=void 0===d?"Placeholder package name":d,y={};return l.forEach((function(e){var t=e.variant,n=e.nodeDbId;y[(0,te.qd)(t)]=n})),{tableItemData:{tableItemDbId:n,name:o,descriptor:tt(tt({},s),{},{icon:c||"Folder",hasChildren:!!e.tableItemHierarchy[n]&&e.tableItemHierarchy[n].length>0}),categoryContext:"",resourceSubClass:p,packageName:h,variants:l.map((function(e){return e.variant}))},tableItemFilterData:{tableItemDbId:n,tableItemNodeDbId:i,filterData:u,variants:y}}})).reduce((function(e,t){var n=t.tableItemData,r=t.tableItemFilterData;return e.tableItemData[n.tableItemDbId]=n,e.tableItemFilterData[n.tableItemDbId]=r,e}),{tableItemData:{},tableItemFilterData:{}});return n}(e);o=p.tableItemData,i=p.tableItemFilterData}else o={},i={};var d,h={compilers:e.filterData?e.filterData.compilers:[],devices:e.filterData?e.filterData.devices:[],devtools:e.filterData?e.filterData.devtools:[],ides:e.filterData?e.filterData.ides:[],kernels:e.filterData?e.filterData.kernels:[],resourceClasses:e.filterData?e.filterData.resourceClasses:[],languages:e.filterData?e.filterData.languages:[],packageGroups:e.filterData?f.chain(e.filterData.packages).map((function(e){return e.packageGroupPublicUids.map((function(e){return{publicId:e,name:"Group name placeholder"}}))})).flatten().uniqBy("publicId").value():[]},y=function(e){return(0,w.FT)(e,"packagePublicId","packageVersion")}(e.filterData?e.filterData.packages:[]),v=(d=e.filterData&&e.filterData.packageGroups?e.filterData.packageGroups:function(e){var t={};e.forEach((function(e){e.packageGroupPublicUids.forEach((function(n){var r;t[n]=[].concat(function(e){if(Array.isArray(e))return Qe(e)}(r=t[n]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Ze(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.packagePublicUid])}))}));var n=1,r=1;return Object.entries(t).map((function(t){var o,i,a=(i=2,function(e){if(Array.isArray(e))return e}(o=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(o,i)||Ze(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1],u=e.find((function(e){return s.includes(e.packagePublicUid)&&"MainPackage"===e.packageType}));if(!u)throw new Error("No main package for group");return{packageGroupVersion:(n++).toString(),packageGroupPublicId:(r++).toString(),packageGroupPublicUid:c,packagesPublicUids:s,mainPackagePublicUid:u.packagePublicUid,hideByDefault:!1,packagesToListVersionsFrom:[]}}))}(y),(0,w.FT)(d,"packageGroupPublicId","packageGroupVersion"));return{filterData:h,packages:y,packageGroups:v,rootNode:s,softwareNodePublicId:u,hierarchy:a,nodeData:t,nodeDataExtended:n,nodeFilterData:r,sessionId:"testSessionId",rex3Links:e.rex3Links||{},tableItemData:o,tableItemFilterData:i,tableItemHierarchy:c}}function it(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e===n)return r.concat(e);var o=t[n],i=!!o&&o.map((function(o){return it(e,t,o,r.concat(n))})).filter((function(e){return!!e}));return!!i&&1===i.length&&i[0]}function at(e,t){e instanceof Xe.F7?t.respond(parseInt(e.statusCode),{},ut(e)):t.respond(500,{},ut(e))}function ct(e){var t={filterPackageGroup:[]};return(0,w.Zt)(e).map((function(n){switch(n){case"filterSearch":t[n]=e[n];break;case"filterDevice":case"filterDevtool":case"filterPackageGroup":case"filterCompiler":case"filterIde":case"filterKernel":case"filterLanguage":case"filterResourceClass":case"filterNode":t[n]=(0,We.Z)(e[n]||[]);break;default:(0,w.vE)(n)}})),t}function st(e){var t=e.split("?");return Be.Qc(2===t.length?t[1]:"")}function ut(e){return"string"==typeof e?e:f.includes(e.stack||"",e.message||"")?e.stack||"":"".concat(e.message||"","\n").concat(e.stack||"")}!function(e){var t;(t=e.InputType||(e.InputType={})).FILTER_DATA_ONLY="FilterDataOnly",t.NODE_DATA="NodeData",t.TABLE_ITEM_DATA="TableItemData"}(He||(He={}));var lt=n(34155);function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(){return lt.hrtime()}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return Number((1e3*lt.hrtime(e)[0]+1e-6*lt.hrtime(e)[1]).toPrecision(t))}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===lt?"undefined":ft(lt))&&lt.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===ft(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var ht=n(32757),yt=n(6495),vt=n(77960);ht.use(yt),ht.use(vt);var bt=ht,gt=(ht.expect,n(34155));function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function wt(e,t){e.setEncoding("binary"),e.on("data",(function(e){})),e.on("error",t),e.on("end",(function(){t(null,{})}))}function Pt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===gt?"undefined":mt(gt))&&gt.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===mt(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var Dt,Ot=function(){function e(t){var n=t.mode,r=t.role;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mode=n,this.role=r}var t,n,r;return t=e,n=[{key:"getNodes",value:function(t){var n=t.ids,r=t.data;if(n.includes(r.rootNode)||!e.isValidArrayParam(n))throw new Xe.F7("Client Error","400");var o=n.map((function(e){return r.nodeData[e]||null}));if(o.includes(null))throw new Xe.F7("Not Found","404");var i=o.reduce((function(e,t){return e.dbIdToData[t.nodeDbId]=t,e}),{dbIdToData:{}});return e.asPayload(i,r)}},{key:"getNodesExtended",value:function(t){var n=t.id,r=t.data;if(!n||n===r.rootNode)throw new Xe.F7("Client Error","400");var o=r.nodeDataExtended[n]||null;if(!o)throw new Xe.F7("Not Found","404");return e.asPayload({dbIdToChildExtData:kt({},n,o)},r)}},{key:"getFilteredChildrenNodeIds",value:function(t){var n=t.parentIds,r=t.data,o=t.filter;if(!e.isValidArrayParam(n))throw new Xe.F7("Client Error","400");var i=n.map((function(t){var n=r.hierarchy[t];if(!n)throw new Xe.F7("Not Found","404");var i=n.filter((function(t){return e.filterNode(t,r,o)}));return{parentId:t,childrenNodeIds:i}})).reduce((function(e,t){var n=t.parentId,r=t.childrenNodeIds;return e.parentToChildDbId[n]=r,e}),{parentToChildDbId:{}});return e.asPayload(i,r)}},{key:"getExpandedFilteredDescendantNodesData",value:function(t){var n=t.parentId,r=t.data,o=t.filter;if(!n)throw new Xe.F7("Client Error","400");for(var i=this.getSingleNodePath({parentId:n,data:r,filter:o}),a={parentToChildData:{}},c=0;c<i.length-1;c++)a.parentToChildData[i[c].nodeDbId]=[i[c+1]];var s=f.isEmpty(i)?r.nodeData[n]:i[i.length-1];if(s.descriptor.hasChildren){var u=this.getFilteredChildrenNodeIds({parentIds:[s.nodeDbId],data:r,filter:o}).payload.parentToChildDbId[s.nodeDbId];f.isEmpty(u)||(a.parentToChildData[s.nodeDbId]=u.map((function(e){return r.nodeData[e]})))}return e.asPayload(a,r)}},{key:"getFilteredTableItemsData",value:function(t){var n=t.parentNodeDbId,r=t.data,o=t.filter,i=Object.values(r.tableItemFilterData).find((function(e){return e.tableItemNodeDbId===n}));if(!i)throw new Xe.F7("Not found","404");var a=r.tableItemHierarchy[i.tableItemDbId];if(!a)throw new Xe.F7("Not found","404");var c=a.filter((function(t){return e.filterTableItem(t,r,o)})).map((function(e){var t=r.tableItemData[e];if(!t)throw new Xe.F7("Not found","404");return t}));return e.asPayload({parentToChildDbId:kt({},n,c)},r)}},{key:"getNodeDataForTableItemVariant",value:function(e){var t=e.tableItemDbId,n=e.variantCompiler,r=e.variantKernel,o=e.data,i=o.tableItemFilterData[t];if(!i)throw new Xe.F7("Not Found","404");var a=(0,te.qd)({compiler:n,kernel:r}),c=i.variants[a];if(!c)throw new Xe.F7("Variant not found ".concat(a),"404");return this.getNodes({ids:[c],data:o})}},{key:"getSearchSuggestions",value:function(t){var n=t.text,r=t.data,o=f.flatten((0,w.Zt)(r.filterData).map((function(e){return r.filterData[e].filter((function(e){return e.name.includes(n)})).map((function(e){return e.name}))})));return e.asPayload(o,r)}},{key:"getNodeDownload",value:function(e){throw It(e),new Xe.F7("Not implemented","500")}},{key:"getImportProject",value:function(e){throw It(e),new Xe.F7("Not implemented","500")}},{key:"getImportInfo",value:function(t){var n=t.id,r=t.data,o=t.filter;if(!r.nodeFilterData[n])throw new Xe.F7("Not found","404");var i=r.nodeFilterData[n].filterData,a=o.filterDevice&&!f.isEmpty(o.filterDevice)?f.intersection(i.filterDevice||[],o.filterDevice):i.filterDevice||[],c=o.filterDevtool&&!f.isEmpty(o.filterDevtool)?f.intersection(i.filterDevtool||[],o.filterDevtool):i.filterDevtool||[];return e.asPayload({targets:[].concat(Pt(a),Pt(c)),location:"".concat(n,"/some/path"),resourceType:"project.ccs"},r)}},{key:"getServerConfig",value:function(t){var n=t.data;return e.asPayload({mode:this.mode,role:this.role,rootNodeDbId:n.rootNode,softwareNodePublicId:n.softwareNodePublicId,version:"1.0.0",offline:!1},n)}},{key:"getRootNode",value:function(t){var n=t.data;return e.asPayload(n.rootNode,n)}},{key:"getPackages",value:function(t){var n=t.data;return e.asPayload(n.packages,n)}},{key:"getPackageGroups",value:function(t){var n=t.data;return e.asPayload(n.packageGroups,n)}},{key:"getFilterOptions",value:function(t){var n=t.data;return e.asPayload(n.filterData,n)}},{key:"getNodePublicIdToDbId",value:function(t){var n=t.nodePublicId,r=t.packageGroupPublicUid,o=t.data;if(r){var i=Object.values(o.nodeData).find((function(e){return e.nodePublicId===n&&e.packageGroupPublicUid===r})),a=o.packageGroups.find((function(e){return e.packageGroupPublicUid===r}));if(!i||!a)throw new Xe.F7("Not found","404");return e.asPayload(i.nodeDbId,o)}var c=Object.values(o.nodeData).find((function(e){return e.nodePublicId===n}));if(!c)throw new Xe.F7("Not found","404");if(c.packageGroupPublicUid)throw new Xe.F7("Node has a group wtih uid ".concat(c.packageGroupPublicUid),"400");return e.asPayload(c.nodeDbId,o)}},{key:"getRex3LinkToDbId",value:function(t){var n=t.linkField,r=t.data,o=r.rex3Links[n];if(!o)throw new Xe.F7("Not found","404");return e.asPayload(o,r)}},{key:"getSingleNodePath",value:function(e){var t=e.parentId,n=e.data,r=e.filter,o=e.accum,i=void 0===o?[]:o,a=n.nodeData[t];if(a){i=i.concat(a);var c=a.descriptor.hasChildren&&this.getFilteredChildrenNodeIds({parentIds:[t],data:n,filter:r}).payload.parentToChildDbId[t];return c&&1===c.length?this.getSingleNodePath({parentId:c[0],data:n,filter:r,accum:i}):i}throw new Xe.F7("Not Found","404")}}],r=[{key:"asPayload",value:function(e,t){return{payload:e,sideBand:{sessionId:t.sessionId}}}},{key:"isValidArrayParam",value:function(e){return e.length>0&&!(1===e.length&&!e[0])}},{key:"filterNode",value:function(t,n,r){var o=n.nodeData[t],i=n.nodeFilterData[t];if(o){if(e.passesFilter(i.filterData,r,i.nodeType))return!0;var a=n.hierarchy[o.nodeDbId],c=!!a&&a.map((function(t){return e.filterNode(t,n,r)})).reduce((function(e,t){return e||t}),!1);return c}return!1}},{key:"filterTableItem",value:function(t,n,r){var o=n.tableItemData[t],i=n.tableItemFilterData[t];if(o){if(e.passesFilter(i.filterData,r,null))return!0;var a=n.hierarchy[o.tableItemDbId],c=!!a&&a.map((function(t){return e.filterNode(t,n,r)})).reduce((function(e,t){return e||t}),!1);return c}return!1}},{key:"passesFilter",value:function(e,t,n){var r=e.filterDevice,o=e.filterDevtool,i=e.filterPackageGroup,a=e.filterSearch,c=e.filterCompiler,s=e.filterKernel,u=e.filterIde,l=e.filterLanguage,p=e.filterResourceClass,d=t.filterDevice,h=t.filterDevtool,y=t.filterPackageGroup,v=t.filterSearch,b=t.filterNode,g=t.filterCompiler,m=t.filterKernel,w=t.filterIde,P=t.filterLanguage,T=t.filterResourceClass,I=!0;return[{filters:d,items:r},{filters:h,items:o},{filters:g,items:c},{filters:m,items:s},{filters:w,items:u},{filters:P,itemss:l},{filters:T,items:p}].forEach((function(e){var t=e.filters,n=e.items;f.isEmpty(t)||(I=I&&!!t&&!!n&&!!n.find((function(e){return!!t.find((function(t){return t===e}))})))})),f.isEmpty(i)||(I=I&&!!i&&!!i.find((function(e){return!!y.find((function(t){return t===e}))}))),v&&(I=I&&!!a&&a===v),!f.isEmpty(b)&&n&&(I=I&&!!b&&!!b.find((function(e){return e===n}))),I}}],n&&jt(t.prototype,n),r&&jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.PROXY_SERVER="proxyServer",e.FAKE_SERVER="fakeServer"}(Dt||(Dt={}));var St=function(){function e(t){var r=this,o=t.serverType,i=t.mode,a=void 0===i?"remoteserver":i,c=t.role,s=void 0===c?"":c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setupTestCalled=!1;var u=n.g.XMLHttpRequest;this.server=l.BX.create(),this.fakeXML=l.gj(),n.g.XMLHttpRequest=u,this.serverMode=o,this.serverHarness=function(){return r.serverHarnessInner||(r.serverHarnessInner=new Ot({mode:a,role:s})),r.serverHarnessInner}}var t,r;return t=e,r=[{key:"setupTestFakeServer",value:function(e){var t=this;if(this.serverMode===Dt.FAKE_SERVER){if(this.fakeXML.useFilters=!0,this.fakeXML.addFilter((function(e,t){return/^(?!api).*/.test(t)})),!(0,te.L6)()&&!window)throw new Error("Need to setup window object");window.fakeXML=this.fakeXML;var n=function(e,t,n){var r=ot(t);return e.autoRespond=!0,e.respondWith("GET",Je("api",void 0,{end:!1}),(function(e){var t=e.url.split("?")[0];Je("api/nodesData").test(t)?function(e,t,n){var r=st(e.url),o=(0,We.Z)(r.dbId);try{var i=n.getNodes({ids:o,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}catch(t){at(t,e)}}(e,r,n):Je("api/nodeExtendedData").test(t)?function(e,t,n){var r=st(e.url);try{var o=n.getNodesExtended({id:r.dbId,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){at(t,e)}}(e,r,n):Je("api/filteredChildrenNodeIds").test(t)?function(e,t,n){var r=st(e.url),o=(0,We.Z)(r.parentDbId),i=ct(r);try{var a=n.getFilteredChildrenNodeIds({parentIds:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){at(t,e)}}(e,r,n):Je("api/expandedFilteredDescendantNodesData").test(t)?function(e,t,n){var r=st(e.url),o=r.parentDbId,i=ct(r);try{var a=n.getExpandedFilteredDescendantNodesData({parentId:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){at(t,e)}}(e,r,n):Je("api/filteredTableItemsData").test(t)?function(e,t,n){var r=st(e.url),o=r.parentDbId,i=ct(r);try{var a=n.getFilteredTableItemsData({parentNodeDbId:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){at(t,e)}}(e,r,n):Je("api/nodeDataForTableItemVariant").test(t)?function(e,t,n){var r=st(e.url),o=r.tableItemDbId,i=r.variantCompiler,a=r.variantKernel;try{var c=n.getNodeDataForTableItemVariant({tableItemDbId:o,variantCompiler:i,variantKernel:a,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(c))}catch(t){at(t,e)}}(e,r,n):Je("api/filterOptions").test(t)?function(e,t,n){try{var r=n.getFilterOptions({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(r))}catch(t){at(t,e)}}(e,r,n):Je("api/rootNode").test(t)?function(e,t,n){try{var r=n.getRootNode({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(r))}catch(t){at(t,e)}}(e,r,n):Je("api/searchSuggestions").test(t)?function(e,t,n){var r=st(e.url),o=r.text,i=ct(r);try{var a=n.getSearchSuggestions({data:t,text:o,filter:i});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){at(t,e)}}(e,r,n):Je("api/packages").test(t)?function(e,t,n){try{var r=n.getPackages({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(r))}catch(t){at(t,e)}}(e,r,n):Je("api/packageGroups").test(t)?function(e,t,n){try{var r=n.getPackageGroups({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(r))}catch(t){at(t,e)}}(e,r,n):Je("api/nodeDownload").test(t)?function(e,t,n){var r=st(e.url).dbId;try{var o=n.getNodeDownload({data:t,dbId:r});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){at(t,e)}}(e,r,n):Je("api/importProject").test(t)?function(e,t,n){var r=st(e.url),o=r.dbId,i=r.targetId;try{var a=n.getImportProject({data:t,dbId:o,targetId:i});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){at(t,e)}}(e,r,n):Je("api/importInfo").test(t)?function(e,t,n){var r=st(e.url),o=ct(r);try{var i=n.getImportInfo({data:t,filter:o,id:r.dbId});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}catch(t){at(t,e)}}(e,r,n):Je("api/serverConfig").test(t)?function(e,t,n){try{var r=n.getServerConfig({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(r))}catch(t){at(t,e)}}(e,r,n):Je("api/nodePublicIdToDbId").test(t)?function(e,t,n){var r=st(e.url);try{if("ToDbIdNotLatest"===r.toDbIdType||"ToDbIdLatest"===r.toDbIdType){var o=n.getNodePublicIdToDbId({data:t,nodePublicId:r.nodePublicId,packageGroupPublicUid:r.packageGroupPublicUid});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}else{var i=n.getNodePublicIdToDbId({data:t,nodePublicId:r.nodePublicId,packageGroupPublicUid:null});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}}catch(t){at(t,e)}}(e,r,n):Je("api/rex3LinkToDbId").test(t)?function(e,t,n){var r=st(e.url);try{var o=n.getRex3LinkToDbId({data:t,linkField:r.linkField});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){at(t,e)}}(e,r,n):e.respond(404,{},"Unhandled api ".concat(e.url))})),r}(this.server,e,this.serverHarness()),r=document.getElementById.bind(document);return this.getElementByIdStub=l.BM(document,"getElementById").callsFake((function(e){return"server-config"===e?{innerHTML:JSON.stringify(t.serverHarness().getServerConfig({data:n}).payload)}:r(e)})),this.setupTestCalled=!0,Promise.resolve()}return Promise.reject("Unable to set up fake server, AjaxHarness is configured for a proxy server.")}},{key:"setupTestProxyServer",value:function(e,t){if(this.serverMode===Dt.PROXY_SERVER){!function(e,t,n){function r(r,i){e.respondWith("GET",r,(function(r){return new Promise((function(a,c){var s,u,l;e.requests=[],s=pt();var f=function(){return a()}.$asyncbind(this,c),p=function(e){return o(e,r,s),f()}.$asyncbind(this,c);try{return r.readyState=4,u=bt.request(t).get(r.url),i&&(u=u.buffer().parse(wt)),u.then(function(e){return l=e,n&&n(r.url,l,dt(s)),r.readyState=1,r.respond(l.status,l.header,JSON.stringify(l.body)),f()}.$asyncbind(this,p),p)}catch(e){p(e)}}))}))}function o(e,t,r){n&&n(t.url,e,dt(r)),t.readyState=XMLHttpRequest.OPENED,e.status&&t.respond(parseInt(e.status),{},e.message)}e.respondImmediately=!0,r(/^api.*/,!1),r(/^content.*/,!0),e.respondWith("GET",/^(?!api)(?!content).*/,(function(e){o(new Error("unknown url: ".concat(e.url)),e,pt())}))}(this.server,e,t);var n=document.getElementById.bind(document);return this.getElementByIdStub=l.BM(document,"getElementById").callsFake((function(e){if("server-config"===e)throw new Error("Getting server config from real server not implmemented");return n(e)})),this.setupTestCalled=!0,Promise.resolve()}return Promise.reject("Unable to set up proxy server, AjaxHarness is configured for a fake server.")}},{key:"getRequests",value:function(){return this.server.requests}},{key:"cleanup",value:function(){if(this.cleanupWithoutSetupTest(),!this.setupTestCalled)throw new Error("Never called setupTest");this.cleanupWithSetupTest()}},{key:"cleanupWithoutSetupTest",value:function(){this.server.restore(),window.fakeXML=null}},{key:"cleanupWithSetupTest",value:function(){this.getElementByIdStub.restore()}}],r&&Et(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ft=n(34155);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}Function.prototype.$asyncbind=function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function i(a){for(;a;){if(a.then)return a=a.then(i,r),o?void 0:a;try{if(a.pop){if(a.length)return a.pop()?t.call(e):a;a=n}else a=a.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var i=o?o(r):r;if(n===i)return n.reject(new TypeError("Promise resolution loop"));e(i)?i.then((function(e){t(n,e)}),(function(e){n.reject(e)})):n.resolve(i)}catch(e){n.reject(e)}}function n(e){}function r(){}function o(n,o){var i=new r;try{this._resolver((function(r){return e(r)?r.then(n,o):t(i,r,n)}),(function(e){t(i,e,o)}))}catch(e){t(i,e,o)}return i}function i(e){this._resolver=e,this.then=o}return r.prototype={resolve:n,reject:n,then:function(e,t){this.resolve=e,this.reject=t}},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory=function(e){e=e||"object"===(void 0===Ft?"undefined":Ct(Ft))&&Ft.nextTick||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,0)};var t=function(){var t=[],n=0;function r(){for(;t.length-n;){try{t[n]()}catch(e){}t[n++]=void 0,1024===n&&(t.splice(0,1024),n=0)}}return function(o){t.push(o),t.length-n==1&&e(r)}}();function n(e){if(e){var t=this;e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}}function r(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function o(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}return n.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(e&&("function"==typeof e||"object"===Ct(e)))try{var o=0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o++||n.resolve(e)}),(function(e){o++||n.reject(e)}))}catch(e){return void(o||this.reject(e))}this.state=r,this.v=e,n.c&&t((function(){for(var t=0,o=n.c.length;t<o;t++)r(n.c[t],e)}))}},reject:function(e){if(void 0===this.state){this.state=o,this.v=e;var n=this.c;n&&t((function(){for(var t=0,r=n.length;t<r;t++)o(n[t],e)}))}},then:function(e,r){var o=new n,i={y:e,n:r,p:o};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var a=this.state,c=this.v;t((function(){a(i,c)}))}return o}},n.resolve=function(e){if(e&&e instanceof n)return e;var t=new n;return t.resolve(e),t},n.reject=function(e){if(e&&e instanceof n)return e;var t=new n;return t.reject(e),t},n.version="2.3.3-nodent",n})());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}};var Nt=null;function At(e,t){return new Promise((function(n,r){return Nt?r(new Error("AjaxHarness not cleared before calling setup")):(Nt=new St({serverType:Dt.FAKE_SERVER,role:""})).setupTestFakeServer(e).then(function(e){return(0,te.L6)()&&(window.initialPage=t),n()}.$asyncbind(this,r),r)}))}function Lt(){Nt&&Nt.cleanup(),Nt=null}function _t(){if(!Nt)throw new Error("trying to call getFakeServerRequests before calling setup");return Nt.getRequests()}function xt(e){var t=window.appPropsInitial;if(!t)throw new Error("appProps not set");t.history.push(e)}function Ut(){var e=window.appPropsInitial;e&&(e.apis._getCacheInterface().clearCache(),e.localApis._clearCachedData(),e.autoDetect._reset(),e.mountComponentTemporarily._reset(),(0,te.Nf)())}var Rt={MockAgent:r,CreateAppProps:o,GetPromiseReplacement:i,PromiseSyncronizationHelpers:a,FakeServerHelpers:c,UrlHelpers:s,ClearCaches:u}},14793:()=>{},5840:()=>{},13432:()=>{},69862:()=>{},40964:()=>{}}]);